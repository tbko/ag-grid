var ag;!function(e){var t;!function(e){var t=function(){function t(e){this.type=e}return t.prototype.toString=function(){var e="ColumnChangeEvent {type: "+this.type;return this.column&&(e+=", column: "+this.column.colId),this.columnGroup&&(e+=", columnGroup: "+this.columnGroup.name),this.fromIndex&&(e+=", fromIndex: "+this.fromIndex),this.toIndex&&(e+=", toIndex: "+this.toIndex),this.pinnedColumnCount&&(e+=", pinnedColumnCount: "+this.pinnedColumnCount),"boolean"==typeof this.finished&&(e+=", finished: "+this.finished),e+="}"},t.prototype.withColumn=function(e){return this.column=e,this},t.prototype.withFinished=function(e){return this.finished=e,this},t.prototype.withColumnGroup=function(e){return this.columnGroup=e,this},t.prototype.withFromIndex=function(e){return this.fromIndex=e,this},t.prototype.withPinnedColumnCount=function(e){return this.pinnedColumnCount=e,this},t.prototype.withToIndex=function(e){return this.toIndex=e,this},t.prototype.getFromIndex=function(){return this.fromIndex},t.prototype.getToIndex=function(){return this.toIndex},t.prototype.getPinnedColumnCount=function(){return this.pinnedColumnCount},t.prototype.getType=function(){return this.type},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnGroup=function(){return this.columnGroup},t.prototype.isPivotChanged=function(){return this.type===e.Events.EVENT_COLUMN_PIVOT_CHANGE||this.type===e.Events.EVENT_COLUMN_EVERYTHING_CHANGED},t.prototype.isValueChanged=function(){return this.type===e.Events.EVENT_COLUMN_VALUE_CHANGE||this.type===e.Events.EVENT_COLUMN_EVERYTHING_CHANGED},t.prototype.isIndividualColumnResized=function(){return this.type===e.Events.EVENT_COLUMN_RESIZED&&void 0!==this.column&&null!==this.column},t.prototype.isFinished=function(){return this.finished},t}();e.ColumnChangeEvent=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,i=/([^\s,]+)/g,o=function(){function e(){}return e.getTextWidth=function(e,t){var i,o;return this.canvas||(this.canvas=document.createElement("canvas")),i=this.canvas.getContext("2d"),i.font=t,o=i.measureText(e),parseInt(o.width)},e.getWidthHeight=function(e,t,i,o){e=e?e.toString():"";for(var r=e.split(" "),n=0,s=0,l=0,a=0,d=[],u="",p="",h=this.getTextWidth(" ",i),c=0;c<r.length;c++){var g=r[c],f=this.getTextWidth(g,i);if(n+f>t){n>a&&(a=n);var u=e.substr(l,s);if(u.length&&(c--,n=f,l+=s,d.push(u)),p=e.substr(l-s),d.length===o&&p.length){d.pop(),d.push(p);break}s=0}else n+=f+h,s+=g.length+1,p=e.substr(l),c===r.length-1&&p.length&&d.push(p)}return 0===a&&(a=t),0===d.length&&d.push(e),{outputLines:d,numLines:d.length,maxWidth:a}},e.iterateObject=function(e,t){for(var i=Object.keys(e),o=0;o<i.length;o++){var r=i[o],n=e[r];t(r,n)}},e.cloneObject=function(e){for(var t={},i=Object.keys(e),o=0;o<i.length;o++){var r=i[o],n=e[r];t[r]=n}return t},e.map=function(e,t){for(var i=[],o=0;o<e.length;o++){var r=e[o],n=t(r);i.push(n)}return i},e.forEach=function(e,t){if(e)for(var i=0;i<e.length;i++){var o=e[i];t(o,i)}},e.filter=function(e,t){var i=[];return e.forEach(function(e){t(e)&&i.push(e)}),i},e.assign=function(t,i){e.iterateObject(i,function(e,i){t[e]=i})},e.getFunctionParameters=function(e){var o=e.toString().replace(t,""),r=o.slice(o.indexOf("(")+1,o.indexOf(")")).match(i);return null===r?[]:r},e.find=function(e,t,i){if(null===e||void 0===e)return null;for(var o=0;o<e.length;o++)if(e[o][t]===i)return e[o];return null},e.toStrings=function(e){return this.map(e,function(e){return void 0!==e&&null!==e&&e.toString?e.toString():null})},e.iterateArray=function(e,t){for(var i=0;i<e.length;i++){var o=e[i];t(o,i)}},e.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},e.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.isNodeOrElement=function(e){return this.isNode(e)||this.isElement(e)},e.addChangeListener=function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},e.simulateEvent=function(e,t,i){function o(e,t){for(var i in t)e[i]=t[i];return e}var r,n={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll|DOMMouseScroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out|enter|leave|wheel))$/},s={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},l=o(s,i||{}),a=null;for(var d in n)if(n[d].test(t)){a=d;break}if(!a)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)r=document.createEvent(a),r="HTMLEvents"==a?new Event(t,l):new MouseEvent(t,l),e.dispatchEvent(r);else{l.clientX=l.pointerX,l.clientY=l.pointerY;var u=new Event(t);r=o(u,l),e.dispatchEvent(r)}return e},e.makeNull=function(e){return null===e||void 0===e||""===e?null:e},e.removeAllChildren=function(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)},e.removeElement=function(e,t){this.removeFromParent(e.querySelector(t))},e.removeFromParent=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},e.isVisible=function(e){return null!==e.offsetParent},e.loadTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},e.querySelectorAll_addCssClass=function(e,t,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.addCssClass(o[r],i)},e.querySelectorAll_removeCssClass=function(e,t,i){for(var o=e.querySelectorAll(t),r=0;r<o.length;r++)this.removeCssClass(o[r],i)},e.querySelectorAll_replaceCssClass=function(e,t,i,o){for(var r=e.querySelectorAll(t),n=0;n<r.length;n++)this.removeCssClass(r[n],i),this.addCssClass(r[n],o)},e.addOrRemoveCssClass=function(e,t,i){i?this.addCssClass(e,t):this.removeCssClass(e,t)},e.addCssClass=function(e,t){if(e.className&&e.className.length>0){var i=e.className.split(" ");i.indexOf(t)<0&&(i.push(t),e.className=i.join(" "))}else e.className=t},e.findParentWithClass=function(e,t){return e.className.split(" ").indexOf(t)>=0?e:e.parentNode&&this.findParentWithClass(e.parentNode,t)},e.offsetHeight=function(e){return e&&e.clientHeight?e.clientHeight:0},e.offsetWidth=function(e){return e&&e.clientWidth?e.clientWidth:0},e.removeCssClass=function(e,t){if(e.className&&e.className.length>0){var i=e.className.split(" "),o=i.indexOf(t);o>=0&&(i.splice(o,1),e.className=i.join(" "))}},e.removeFromArray=function(e,t){e.indexOf(t)>=0&&e.splice(e.indexOf(t),1)},e.defaultComparator=function(e,t){var i=null===e||void 0===e,o=null===t||void 0===t;return i&&o?0:i?-1:o?1:t>e?-1:e>t?1:0},e.formatWidth=function(e){return"number"==typeof e?e+"px":e},e.useRenderer=function(e,t,i){var o=t(i);if("string"==typeof o){var r=document.createElement("span");r.innerHTML=o,e.appendChild(r)}else this.isNodeOrElement(o)&&e.appendChild(o)},e.createIcon=function(e,t,i,o){var r,n=document.createElement("span");if(i&&i.colDef.icons&&(r=i.colDef.icons[e]),!r&&t.getIcons()&&(r=t.getIcons()[e]),r){var s;if("function"==typeof r)s=r();else{if("string"!=typeof r)throw"icon from grid options needs to be a string or a function";s=r}if("string"==typeof s)n.innerHTML=s;else{if(!this.isNodeOrElement(s))throw"iconRenderer should return back a string or a dom object";n.appendChild(s)}}else n.appendChild(o());return n},e.addStylesToElement=function(e,t){Object.keys(t).forEach(function(i){e.style[i]=t[i]})},e.getScrollbarWidth=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var o=i.offsetWidth;return e.parentNode.removeChild(e),t-o},e.isKeyPressed=function(e,t){var i=e.which||e.keyCode;return i===t},e.setVisible=function(e,t){t?e.style.display="inline":e.style.display="none"},e.isBrowserIE=function(){return this.isIE},e.isBrowserSafari=function(){return this.isSafari},e.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,e.isIE=!!document.documentMode,e}();e.Utils=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.ASC="asc",e.DESC="desc",e.ROW_BUFFER_SIZE=20,e.MIN_COL_WIDTH=10,e.SUM="sum",e.MIN="min",e.MAX="max",e.KEY_TAB=9,e.KEY_ENTER=13,e.KEY_BACKSPACE=8,e.KEY_DELETE=46,e.KEY_ESCAPE=27,e.KEY_SPACE=32,e.KEY_DOWN=40,e.KEY_UP=38,e.KEY_LEFT=37,e.KEY_RIGHT=39,e}();e.Constants=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Constants,i=function(){function e(t,i){this.colDef=t,this.actualWidth=i,this.visible=!t.hide,this.sort=t.sort,this.sortedAt=t.sortedAt,t.colId?this.colId=t.colId:t.field?this.colId=t.field:this.colId=""+e.colIdSequence++}return e.prototype.isGreaterThanMax=function(e){return this.colDef.maxWidth>=t.MIN_COL_WIDTH?e>this.colDef.maxWidth:!1},e.prototype.getMinimumWidth=function(){return this.colDef.minWidth>t.MIN_COL_WIDTH?this.colDef.minWidth:t.MIN_COL_WIDTH},e.prototype.setMinimum=function(){this.actualWidth=this.getMinimumWidth()},e.colIdSequence=0,e}();e.Column=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(e,t){this.allColumns=[],this.displayedColumns=[],this.expandable=!1,this.expanded=!1,this.pinned=e,this.name=t}return e.prototype.getMinimumWidth=function(){var e=0;return this.displayedColumns.forEach(function(t){e+=t.getMinimumWidth()}),e},e.prototype.addColumn=function(e){this.allColumns.push(e)},e.prototype.getVisibleColumnsCount=function(){return this.displayedColumns.length},e.prototype.calculateExpandable=function(){for(var e=!1,t=!1,i=!1,o=0,r=this.allColumns.length;r>o;o++){var n=this.allColumns[o];"open"===n.colDef.headerGroupShow?(e=!0,i=!0):"closed"===n.colDef.headerGroupShow?(t=!0,i=!0):(e=!0,t=!0)}this.expandable=e&&t&&i},e.prototype.calculateActualWidth=function(){var e=0;this.displayedColumns.forEach(function(t){e+=t.actualWidth}),this.actualWidth=e},e.prototype.calculateDisplayedColumns=function(){if(this.displayedColumns=[],!this.expandable)return void(this.displayedColumns=this.allColumns);for(var e=0,t=this.allColumns.length;t>e;e++){var i=this.allColumns[e];switch(i.colDef.headerGroupShow){case"open":this.expanded&&this.displayedColumns.push(i);break;case"closed":this.expanded||this.displayedColumns.push(i);break;default:this.displayedColumns.push(i)}}},e.prototype.addToVisibleColumns=function(e){for(var t=0;t<this.displayedColumns.length;t++){var i=this.displayedColumns[t];e.push(i)}},e}();e.ColumnGroup=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){function t(e){return e===!0||"true"===e}var i=25,o=e.Constants,r=function(){function e(){}return e.prototype.init=function(e,t){this.gridOptions=e,this.headerHeight=e.headerHeight,this.groupHeaders=e.groupHeaders,this.rowHeight=e.rowHeight,this.rowHeightExtra=e.rowHeightExtra,this.floatingTopRowData=e.floatingTopRowData,this.floatingBottomRowData=e.floatingBottomRowData,t.addGlobalListener(this.globalEventHandler.bind(this)),this.rowHeight||(this.rowHeight=i),this.checkForDeprecated()},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isRowDeselection=function(){return t(this.gridOptions.rowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isVirtualPaging=function(){return t(this.gridOptions.virtualPaging)},e.prototype.isShowToolPanel=function(){return t(this.gridOptions.showToolPanel)},e.prototype.isToolPanelSuppressPivot=function(){return t(this.gridOptions.toolPanelSuppressPivot)},e.prototype.isToolPanelSuppressValues=function(){return t(this.gridOptions.toolPanelSuppressValues)},e.prototype.isRowsAlreadyGrouped=function(){return t(this.gridOptions.rowsAlreadyGrouped)},e.prototype.isGroupSelectsChildren=function(){return t(this.gridOptions.groupSelectsChildren)},e.prototype.isGroupHidePivotColumns=function(){return t(this.gridOptions.groupHidePivotColumns)},e.prototype.isGroupIncludeFooter=function(){return t(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return t(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return t(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return t(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return t(this.gridOptions.suppressMultiSort)},e.prototype.isGroupSuppressAutoColumn=function(){return t(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isForPrint=function(){return t(this.gridOptions.forPrint)},e.prototype.isSuppressHorizontalScroll=function(){return t(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressLoadingOverlay=function(){return t(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return t(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isUnSortIcon=function(){return t(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return t(this.gridOptions.suppressMenuHide)},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.isEnableColResize=function(){return t(this.gridOptions.enableColResize)},e.prototype.isSingleClickEdit=function(){return t(this.gridOptions.singleClickEdit)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getGroupKeys=function(){return this.gridOptions.groupKeys},e.prototype.getGroupAggFunction=function(){return this.gridOptions.groupAggFunction},e.prototype.getGroupAggFields=function(){return this.gridOptions.groupAggFields},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(){return t(this.gridOptions.groupUseEntireRow)},e.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef},e.prototype.isGroupSuppressRow=function(){return t(this.gridOptions.groupSuppressRow)},e.prototype.isAngularCompileRows=function(){return t(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return t(this.gridOptions.angularCompileFilters)},e.prototype.isAngularCompileHeaders=function(){return t(this.gridOptions.angularCompileHeaders)},e.prototype.isDebug=function(){return t(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.isEnableSorting=function(){return t(this.gridOptions.enableSorting)||t(this.gridOptions.enableServerSideSorting)},e.prototype.isEnableCellExpressions=function(){return t(this.gridOptions.enableCellExpressions)},e.prototype.isEnableServerSideSorting=function(){return t(this.gridOptions.enableServerSideSorting)},e.prototype.isEnableFilter=function(){return t(this.gridOptions.enableFilter)||t(this.gridOptions.enableServerSideFilter)},e.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter},e.prototype.isSuppressScrollLag=function(){return t(this.gridOptions.suppressScrollLag)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getIsScrollLag=function(){return this.gridOptions.isScrollLag},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getSlaveGrids=function(){return this.gridOptions.slaveGrids},e.prototype.getGroupRowRenderer=function(){return this.gridOptions.groupRowRenderer},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getRowHeightExtra=function(){return this.rowHeightExtra},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.getFont=function(){return this.gridOptions.font},e.prototype.getGroupShiftWidth=function(){return this.gridOptions.groupShiftWidth},e.prototype.getGroupControlWidth=function(){return this.gridOptions.groupControlWidth},e.prototype.getWidthGap=function(){return this.gridOptions.widthGap},e.prototype.getMaxRows=function(){return this.gridOptions.maxRows},e.prototype.getMinRows=function(){return this.gridOptions.minRows},e.prototype.setMetrics=function(e){this.gridOptions.metrics=e},e.prototype.getFullRowHeight=function(){var e=this.gridOptions.metrics.row;return e.height},e.prototype.getBaseRowHeight=function(){var e=this.gridOptions.metrics.row;return e.height-e.paddingTop-e.paddingBottom},e.prototype.getPaddingRowHeight=function(){var e=this.gridOptions.metrics.row;return e.paddingTop+e.paddingBottom},e.prototype.getFullHeaderHeight=function(){var e=this.gridOptions.metrics.header;return e.height},e.prototype.getHeaderHeight=function(){var e=1;return this.groupHeaders&&(e=2),"number"==typeof this.headerHeight?this.headerHeight*e+1:this.groupHeaders?50:25},e.prototype.setHeaderHeight=function(e){this.headerHeight=e},e.prototype.isGroupHeaders=function(){return t(this.groupHeaders)},e.prototype.setGroupHeaders=function(e){this.groupHeaders=e},e.prototype.getFloatingTopRowData=function(){return this.floatingTopRowData},e.prototype.setFloatingTopRowData=function(e){this.floatingTopRowData=e},e.prototype.getFloatingBottomRowData=function(){return this.floatingBottomRowData},e.prototype.setFloatingBottomRowData=function(e){this.floatingBottomRowData=e},e.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent?this.gridOptions.isExternalFilterPresent():!1},e.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass?this.gridOptions.doesExternalFilterPass(e):!1},e.prototype.getGroupRowInnerRenderer=function(){return this.gridOptions.groupRowInnerRenderer},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){return"number"==typeof this.gridOptions.rowBuffer?(this.gridOptions.rowBuffer<0&&console.warn("ag-Grid: rowBuffer should not be negative"),this.gridOptions.rowBuffer):o.ROW_BUFFER_SIZE},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortOrder instead."),e.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortOrder instead.")},e.prototype.getPinnedColCount=function(){return this.isForPrint()?0:this.gridOptions.pinnedColumnCount?Number(this.gridOptions.pinnedColumnCount):0},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this;return function(t,i){var o=e.gridOptions.localeText;return o&&o[t]?o[t]:i}},e.prototype.globalEventHandler=function(e,t){var i=this.getCallbackForEvent(e);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](t)},e.prototype.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e}();e.GridOptionsWrapper=r}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.init=function(e){this.logging=e.isDebug()},e.prototype.create=function(e){return new i(e,this.logging)},e}();e.LoggerFactory=t;var i=function(){function e(e,t){this.name=e,this.logging=t}return e.prototype.log=function(e){this.logging&&console.log("ag-Grid."+this.name+": "+e)},e}();e.Logger=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_COLUMN_PIVOT_CHANGE="columnPivotChanged",e.EVENT_COLUMN_VALUE_CHANGE="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_COLUMN_PINNED_COUNT_CHANGED="columnPinnedCountChanged",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_ROW_DESELECTED="rowDeselected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_BEFORE_FILTER_CHANGED="beforeFilterChanged",e.EVENT_AFTER_FILTER_CHANGED="afterFilterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_BEFORE_SORT_CHANGED="beforeSortChanged",e.EVENT_AFTER_SORT_CHANGED="afterSortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_READY="ready",e.EVENT_MULTITOOL_CLICK="multitoolClicked",e.EVENT_SELECTION_STATE_CHANGED="selectionStateChanged",e.EVENT_ALL_ROWS_LISTEN_MOUSE_MOVE="rowsListenMouseMove",e.EVENT_ALL_ROWS_STOP_LISTEN_MOUSE_MOVE="rowsStopListenMouseMove",e.EVENT_DO_NOTHING="doNothing",e}();e.Events=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(){this.allListeners={},this.globalListeners=[]}return e.prototype.init=function(e){this.logger=e.create("EventService")},e.prototype.getListenerList=function(e){var t=this.allListeners[e];return t||(t=[],this.allListeners[e]=t),t},e.prototype.addEventListener=function(e,t){var i=this.getListenerList(e);i.indexOf(t)<0&&i.push(t)},e.prototype.addGlobalListener=function(e){this.globalListeners.push(e)},e.prototype.removeEventListener=function(e,i){var o=this.getListenerList(e);t.removeFromArray(o,i)},e.prototype.removeGlobalListener=function(e){t.removeFromArray(this.globalListeners,e)},e.prototype.dispatchEvent=function(e,t){t||(t={});var i=this.getListenerList(e);i.forEach(function(e){e(t)}),this.globalListeners.forEach(function(i){i(e,t)})},e}();e.EventService=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function t(){this.consuming=!1}return t.prototype.init=function(t,i,o,r,n){this.gridOptionsWrapper=t,this.columnController=i,this.gridPanel=o,this.eventService=n,this.logger=r.create("MasterSlaveService"),n.addEventListener(e.Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_PINNED_COUNT_CHANGED,this.fireColumnEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getSlaveGrids();t&&t.forEach(function(t){if(t.api){var i=t.api.__getMasterSlaveService();e(i)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(t){t.onColumnEvent(e)})},t.prototype.fireHorizontalScrollEvent=function(e){this.fireEvent(function(t){t.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent(function(){t.gridPanel.setHorizontalScrollPosition(e)})},t.prototype.onColumnEvent=function(t){var i=this;this.onEvent(function(){var o,r=t.getColumn();if(r&&(o=i.columnController.getColumn(r.colId)),!r||o){var n,s=t.getColumnGroup();if(s&&(n=i.columnController.getColumnGroup(s.name)),!s||n)switch(t.getType()){case e.Events.EVENT_COLUMN_MOVED:i.logger.log("onColumnEvent-> processing "+t+" fromIndex = "+t.getFromIndex()+", toIndex = "+t.getToIndex()),i.columnController.moveColumn(t.getFromIndex(),t.getToIndex());break;case e.Events.EVENT_COLUMN_VISIBLE:i.logger.log("onColumnEvent-> processing "+t+" visible = "+r.visible),i.columnController.setColumnVisible(o,r.visible);break;case e.Events.EVENT_COLUMN_GROUP_OPENED:i.logger.log("onColumnEvent-> processing "+t+" expanded = "+s.expanded),i.columnController.columnGroupOpened(n,s.expanded);break;case e.Events.EVENT_COLUMN_RESIZED:i.logger.log("onColumnEvent-> processing "+t+" actualWidth = "+r.actualWidth),i.columnController.setColumnWidth(o,r.actualWidth,t.isFinished());break;case e.Events.EVENT_COLUMN_PINNED_COUNT_CHANGED:i.logger.log("onColumnEvent-> processing "+t),i.columnController.setPinnedColumnCount(t.getPinnedColumnCount())}}})},t}();e.MasterSlaveService=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=e.Constants,o=function(){function e(e){this._columnController=e}return e.prototype.sizeColumnsToFit=function(e){this._columnController.sizeColumnsToFit(e)},e.prototype.hideColumns=function(e,t){this._columnController.hideColumns(e,t)},e.prototype.columnGroupOpened=function(e,t){this._columnController.columnGroupOpened(e,t)},e.prototype.getColumnGroup=function(e){return this._columnController.getColumnGroup(e)},e.prototype.getDisplayNameForCol=function(e){return this._columnController.getDisplayNameForCol(e)},e.prototype.getColumn=function(e){return this._columnController.getColumn(e)},e.prototype.setState=function(e){return this._columnController.setState(e)},e.prototype.getState=function(){return this._columnController.getState()},e.prototype.isPinning=function(){return this._columnController.isPinning()},e.prototype.getVisibleColAfter=function(e){return this._columnController.getVisibleColAfter(e)},e.prototype.getVisibleColBefore=function(e){return this._columnController.getVisibleColBefore(e)},e.prototype.setColumnVisible=function(e,t){this._columnController.setColumnVisible(e,t)},e.prototype.getAllColumns=function(){return this._columnController.getAllColumns()},e.prototype.getDisplayedColumns=function(){return this._columnController.getDisplayedColumns()},e.prototype.getPivotedColumns=function(){return this._columnController.getPivotedColumns()},e.prototype.getValueColumns=function(){return this._columnController.getValueColumns()},e.prototype.moveColumn=function(e,t){this._columnController.moveColumn(e,t)},e.prototype.movePivotColumn=function(e,t){this._columnController.movePivotColumn(e,t)},e.prototype.setColumnAggFunction=function(e,t){this._columnController.setColumnAggFunction(e,t)},e.prototype.setColumnWidth=function(e,t,i){void 0===i&&(i=!0),this._columnController.setColumnWidth(e,t,i)},e.prototype.removeValueColumn=function(e){this._columnController.removeValueColumn(e)},e.prototype.addValueColumn=function(e){this._columnController.addValueColumn(e)},e.prototype.removePivotColumn=function(e){this._columnController.removePivotColumn(e)},e.prototype.setPinnedColumnCount=function(e){this._columnController.setPinnedColumnCount(e)},e.prototype.getPinnedColumnCount=function(){return this._columnController.getPinnedColumnCount()},e.prototype.addPivotColumn=function(e){this._columnController.addPivotColumn(e)},e.prototype.getHeaderGroups=function(){return this._columnController.getHeaderGroups()},e.prototype.hideColumn=function(e,t){this._columnController.hideColumns([e],t)},e}();e.ColumnApi=o;var r=function(){function r(){this.setupComplete=!1}return r.prototype.init=function(e,t,i,o,r,n,s){this.gridOptionsWrapper=i,this.angularGrid=e,this.selectionRendererFactory=t,this.expressionService=o,this.valueService=r,this.masterSlaveController=n,this.eventService=s,this.pinnedColumnCount=i.getPinnedColCount(),this.pinnedColumnCount>0||(this.pinnedColumnCount=0)},r.prototype.getColumnApi=function(){return new o(this)},r.prototype.isSetupComplete=function(){return this.setupComplete},r.prototype.getHeaderGroups=function(){return this.columnGroups},r.prototype.getPinnedContainerWidth=function(){return this.getTotalColWidth(!0)},r.prototype.addPivotColumn=function(t){if(this.allColumns.indexOf(t)<0)return void console.warn("not a valid column: "+t);if(this.pivotColumns.indexOf(t)>=0)return void console.warn("column is already a value column");this.pivotColumns.push(t),this.updateModel();var i=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_PIVOT_CHANGE);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_PIVOT_CHANGE,i)},r.prototype.getPinnedColumnCount=function(){return this.pinnedColumnCount},r.prototype.setPinnedColumnCount=function(t){if("number"!=typeof t)return void console.warn("ag-Grid: setPinnedColumnCount: count must be a number");if(0>t)return void console.warn("ag-Grid: setPinnedColumnCount: count must be zero or greater");this.pinnedColumnCount=t,this.updateModel();var i=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_PINNED_COUNT_CHANGED).withPinnedColumnCount(t);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_PINNED_COUNT_CHANGED,i)},r.prototype.removePivotColumn=function(i){if(this.pivotColumns.indexOf(i)<0)return void console.warn("column not a pivot");t.removeFromArray(this.pivotColumns,i),this.updateModel();var o=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_PIVOT_CHANGE);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_PIVOT_CHANGE,o)},r.prototype.addValueColumn=function(t){if(this.allColumns.indexOf(t)<0)return void console.warn("not a valid column: "+t);if(this.valueColumns.indexOf(t)>=0)return void console.warn("column is already a value column");t.aggFunc||(t.aggFunc=i.SUM),this.valueColumns.push(t);var o=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_VALUE_CHANGE,o)},r.prototype.removeValueColumn=function(i){if(this.valueColumns.indexOf(i)<0)return void console.warn("column not a value");t.removeFromArray(this.valueColumns,i);var o=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_VALUE_CHANGE,o)},r.prototype.doesColumnExistInGrid=function(e){var t=this.allColumns.indexOf(e)>=0,i=this.visibleColumns.indexOf(e)>=0;return t||i},r.prototype.setColumnWidth=function(t,i,o){if(!this.doesColumnExistInGrid(t))return void console.warn("column does not exist");if(i<t.getMinimumWidth()&&(i=t.getMinimumWidth()),t.isGreaterThanMax(i)&&(i=t.colDef.maxWidth),o||t.actualWidth!==i){t.actualWidth=i,this.updateGroupWidthsAfterColumnResize(t);var r=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_RESIZED).withColumn(t).withFinished(o);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_RESIZED,r)}},r.prototype.updateGroupWidthsAfterColumnResize=function(e){this.columnGroups&&this.columnGroups.forEach(function(t){t.displayedColumns.indexOf(e)>=0&&t.calculateActualWidth()})},r.prototype.setColumnAggFunction=function(t,i){t.aggFunc=i;var o=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_VALUE_CHANGE);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_VALUE_CHANGE,o)},r.prototype.movePivotColumn=function(t,i){var o=this.pivotColumns[t];this.pivotColumns.splice(t,1),this.pivotColumns.splice(i,0,o);var r=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_PIVOT_CHANGE);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_PIVOT_CHANGE,r)},r.prototype.moveColumn=function(t,i){var o=this.allColumns[t];this.allColumns.splice(t,1),this.allColumns.splice(i,0,o),this.updateModel();var r=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_MOVED).withFromIndex(t).withToIndex(i);
this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_MOVED,r)},r.prototype.getBodyContainerWidth=function(){return this.getTotalColWidth(!1)},r.prototype.getValueColumns=function(){return this.valueColumns},r.prototype.getPivotedColumns=function(){return this.pivotColumns},r.prototype.getDisplayedColumns=function(){return this.displayedColumns},r.prototype.getAllColumns=function(){return this.allColumns},r.prototype.setColumnVisible=function(t,i){t.visible=i,this.updateModel();var o=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_VISIBLE).withColumn(t);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_VISIBLE,o)},r.prototype.getVisibleColBefore=function(e){var t=this.visibleColumns.indexOf(e);return t>0?this.visibleColumns[t-1]:null},r.prototype.getVisibleColAfter=function(e){var t=this.visibleColumns.indexOf(e);return t<this.visibleColumns.length-1?this.visibleColumns[t+1]:null},r.prototype.isPinning=function(){return this.visibleColumns&&this.visibleColumns.length>0&&this.visibleColumns[0].pinned},r.prototype.getState=function(){if(!this.allColumns||this.allColumns.length<0)return[];for(var e=[],t=0;t<this.allColumns.length;t++){var i=this.allColumns[t],o=this.pivotColumns.indexOf(i),r={colId:i.colId,hide:!i.visible,aggFunc:i.aggFunc?i.aggFunc:null,width:i.actualWidth,pivotIndex:o>=0?o:null};e.push(r)}return e},r.prototype.setState=function(o){var r=this.allColumns;this.allColumns=[],this.pivotColumns=[],this.valueColumns=[];var n=this;t.forEach(o,function(e){var o=t.find(r,"colId",e.colId);if(!o)return void console.warn("ag-grid: column "+e.colId+" not found");o.visible=e.hide?!1:!0,o.actualWidth=e.width>=i.MIN_COL_WIDTH?e.width:o.actualWidth;var s=[i.MIN,i.MAX,i.SUM].indexOf(e.aggFunc)>=0;s?(o.aggFunc=e.aggFunc,n.valueColumns.push(o)):o.aggFunc=null,"number"==typeof e.pivotIndex&&e.pivotIndex>=0&&n.pivotColumns.push(o),n.allColumns.push(o),r.splice(r.indexOf(o),1)}),t.forEach(r,function(e){e.visible=!1,e.aggFunc=null,n.allColumns.push(e)}),this.pivotColumns.sort(function(e,t){return e.pivotIndex-t.pivotIndex}),this.updateModel();var s=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_EVERYTHING_CHANGED,s)},r.prototype.getColumns=function(e){var t=this,i=[];return e&&e.forEach(function(e){var o=t.getColumn(e);o&&i.push(o)}),i},r.prototype.getColumn=function(e){if(!e)return null;for(var t=[this.allColumns,this.visibleColumns],i=0;i<t.length;i++){var o=t[i];if(o)for(var r=0;r<o.length;r++){var n=o[r].colDef===e,s=o[r].colId===e;if(n||s)return o[r]}}},r.prototype.getDisplayNameForCol=function(e){var t=e.colDef,i=t.headerValueGetter;if(!i)return t.displayName?(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.displayName):t.headerName;var o={colDef:t,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof i?i(o):"string"==typeof i?this.expressionService.evaluate(i,o):void console.warn("ag-grid: headerValueGetter must be a function or a string")},r.prototype.getColumnGroup=function(e){if(!e)return null;if(this.columnGroups)for(var t=0;t<this.columnGroups.length;t++)if(this.columnGroups[t].name===e)return this.columnGroups[t]},r.prototype.onColumnsChanged=function(){var t=this.gridOptionsWrapper.getColumnDefs();this.checkForDeprecatedItems(t),this.createColumns(t),this.createPivotColumns(),this.createValueColumns(),this.updateModel();var i=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_EVERYTHING_CHANGED,i),this.setupComplete=!0},r.prototype.checkForDeprecatedItems=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];void 0!==i.group&&(console.warn("ag-grid: "+i.field+" colDef.group is deprecated, please use colDef.headerGroup"),i.headerGroup=i.group),void 0!==i.groupShow&&(console.warn("ag-grid: "+i.field+" colDef.groupShow is deprecated, please use colDef.headerGroupShow"),i.headerGroupShow=i.groupShow)}},r.prototype.columnGroupOpened=function(t,i){t.expanded=i,this.updateGroups(),this.updateDisplayedColumns();var o=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_GROUP_OPENED).withColumnGroup(t);this.eventService.dispatchEvent(e.Events.EVENT_COLUMN_GROUP_OPENED,o)},r.prototype.hideColumns=function(t,i){var o=this,r=[];this.allColumns.forEach(function(e){var o=e.colId,n=t.indexOf(o)>=0,s=!i;n&&e.visible!==s&&(e.visible=s,r.push(e))}),r.length>0&&(this.updateModel(),r.forEach(function(t){var i=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_VISIBLE).withColumn(t);o.eventService.dispatchEvent(e.Events.EVENT_COLUMN_VISIBLE,i)}))},r.prototype.updateModel=function(){this.updateVisibleColumns(),this.updatePinnedColumns(),this.buildGroups(),this.updateGroups(),this.updateDisplayedColumns()},r.prototype.updateDisplayedColumns=function(){if(this.gridOptionsWrapper.isGroupHeaders()){this.displayedColumns=[];for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e];t.addToVisibleColumns(this.displayedColumns)}}else this.displayedColumns=this.visibleColumns},r.prototype.sizeColumnsToFit=function(i){function o(e){t.removeFromArray(l,e),s.push(e)}function r(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].actualWidth;return t}var n=this;if(!(0>=i||0===this.displayedColumns.length)){for(var s=t.filter(this.displayedColumns,function(e){return e.colDef.suppressSizeToFit===!0}),l=t.filter(this.displayedColumns,function(e){return e.colDef.suppressSizeToFit!==!0}),a=l.slice(0),d=!1;!d;){d=!0;var u=i-r(s);if(0>=u)l.forEach(function(e){e.setMinimum(),n.updateGroupWidthsAfterColumnResize(e)});else for(var p=u/r(l),h=u,c=l.length-1;c>=0;c--){var g=l[c],f=Math.round(g.actualWidth*p);if(f<g.getMinimumWidth())g.setMinimum(),o(g),d=!1;else if(g.isGreaterThanMax(f))g.actualWidth=g.colDef.maxWidth,o(g),d=!1;else{var v=0===c;v?g.actualWidth=h:(h-=f,g.actualWidth=f)}this.updateGroupWidthsAfterColumnResize(g)}}a.forEach(function(t){var i=new e.ColumnChangeEvent(e.Events.EVENT_COLUMN_RESIZED).withColumn(t);n.eventService.dispatchEvent(e.Events.EVENT_COLUMN_RESIZED,i)})}},r.prototype.buildGroups=function(){if(!this.gridOptionsWrapper.isGroupHeaders())return void(this.columnGroups=null);var t=null;this.columnGroups=[];var i=this,o=!0;this.visibleColumns.forEach(function(r){var n=o&&!r.pinned;r.pinned||(o=!1);var s=t&&r.colDef.headerGroup!==t.name,l=t&&!t.name,a=null===t,d=a||n||s||l;if(d){var u=r.pinned;t=new e.ColumnGroup(u,r.colDef.headerGroup),i.columnGroups.push(t)}t.addColumn(r)})},r.prototype.updateGroups=function(){if(this.gridOptionsWrapper.isGroupHeaders())for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e];t.calculateExpandable(),t.calculateDisplayedColumns(),t.calculateActualWidth()}},r.prototype.updateVisibleColumns=function(){this.visibleColumns=[];var t=this.pivotColumns.length>0&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow()&&!this.gridOptionsWrapper.isGroupSuppressRow(),i=this.gridOptionsWrapper.getLocaleTextFunc();if(t){var o=this.gridOptionsWrapper.getGroupColumnDef();o||(o={headerName:i("group","Group"),cellRenderer:{renderer:"group"}});var r=this.calculateColInitialWidth(o),n=new e.Column(o,r);this.visibleColumns.push(n)}for(var s=0;s<this.allColumns.length;s++){var l=this.allColumns[s],a=this.pivotColumns.indexOf(l)>=0&&this.gridOptionsWrapper.isGroupHidePivotColumns();l.visible&&!a&&(l.index=this.visibleColumns.length,this.visibleColumns.push(this.allColumns[s]))}},r.prototype.updatePinnedColumns=function(){for(var e=0;e<this.visibleColumns.length;e++){var t=e<this.pinnedColumnCount;this.visibleColumns[e].pinned=t}},r.prototype.createColumns=function(t){if(this.allColumns=[],t)for(var i=0;i<t.length;i++){var o=t[i],r=this.calculateColInitialWidth(o),n=new e.Column(o,r);this.allColumns.push(n)}},r.prototype.createPivotColumns=function(){this.pivotColumns=[];var e=this.gridOptionsWrapper.getGroupKeys();if(e&&!(e.length<=0))for(var t=0;t<e.length;t++){var i=e[t],o=this.getColumn(i);o||(o=this.createDummyColumn(i)),this.pivotColumns.push(o)}},r.prototype.createValueColumns=function(){this.valueColumns=[];for(var e=0;e<this.allColumns.length;e++){var t=this.allColumns[e];t.colDef.aggFunc&&(t.aggFunc=t.colDef.aggFunc,this.valueColumns.push(t))}},r.prototype.createDummyColumn=function(t){var i={field:t,headerName:t,hide:!1},o=this.gridOptionsWrapper.getColWidth(),r=new e.Column(i,o);return r},r.prototype.calculateColInitialWidth=function(e){return e.width?e.width<i.MIN_COL_WIDTH?i.MIN_COL_WIDTH:e.width:this.gridOptionsWrapper.getColWidth()},r.prototype.getTotalColWidth=function(e){var t=0,i="boolean"!=typeof e;return this.displayedColumns.forEach(function(o){var r=i||o.pinned===e;r&&(t+=o.actualWidth)}),t},r}();e.ColumnController=r}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t="\r\n",i=function(){function e(e,t,i,o){this.rowController=e,this.columnController=t,this.grid=i,this.valueService=o}return e.prototype.exportDataAsCsv=function(e){var t=this.getDataAsCsv(e),i=e&&e.fileName&&0!==e.fileName.length,o=i?e.fileName:"export.csv",r=new Blob([t],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,o);else{var n=document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=o,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},e.prototype.getDataAsCsv=function(e){var i=this;if(!this.grid.isUsingInMemoryModel())return console.log("ag-Grid: getDataAsCsv not available when doing virtual pagination"),"";var o="",r=e&&e.skipGroups,n=e&&e.skipHeader,s=e&&e.skipFooters,l=e&&e.customHeader,a=e&&e.customFooter,d=this.columnController.getDisplayedColumns();return d&&0!==d.length?(l&&(o+=e.customHeader),n||(d.forEach(function(e,t){var r=i.columnController.getDisplayNameForCol(e);(null===r||void 0===r)&&(r=""),0!=t&&(o+=","),o+='"'+i.escape(r)+'"'}),o+=t),this.rowController.forEachNodeAfterFilterAndSort(function(e){r&&e.group||s&&e.footer||(d.forEach(function(t,r){var n;n=e.group&&0===r?i.createValueForGroupNode(e):i.valueService.getValue(t.colDef,e.data,e),(null===n||void 0===n)&&(n=""),0!=r&&(o+=","),o+='"'+i.escape(n)+'"'}),o+=t)}),a&&(o+=e.customFooter),o):""},e.prototype.createValueForGroupNode=function(e){for(var t=[e.key];e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},e.prototype.escape=function(e){if(null===e||void 0===e)return"";var t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("known value type during csv conversio"),t=""),t.replace(/"/g,'""')},e}();e.CsvCreator=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){this.expressionToFunctionCache={}}return e.prototype.init=function(e){this.logger=e.create("ExpressionService")},e.prototype.evaluate=function(e,t){try{var i=this.createExpressionFunction(e),o=i(t.value,t.context,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue);return o}catch(r){return this.logger.log("Processing of the expression failed"),this.logger.log("Expression = "+e),this.logger.log("Exception = "+r),null}},e.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),i=new Function("x, ctx, node, data, colDef, rowIndex, api, getValue",t);return this.expressionToFunctionCache[e]=i,i},e.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},e}();e.ExpressionService=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[CONTAINS]</option><option value="2">[EQUALS]</option><option value="3">[STARTS WITH]</option><option value="4">[ENDS WITH]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',o=1,r=2,n=3,s=4,l=function(){function e(){}return e.prototype.init=function(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&1==this.filterParams.apply,this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterText=null,this.filterType=o,this.createApi()},e.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction;e||(this.api.setType(o),this.api.setFilter(null))},e.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},e.prototype.doesFilterPass=function(e){if(!this.filterText)return!0;var t=this.valueGetter(e);if(!t)return!1;var i=t.toString().toLowerCase();switch(this.filterType){case o:return i.indexOf(this.filterText)>=0;case r:return i===this.filterText;case n:return 0===i.indexOf(this.filterText);case s:var l=i.indexOf(this.filterText);return l>=0&&l===i.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1}},e.prototype.getGui=function(){return this.eGui},e.prototype.isFilterActive=function(){return null!==this.filterText},e.prototype.createTemplate=function(){return i.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[CONTAINS]",this.localeTextFunc("contains","Contains")).replace("[STARTS WITH]",this.localeTextFunc("startsWith","Starts with")).replace("[ENDS WITH]",this.localeTextFunc("endsWith","Ends with")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},e.prototype.createGui=function(){this.eGui=t.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),t.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):t.removeElement(this.eGui,"#applyPanel")},e.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},e.prototype.onFilterChanged=function(){var e=t.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null);var i;i=null!==e&&void 0!==e?e.toLowerCase():null,this.filterText!==i&&(this.filterText=i,this.filterChanged())},e.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},e.prototype.createApi=function(){var e=this;this.api={EQUALS:r,CONTAINS:o,STARTS_WITH:n,ENDS_WITH:s,setType:function(t){e.filterType=t,e.eTypeSelect.value=t},setFilter:function(i){i=t.makeNull(i),i?(e.filterText=i.toLowerCase(),e.eFilterTextField.value=i):(e.filterText=null,e.eFilterTextField.value=null)},getType:function(){return e.filterType},getFilter:function(){return e.filterText},getModel:function(){return e.isFilterActive()?{type:e.filterType,filter:e.filterText}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},e.prototype.getApi=function(){return this.api},e}();e.TextFilter=l}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[EQUALS]</option><option value="2">[LESS THAN]</option><option value="3">[GREATER THAN]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',o=1,r=2,n=3,s=function(){function e(){}return e.prototype.init=function(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&1==this.filterParams.apply,this.filterChangedCallback=e.filterChangedCallback,this.filterModifiedCallback=e.filterModifiedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterNumber=null,this.filterType=o,this.createApi()},e.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction;e||(this.api.setType(o),this.api.setFilter(null))},e.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},e.prototype.doesFilterPass=function(e){if(null===this.filterNumber)return!0;var t=this.valueGetter(e);if(!t&&0!==t)return!1;var i;switch(i="number"==typeof t?t:parseFloat(t),this.filterType){case o:return i===this.filterNumber;case r:return i<this.filterNumber;case n:return i>this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1}},e.prototype.getGui=function(){return this.eGui},e.prototype.isFilterActive=function(){return null!==this.filterNumber},e.prototype.createTemplate=function(){return i.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[LESS THAN]",this.localeTextFunc("lessThan","Less than")).replace("[GREATER THAN]",this.localeTextFunc("greaterThan","Greater than")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},e.prototype.createGui=function(){this.eGui=t.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),t.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):t.removeElement(this.eGui,"#applyPanel")},e.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},e.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},e.prototype.onFilterChanged=function(){var e=t.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null);var i;i=null!==e&&void 0!==e?parseFloat(e):null,this.filterNumber!==i&&(this.filterNumber=i,this.filterChanged())},e.prototype.createApi=function(){var e=this;this.api={EQUALS:o,LESS_THAN:r,GREATER_THAN:n,setType:function(t){e.filterType=t,e.eTypeSelect.value=t},setFilter:function(i){i=t.makeNull(i),null!==i&&"number"!=typeof i&&(i=parseFloat(i)),e.filterNumber=i,e.eFilterTextField.value=i},getType:function(){return e.filterType},getFilter:function(){return e.filterNumber},getModel:function(){return e.isFilterActive()?{type:e.filterType,filter:e.filterNumber}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},e.prototype.getApi=function(){return this.api},e}();e.NumberFilter=s}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(e,t,i,o){this.colDef=e,this.rowModel=t,this.valueGetter=i,this.doesRowPassOtherFilters=o,this.filterParams=this.colDef.filterParams,this.usingProvidedSet=this.filterParams&&this.filterParams.values,this.showingAvailableOnly=this.filterParams&&!this.filterParams.suppressRemoveEntries,this.createAllUniqueValues(),this.createAvailableUniqueValues(),this.displayedValues=this.availableUniqueValues,this.miniFilter=null,this.selectedValuesMap={},this.selectEverything()}return e.prototype.refreshAfterNewRowsLoaded=function(e,t){this.createAllUniqueValues(),this.createAvailableUniqueValues();var i=Object.keys(this.selectedValuesMap);this.selectedValuesMap={},this.processMiniFilter(),e?this.setModel(i,t):this.selectEverything()},e.prototype.refreshAfterAnyFilterChanged=function(){this.showingAvailableOnly&&(this.createAvailableUniqueValues(),this.processMiniFilter())},e.prototype.createAllUniqueValues=function(){this.usingProvidedSet?this.allUniqueValues=t.toStrings(this.filterParams.values):this.allUniqueValues=t.toStrings(this.getUniqueValues(!1)),this.sortValues(this.allUniqueValues)},e.prototype.createAvailableUniqueValues=function(){var e=!this.showingAvailableOnly||this.usingProvidedSet;return e?void(this.availableUniqueValues=this.allUniqueValues):(this.availableUniqueValues=t.toStrings(this.getUniqueValues(!0)),void this.sortValues(this.availableUniqueValues))},e.prototype.sortValues=function(e){this.filterParams&&this.filterParams.comparator?e.sort(this.filterParams.comparator):this.colDef.comparator?e.sort(this.colDef.comparator):e.sort(t.defaultComparator)},e.prototype.getUniqueValues=function(e){function t(e){o.hasOwnProperty(e)||(r.push(e),o[e]=1)}var i=this,o={},r=[];return this.rowModel.forEachNode(function(o){if(!o.group){var r=i.valueGetter(o);if((""===r||void 0===r)&&(r=null),e&&!i.doesRowPassOtherFilters(o))return;if(null!=r&&Array.isArray(r))for(var n=0;n<r.length;n++)t(r[n]);else t(r)}}),r},e.prototype.setMiniFilter=function(e){return e=t.makeNull(e),this.miniFilter===e?!1:(this.miniFilter=e,this.processMiniFilter(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilter},e.prototype.processMiniFilter=function(){if(null===this.miniFilter)return void(this.displayedValues=this.availableUniqueValues);this.displayedValues=[];for(var e=this.miniFilter.toUpperCase(),t=0,i=this.availableUniqueValues.length;i>t;t++){var o=this.availableUniqueValues[t];null!==o&&o.toString().toUpperCase().indexOf(e)>=0&&this.displayedValues.push(o)}},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.selectEverything=function(){for(var e=this.allUniqueValues.length,t=0;e>t;t++){var i=this.allUniqueValues[t];this.selectedValuesMap[i]=null}this.selectedValuesCount=e},e.prototype.isFilterActive=function(){return this.allUniqueValues.length!==this.selectedValuesCount},e.prototype.selectNothing=function(){this.selectedValuesMap={},this.selectedValuesCount=0},e.prototype.getUniqueValueCount=function(){return this.allUniqueValues.length},e.prototype.getUniqueValue=function(e){return this.allUniqueValues[e]},e.prototype.unselectValue=function(e){void 0!==this.selectedValuesMap[e]&&(delete this.selectedValuesMap[e],this.selectedValuesCount--)},e.prototype.selectValue=function(e){void 0===this.selectedValuesMap[e]&&(this.selectedValuesMap[e]=null,this.selectedValuesCount++)},e.prototype.isValueSelected=function(e){return void 0!==this.selectedValuesMap[e]},e.prototype.isEverythingSelected=function(){return this.allUniqueValues.length===this.selectedValuesCount},e.prototype.isNothingSelected=function(){return 0===this.allUniqueValues.length},e.prototype.getModel=function(){if(!this.isFilterActive())return null;var e=[];return t.iterateObject(this.selectedValuesMap,function(t){e.push(t)}),e},e.prototype.setModel=function(e,t){if(e&&!t){this.selectNothing();for(var i=0;i<e.length;i++){var o=e[i];this.allUniqueValues.indexOf(o)>=0?this.selectValue(e[i]):console.warn("Value "+o+" is not a valid value for filter")}}else this.selectEverything()},e}();e.SetFilterModel=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i='<div><div class="ag-filter-header-container"><input class="ag-filter-filter" type="text" placeholder="[SEARCH...]"/></div><div class="ag-filter-header-container"><label><input id="selectAll" type="checkbox" class="ag-filter-checkbox"/>([SELECT ALL])</label></div><div class="ag-filter-list-viewport"><div class="ag-filter-list-container"><div id="itemForRepeat" class="ag-filter-item"><label><input type="checkbox" class="ag-filter-checkbox" filter-checkbox="true"/><span class="ag-filter-value"></span></label></div></div></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',o=20,r=function(){function r(){}return r.prototype.init=function(t){this.filterParams=t.filterParams,this.rowHeight=this.filterParams&&this.filterParams.cellHeight?this.filterParams.cellHeight:o,this.applyActive=this.filterParams&&1==this.filterParams.apply,this.model=new e.SetFilterModel(t.colDef,t.rowModel,t.valueGetter,t.doesRowPassOtherFilter),this.filterChangedCallback=t.filterChangedCallback,this.filterModifiedCallback=t.filterModifiedCallback,this.valueGetter=t.valueGetter,this.rowsInBodyContainer={},this.colDef=t.colDef,this.localeTextFunc=t.localeTextFunc,this.filterParams&&(this.cellRenderer=this.filterParams.cellRenderer),this.createGui(),this.addScrollListener(),this.createApi()},r.prototype.afterGuiAttached=function(){this.drawVirtualRows()},r.prototype.isFilterActive=function(){return this.model.isFilterActive()},r.prototype.doesFilterPass=function(e){if(this.model.isEverythingSelected())return!0;if(this.model.isNothingSelected())return!1;var i=this.valueGetter(e);if(i=t.makeNull(i),Array.isArray(i)){for(var o=0;o<i.length;o++)if(this.model.isValueSelected(i[o]))return!0;return!1}return this.model.isValueSelected(i)},r.prototype.getGui=function(){return this.eGui},r.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction,t=this.eSelectAll&&this.eSelectAll.checked&&!this.eSelectAll.indeterminate;this.model.refreshAfterNewRowsLoaded(e,t),this.setContainerHeight(),this.refreshVirtualRows()},r.prototype.onAnyFilterChanged=function(){this.model.refreshAfterAnyFilterChanged(),this.setContainerHeight(),this.refreshVirtualRows()},r.prototype.createTemplate=function(){return i.replace("[SELECT ALL]",this.localeTextFunc("selectAll","Select All")).replace("[SEARCH...]",this.localeTextFunc("searchOoo","Search...")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},r.prototype.createGui=function(){var e=this;this.eGui=t.loadTemplate(this.createTemplate()),this.eListContainer=this.eGui.querySelector(".ag-filter-list-container"),this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat"),this.eSelectAll=this.eGui.querySelector("#selectAll"),this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport"),this.eMiniFilter=this.eGui.querySelector(".ag-filter-filter"),this.eListContainer.style.height=this.model.getUniqueValueCount()*this.rowHeight+"px",this.setContainerHeight(),this.eMiniFilter.value=this.model.getMiniFilter(),t.addChangeListener(this.eMiniFilter,function(){e.onMiniFilterChanged()}),t.removeAllChildren(this.eListContainer),this.eSelectAll.onclick=this.onSelectAll.bind(this),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0,this.setupApply()},r.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):t.removeElement(this.eGui,"#applyPanel")},r.prototype.setContainerHeight=function(){this.eListContainer.style.height=this.model.getDisplayedValueCount()*this.rowHeight+"px"},r.prototype.drawVirtualRows=function(){var e=this.eListViewport.scrollTop,t=e+this.eListViewport.offsetHeight,i=Math.floor(e/this.rowHeight),o=Math.floor(t/this.rowHeight);this.ensureRowsRendered(i,o)},r.prototype.ensureRowsRendered=function(e,t){for(var i=this,o=Object.keys(this.rowsInBodyContainer),r=e;t>=r;r++)if(o.indexOf(r.toString())>=0)o.splice(o.indexOf(r.toString()),1);else if(this.model.getDisplayedValueCount()>r){var n=this.model.getDisplayedValue(r);i.insertRow(n,r)}this.removeVirtualRows(o)},r.prototype.removeVirtualRows=function(e){var t=this;e.forEach(function(e){var i=t.rowsInBodyContainer[e];t.eListContainer.removeChild(i),delete t.rowsInBodyContainer[e]})},r.prototype.insertRow=function(e,i){var o=this,r=this.eFilterValueTemplate.cloneNode(!0),n=r.querySelector(".ag-filter-value");if(this.cellRenderer){var s=this.cellRenderer({value:e});t.isNode(s)?n.appendChild(s):n.innerHTML=s}else{var l="("+this.localeTextFunc("blanks","Blanks")+")",a=null===e?l:e;n.innerHTML=a}var d=r.querySelector("input");d.checked=this.model.isValueSelected(e),d.onclick=function(){o.onCheckboxClicked(d,e)},r.style.top=this.rowHeight*i+"px",this.eListContainer.appendChild(r),this.rowsInBodyContainer[i]=r},r.prototype.onCheckboxClicked=function(e,t){var i=e.checked;i?(this.model.selectValue(t),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.eSelectAll.indeterminate=!0):(this.model.unselectValue(t),this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0),this.filterChanged()},r.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},r.prototype.onMiniFilterChanged=function(){var e=this.model.setMiniFilter(this.eMiniFilter.value);e&&(this.setContainerHeight(),this.refreshVirtualRows())},r.prototype.refreshVirtualRows=function(){this.clearVirtualRows(),this.drawVirtualRows()},r.prototype.clearVirtualRows=function(){var e=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(e)},r.prototype.onSelectAll=function(){var e=this.eSelectAll.checked;e?this.model.selectEverything():this.model.selectNothing(),this.updateAllCheckboxes(e),this.filterChanged()},r.prototype.updateAllCheckboxes=function(e){for(var t=this.eListContainer.querySelectorAll("[filter-checkbox=true]"),i=0,o=t.length;o>i;i++)t[i].checked=e},r.prototype.addScrollListener=function(){var e=this;this.eListViewport.addEventListener("scroll",function(){e.drawVirtualRows()})},r.prototype.getApi=function(){return this.api},r.prototype.createApi=function(){var e=this.model,t=this;this.api={setMiniFilter:function(t){e.setMiniFilter(t)},getMiniFilter:function(){return e.getMiniFilter()},selectEverything:function(){t.eSelectAll.indeterminate=!1,t.eSelectAll.checked=!0,e.selectEverything()},isFilterActive:function(){return e.isFilterActive()},selectNothing:function(){t.eSelectAll.indeterminate=!1,t.eSelectAll.checked=!1,e.selectNothing()},unselectValue:function(i){e.unselectValue(i),t.refreshVirtualRows()},selectValue:function(i){e.selectValue(i),t.refreshVirtualRows()},isValueSelected:function(t){return e.isValueSelected(t)},isEverythingSelected:function(){return e.isEverythingSelected()},isNothingSelected:function(){return e.isNothingSelected()},getUniqueValueCount:function(){return e.getUniqueValueCount()},getUniqueValue:function(t){return e.getUniqueValue(t)},getModel:function(){return e.getModel()},setModel:function(i){e.setModel(i),t.refreshVirtualRows()}}},r}();e.SetFilter=r}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function i(){}return i.prototype.init=function(e){this.ePopupParent=e},i.prototype.positionPopup=function(e,t,i){var o=e.getBoundingClientRect(),r=this.ePopupParent.getBoundingClientRect(),n=o.left-r.left,s=o.top-r.top+o.height;if(i){var l;l=t.clientWidth>0?t.clientWidth:200;var a=r.right-r.left,d=a-l;n>d&&(n=d),0>n&&(n=0)}t.style.left=n+"px",t.style.top=s+"px"},i.prototype.addAsModalPopup=function(i,o,r){function n(t){var i=t.which||t.keyCode;i===e.Constants.KEY_ESCAPE&&s(null)}function s(e){e&&e===p||(u.ePopupParent.removeChild(i),a.removeEventListener("keydown",n),a.removeEventListener("click",s),i.removeEventListener("click",l),r())}function l(e){p=e}var a=document.body;if(!a)return void console.warn("ag-grid: could not find the body of the document, document.body is empty");var d=t.isVisible(i);if(!d){this.ePopupParent.appendChild(i);var u=this;setTimeout(function(){
o&&a.addEventListener("keydown",n),a.addEventListener("click",s),i.addEventListener("click",l)},0);var p=null;return s}},i}();e.PopupService=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function i(){}return i.prototype.init=function(e,t,i,o,r,n,s){this.$compile=i,this.$scope=o,this.gridOptionsWrapper=t,this.grid=e,this.allFilters={},this.columnController=r,this.popupService=n,this.valueService=s,this.columnController=r,this.quickFilter=null},i.prototype.setFilterModel=function(e){var i=this;if(e){var o=Object.keys(e);t.iterateObject(this.allFilters,function(r,n){t.removeFromArray(o,r);var s=e[r];i.setModelOnFilterWrapper(n.filter,s)}),t.iterateArray(o,function(t){var o=i.columnController.getColumn(t);if(!o)return void console.warn("Warning ag-grid setFilterModel - no column found for colId "+t);var r=i.getOrCreateFilterWrapper(o);i.setModelOnFilterWrapper(r.filter,e[t])})}else t.iterateObject(this.allFilters,function(e,t){i.setModelOnFilterWrapper(t.filter,null)});this.grid.onFilterChanged()},i.prototype.setModelOnFilterWrapper=function(e,t){if("function"!=typeof e.getApi)return void console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");var i=e.getApi();return"function"!=typeof i.setModel?void console.warn("Warning ag-grid - filter API missing setModel method, which is needed for setFilterModel"):void i.setModel(t)},i.prototype.getFilterModel=function(){var e={};return t.iterateObject(this.allFilters,function(t,i){if("function"!=typeof i.filter.getApi)return void console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");var o=i.filter.getApi();if("function"!=typeof o.getModel)return void console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel");var r=o.getModel();r&&(e[t]=r)}),e},i.prototype.setRowModel=function(e){this.rowModel=e},i.prototype.isAdvancedFilterPresent=function(){var e=!1;return t.iterateObject(this.allFilters,function(t,i){i.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),i.filter.isFilterActive()&&(e=!0)}),e},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},i.prototype.isFilterPresentForCol=function(e){var t=this.allFilters[e];if(!t)return!1;t.filter.isFilterActive||console.error("Filter is missing method isFilterActive");var i=t.filter.isFilterActive();return i},i.prototype.doesFilterPass=function(e,t){for(var i=e.data,o=Object.keys(this.allFilters),r=0,n=o.length;n>r;r++){var s=o[r],l=this.allFilters[s];if(void 0!==l&&l.filter!==t){l.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass");var a={node:e,data:i};if(!l.filter.doesFilterPass(a))return!1}}return!0},i.prototype.setQuickFilter=function(e){return(void 0===e||""===e)&&(e=null),this.quickFilter!==e?this.gridOptionsWrapper.isVirtualPaging()?void console.warn("ag-grid: cannot do quick filtering when doing virtual paging"):((void 0===e||""===e)&&(e=null),null!==e&&(e=e.toUpperCase()),this.quickFilter=e,!0):!1},i.prototype.onFilterChanged=function(){this.advancedFilterPresent=this.isAdvancedFilterPresent(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),t.iterateObject(this.allFilters,function(e,t){t.filter.onAnyFilterChanged&&t.filter.onAnyFilterChanged()})},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},i.prototype.doesRowPassFilter=function(e,t){return this.isQuickFilterPresent()&&(e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(this.quickFilter)<0)?!1:this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e)?!1:this.advancedFilterPresent&&!this.doesFilterPass(e,t)?!1:!0},i.prototype.aggregateRowForQuickFilter=function(e){var t="",i=this;this.columnController.getAllColumns().forEach(function(o){var r=e.data,n=i.valueService.getValue(o.colDef,r,e);n&&""!==n&&(t=t+n.toString().toUpperCase()+"_")}),e.quickFilterAggregateText=t},i.prototype.onNewRowsLoaded=function(){var e=this;Object.keys(this.allFilters).forEach(function(t){var i=e.allFilters[t].filter;i.onNewRowsLoaded&&i.onNewRowsLoaded()})},i.prototype.createValueGetter=function(e){var t=this;return function(i){return t.valueService.getValue(e.colDef,i.data,i)}},i.prototype.getFilterApi=function(e){var t=this.getOrCreateFilterWrapper(e);return t&&"function"==typeof t.filter.getApi?t.filter.getApi():void 0},i.prototype.getOrCreateFilterWrapper=function(e){var t=this.allFilters[e.colId];return t||(t=this.createFilterWrapper(e),this.allFilters[e.colId]=t),t},i.prototype.createFilterWrapper=function(i){var o=i.colDef,r={column:i,filter:null,scope:null,gui:null};"function"==typeof o.filter?(this.gridOptionsWrapper.isAngularCompileFilters()&&(r.scope=this.$scope.$new()),this.assertMethodHasNoParameters(o.filter),r.filter=new o.filter):"text"===o.filter?r.filter=new e.TextFilter:"number"===o.filter?r.filter=new e.NumberFilter:r.filter=new e.SetFilter;var n=this.grid.onFilterChanged.bind(this.grid),s=this.grid.onFilterModified.bind(this.grid),l=this.doesRowPassOtherFilters.bind(this,r.filter),a=o.filterParams,d={colDef:o,rowModel:this.rowModel,filterChangedCallback:n,filterModifiedCallback:s,filterParams:a,localeTextFunc:this.gridOptionsWrapper.getLocaleTextFunc(),valueGetter:this.createValueGetter(i),doesRowPassOtherFilter:l,context:this.gridOptionsWrapper.getContext,$scope:r.scope};if(!r.filter.init)throw"Filter is missing method init";if(r.filter.init(d),!r.filter.getGui)throw"Filter is missing method getGui";var u=document.createElement("div");u.className="ag-filter";var p=r.filter.getGui();if(t.isNodeOrElement(p))u.appendChild(p);else{var h=document.createElement("span");h.innerHTML=p,u.appendChild(h)}return r.scope?r.gui=this.$compile(u)(r.scope)[0]:r.gui=u,r},i.prototype.assertMethodHasNoParameters=function(e){var i=t.getFunctionParameters(e);i.length>0&&(console.warn("ag-grid: It looks like your filter is of the old type and expecting parameters in the constructor."),console.warn("ag-grid: From ag-grid 1.14, the constructor should take no parameters and init() used instead."))},i.prototype.showFilter=function(e,t){var i=this.getOrCreateFilterWrapper(e),o=this.popupService.addAsModalPopup(i.gui,!0);if(this.popupService.positionPopup(t,i.gui,!0),i.filter.afterGuiAttached){var r={hidePopup:o,eventSource:t};i.filter.afterGuiAttached(r)}},i}();e.FilterManager=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){this.templateCache={},this.waitingCallbacks={}}return e.prototype.init=function(e){this.$scope=e},e.prototype.getTemplate=function(e,t){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],r=this;if(!o){o=[],this.waitingCallbacks[e]=o;var n=new XMLHttpRequest;n.onload=function(){r.handleHttpResult(this,e)},n.open("GET",e),n.send()}return t&&o.push(t),null},e.prototype.handleHttpResult=function(e,t){if(200!==e.status||null===e.response)return void console.warn("Unable to get template error "+e.status+" - "+t);this.templateCache[t]=e.response||e.responseText;for(var i=this.waitingCallbacks[t],o=0;o<i.length;o++){var r=i[o];r()}if(this.$scope){var n=this;setTimeout(function(){n.$scope.$apply()},0)}},e}();e.TemplateService=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){function t(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0}var i=function(){function e(){}return e.prototype.init=function(e,t){this.angularGrid=e,this.selectionController=t},e.prototype.createSelectionCheckbox=function(e,i){var o=document.createElement("input");o.type="checkbox",o.name="name",o.className="ag-selection-checkbox",t(o,this.selectionController.isNodeSelected(e));var r=this;return o.onclick=function(e){e.stopPropagation()},o.onchange=function(){var e=o.checked;e?r.selectionController.selectIndex(i,!0):r.selectionController.deselectIndex(i)},this.angularGrid.addVirtualRowListener(i,{rowSelected:function(e){t(o,e)},rowRemoved:function(){}}),o},e}();e.SelectionRendererFactory=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(t){var i=(e.grid.Utils,function(){function e(){this.id=e.idSequence++}return e.prototype.getId=function(){return this.id},e.prototype.addElementAttachedListener=function(e){this.elementAttachedListeners||(this.elementAttachedListeners=[]),this.elementAttachedListeners.push(e)},e.prototype.fireElementAttached=function(e){if(this.elementAttachedListeners)for(var t=0;t<this.elementAttachedListeners.length;t++){var i=this.elementAttachedListeners[t];i(e)}},e.prototype.elementAttached=function(e){this.fireElementAttached(e)},e.prototype.toHtmlString=function(){return null},e.idSequence=0,e}());t.VElement=i}(t=e.vdom||(e.vdom={}))}(ag||(ag={}));var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},ag;!function(e){var t;!function(t){var i=e.grid.Utils,o=function(e){function o(t){e.call(this),this.style={},this.type=t}return __extends(o,e),o.prototype.getElement=function(){return this.element},o.prototype.setInnerHtml=function(e){this.bound?this.element.innerHTML=e:this.innerHtml=e},o.prototype.addStyles=function(e){var t=this;e&&(this.bound||this.style||(this.style={}),i.iterateObject(e,function(e,i){if(t.bound){var o=t.element.style;o[e]=i}else t.style[e]=i}))},o.prototype.attachEventListeners=function(e){if(this.eventListeners)for(var t=0;t<this.eventListeners.length;t++){var i=this.eventListeners[t];e.addEventListener(i.event,i.listener)}},o.prototype.addClass=function(e){this.bound?i.addCssClass(this.element,e):(this.classes||(this.classes=[]),this.classes.push(e))},o.prototype.removeClass=function(e){if(this.bound)i.removeCssClass(this.element,e);else{if(!this.classes)return;for(;this.classes.indexOf(e)>=0;)i.removeFromArray(this.classes,e)}},o.prototype.addClasses=function(e){if(e&&!(e.length<=0))if(this.bound)for(var t=0;t<e.length;t++)i.addCssClass(this.element,e[t]);else{this.classes||(this.classes=[]);for(var o=0;o<e.length;o++)this.classes.push(e[o])}},o.prototype.toHtmlString=function(){var e="";return e+="<"+this.type+' v_element_id="'+this.getId()+'" ',e+=this.toHtmlStringClasses(),e+=this.toHtmlStringAttributes(),e+=this.toHtmlStringStyles(),e+=">",this.innerHtml&&(e+=this.innerHtml),e+=this.toHtmlStringChildren(),e+="</"+this.type+">"},o.prototype.toHtmlStringChildren=function(){if(!this.children)return"";for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toHtmlString();return e},o.prototype.toHtmlStringAttributes=function(){if(!this.attributes)return"";var e="";return i.iterateObject(this.attributes,function(t,i){e+=" "+t+'="'+i+'"'}),e},o.prototype.toHtmlStringClasses=function(){return this.classes?' class="'+this.classes.join(" ")+'"':""},o.prototype.toHtmlStringStyles=function(){var e=' style="',t=!1;return i.iterateObject(this.style,function(i,o){e+=" "+i+": "+o+";",t=!0}),e+='"',t?e:""},o.prototype.appendChild=function(e){this.bound?i.isNodeOrElement(e)?this.element.appendChild(e):console.error("cannot appendChild with virtual child to already bound VHTMLElement"):(this.children||(this.children=[]),i.isNodeOrElement(e)?this.children.push(new t.VWrapperElement(e)):this.children.push(e))},o.prototype.setAttribute=function(e,t){this.bound?this.element.setAttribute(e,t):(this.attributes||(this.attributes={}),this.attributes[e]=t)},o.prototype.addEventListener=function(e,t){if(this.bound)this.element.addEventListener(e,t);else{this.eventListeners||(this.eventListeners=[]);var i=new r(e,t);this.eventListeners.push(i)}},o.prototype.removeEventListener=function(e,t){var i;if(this.bound)this.element.removeEventListener(e,t);else if(this.eventListeners){var o=new r(e,t);i=this.eventListeners.indexOf(o),this.eventListeners.splice(i,1)}},o.prototype.elementAttached=function(t){e.prototype.elementAttached.call(this,t),this.element=t,this.attachEventListeners(t),this.fireElementAttachedToChildren(t),this.bound=!0},o.prototype.fireElementAttachedToChildren=function(e){if(this.children)for(var t=0;t<this.children.length;t++){var i=this.children[t],o=e.querySelector('[v_element_id="'+i.getId()+'"]');i.elementAttached(o)}},o}(t.VElement);t.VHtmlElement=o;var r=function(){function e(e,t){this.event=e,this.listener=t}return e}()}(t=e.vdom||(e.vdom={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(e){function t(t){e.call(this),this.wrappedElement=t}return __extends(t,e),t.prototype.toHtmlString=function(){return'<span v_element_id="'+this.getId()+'"></span>'},t.prototype.elementAttached=function(e){var t=e.parentNode;t.insertBefore(this.wrappedElement,e),t.removeChild(e)},t}(e.VElement);e.VWrapperElement=t}(t=e.vdom||(e.vdom={}))}(ag||(ag={}));var ag;!function(e){var t;!function(t){var i=t.Utils,o=function(){function o(e,t,i,o,r,n,s,l,a,d,u,p,h,c,g,f){this.isFirstColumn=!1,this.isFirstColumn=e,this.column=t,this.rowRenderer=o,this.gridOptionsWrapper=r,this.expressionService=n,this.selectionRendererFactory=s,this.selectionController=l,this.cellRendererMap=d,this.$compile=i,this.templateService=a,this.columnController=c,this.valueService=g,this.eventService=f,this.checkboxSelection=this.column.colDef.checkboxSelection&&!u.floating,this.node=u,this.rowIndex=p,this.scope=h,this.data=this.getDataForRow(),this.value=this.getValue(),this.rowsNeeded=0,this.setupComponents()}return o.prototype.getColumn=function(){return this.column},o.prototype.getValue=function(){return this.valueService.getValue(this.column.colDef,this.data,this.node)},o.prototype.getRowsNeeded=function(){return this.rowsNeeded},o.prototype.getVGridCell=function(){return this.vGridCell},o.prototype.getDataForRow=function(){if(this.node.footer)return this.node.data;if(this.node.group){var e=this.gridOptionsWrapper.isGroupIncludeFooter(),t=this.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.node.expanded&&e&&!t?void 0:this.node.data}return this.node.data},o.prototype.setupComponents=function(){this.vGridCell=new e.vdom.VHtmlElement("div"),this.vGridCell.setAttribute("col",void 0!==this.column.index&&null!==this.column.index?this.column.index.toString():""),this.vGridCell.setAttribute("colId",this.column.colId),this.gridOptionsWrapper.isSuppressCellSelection()||this.node.floating||this.vGridCell.setAttribute("tabindex","-1"),this.addClasses(),this.addCellClickedHandler(),this.addCellDoubleClickedHandler(),this.addCellContextMenuHandler(),this.node.floating||this.addCellNavigationHandler(),this.vGridCell.addStyles({width:this.column.actualWidth+"px"}),this.createParentOfValue(),this.populateCell(),this.value&&this.column.colDef.showCellTooltip&&this.vGridCell.setAttribute("title",this.value),this.eCheckbox&&this.setSelected(this.selectionController.isNodeSelected(this.node))},o.prototype.startEditing=function(e){var o=this,r=this;this.editingCell=!0,i.removeAllChildren(this.vGridCell.getElement());var n=document.createElement("input");n.type="text",i.addCssClass(n,"ag-cell-edit-input");var s=e!==t.Constants.KEY_BACKSPACE&&e!==t.Constants.KEY_DELETE,l=this.getValue();s&&null!==l&&void 0!==l&&(n.value=l),n.style.width=this.column.actualWidth-14+"px",this.vGridCell.appendChild(n),n.focus(),n.select();var a=function(){r.stopEditing(n,a)};n.addEventListener("blur",a),n.addEventListener("keypress",function(e){var i=e.which||e.keyCode;i===t.Constants.KEY_ENTER&&(o.stopEditing(n,a),o.focusCell(!0))}),n.addEventListener("keydown",function(e){var i=e.which||e.keyCode;i===t.Constants.KEY_ESCAPE&&(o.stopEditing(n,a,!0),o.focusCell(!0))}),n.addEventListener("keydown",function(e){var i=e.which||e.keyCode;return i==t.Constants.KEY_TAB?(r.stopEditing(n,a),r.rowRenderer.startEditingNextCell(r.rowIndex,r.column,e.shiftKey),e.preventDefault(),!1):void 0})},o.prototype.focusCell=function(e){this.rowRenderer.focusCell(this.vGridCell.getElement(),this.rowIndex,this.column.index,this.column.colDef,e)},o.prototype.stopEditing=function(e,o,r){void 0===r&&(r=!1),this.editingCell=!1;var n=e.value,s=this.column.colDef;if(e.removeEventListener("blur",o),!r){var l={node:this.node,data:this.node.data,oldValue:this.node.data[s.field],newValue:n,rowIndex:this.rowIndex,colDef:s,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};s.newValueHandler?s.newValueHandler(l):this.node.data[s.field]=n,this.value=this.getValue(),l.newValue=this.value,"function"==typeof s.onCellValueChanged&&s.onCellValueChanged(l),this.eventService.dispatchEvent(t.Events.EVENT_CELL_VALUE_CHANGED,l)}i.removeAllChildren(this.vGridCell.getElement()),this.checkboxSelection&&this.vGridCell.appendChild(this.vCellWrapper.getElement()),this.refreshCell()},o.prototype.createParams=function(){var e={node:this.node,data:this.node.data,value:this.value,rowIndex:this.rowIndex,colDef:this.column.colDef,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};return e},o.prototype.createEvent=function(e,t){var i=this.createParams();return i.event=e,i.eventSource=t,i},o.prototype.addCellDoubleClickedHandler=function(){var e=this,i=this.column.colDef;this.vGridCell.addEventListener("dblclick",function(o){var r=e.createEvent(o,this);e.eventService.dispatchEvent(t.Events.EVENT_CELL_DOUBLE_CLICKED,r),"function"==typeof i.onCellDoubleClicked&&i.onCellDoubleClicked(r),!e.gridOptionsWrapper.isSingleClickEdit()&&e.isCellEditable()&&e.startEditing()})},o.prototype.addCellContextMenuHandler=function(){var e=this,i=this.column.colDef;this.vGridCell.addEventListener("contextmenu",function(o){var r=e.createEvent(o,this);e.eventService.dispatchEvent(t.Events.EVENT_CELL_CONTEXT_MENU,r),i.onCellContextMenu&&i.onCellContextMenu(r)})},o.prototype.isCellEditable=function(){if(this.editingCell)return!1;if(this.node.group)return!1;var e=this.column.colDef;if("boolean"==typeof e.editable)return e.editable;if("function"==typeof e.editable){var t=this.createParams(),i=e.editable;return i(t)}return!1},o.prototype.addCellClickedHandler=function(){var e=this.column.colDef,i=this;this.vGridCell.addEventListener("click",function(o){i.node.floating||i.focusCell(!1);var r=i.createEvent(o,this);i.eventService.dispatchEvent(t.Events.EVENT_CELL_CLICKED,r),e.onCellClicked&&e.onCellClicked(r),i.gridOptionsWrapper.isSingleClickEdit()&&i.isCellEditable()&&i.startEditing()})},o.prototype.populateCell=function(){this.putDataIntoCell(),this.addStylesFromCollDef(),this.addClassesFromCollDef(),this.addClassesFromRules()},o.prototype.addStylesFromCollDef=function(){var e=this.column.colDef;if(e.cellStyle){var t;if("function"==typeof e.cellStyle){var i={value:this.value,data:this.node.data,node:this.node,colDef:e,column:this.column,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},o=e.cellStyle;t=o(i)}else t=e.cellStyle;t&&this.vGridCell.addStyles(t)}},o.prototype.addClassesFromCollDef=function(){var e=this,t=this.column.colDef;if(t.cellClass){var i;if("function"==typeof t.cellClass){var o={value:this.value,data:this.node.data,node:this.node,colDef:t,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},r=t.cellClass;i=r(o)}else i=t.cellClass;"string"==typeof i?this.vGridCell.addClass(i):Array.isArray(i)&&i.forEach(function(t){e.vGridCell.addClass(t)})}},o.prototype.addClassesFromRules=function(){var e=this.column.colDef,t=e.cellClassRules;if("object"==typeof t&&null!==t)for(var i={value:this.value,data:this.node.data,node:this.node,colDef:e,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},o=Object.keys(t),r=0;r<o.length;r++){var n,s=o[r],l=t[s];"string"==typeof l?n=this.expressionService.evaluate(l,i):"function"==typeof l&&(n=l(i)),n?this.vGridCell.addClass(s):this.vGridCell.removeClass(s)}},o.prototype.addCellNavigationHandler=function(){var e=this;this.vGridCell.addEventListener("keydown",function(i){if(!e.editingCell&&i.target===e.vGridCell.getElement()){var o=i.which||i.keyCode,r=o===t.Constants.KEY_DOWN||o===t.Constants.KEY_UP||o===t.Constants.KEY_LEFT||o===t.Constants.KEY_RIGHT;if(r)return i.preventDefault(),void e.rowRenderer.navigateToNextCell(o,e.rowIndex,e.column);var n=e.isKeycodeForStartEditing(o);if(n&&e.isCellEditable())return e.startEditing(o),void i.preventDefault();var s=o===t.Constants.KEY_SPACE;if(s&&e.gridOptionsWrapper.isRowSelection()){var l=e.selectionController.isNodeSelected(e.node);return l?e.selectionController.deselectNode(e.node):e.selectionController.selectNode(e.node,!0),void i.preventDefault()}}})},o.prototype.isKeycodeForStartEditing=function(e){return e===t.Constants.KEY_ENTER||e===t.Constants.KEY_BACKSPACE||e===t.Constants.KEY_DELETE},o.prototype.createSelectionCheckbox=function(){function e(){var e=i.eCheckbox.checked;e?i.selectionController.selectIndex(i.rowIndex,!0):i.selectionController.deselectIndex(i.rowIndex)}var t=document.createElement("input");t.type="checkbox",t.name="name",t.className="ag-selection-checkbox",t.addEventListener("click",function(e){e.stopPropagation()});var i=this;this.checkboxOnChangeListener=e,t.onchange=this.checkboxOnChangeListener;var o=document.createElement("span");o.className="input-icon";var r=document.createElement("span");r.className="checkbox-input",r.appendChild(t),r.appendChild(o);var n=document.createElement("label");n.appendChild(r);var s=document.createElement("div");s.className="pi-btn-checkbox",s.appendChild(n);var l=document.createElement("div");l.onclick=function(){i.eCheckbox.checked=!i.eCheckbox.checked,e()},l.className="ag-header-cell-label group-checkbox",l.appendChild(s),this.eCheckbox=t,this.eCheckboxOutter=l},o.prototype.setSelected=function(e){this.eCheckbox&&(this.eCheckbox.onchange=null,"boolean"==typeof e?(this.eCheckbox.checked=e,this.eCheckbox.indeterminate=!1):this.eCheckbox.indeterminate=!0,this.eCheckbox.onchange=this.checkboxOnChangeListener)},o.prototype.createParentOfValue=function(){this.checkboxSelection?(this.vCellWrapper=new e.vdom.VHtmlElement("span"),this.vCellWrapper.addClass("ag-cell-wrapper"),this.vGridCell.appendChild(this.vCellWrapper),this.createSelectionCheckbox(),this.vCellWrapper.appendChild(new e.vdom.VWrapperElement(this.eCheckboxOutter)),this.vSpanWithValue=new e.vdom.VHtmlElement("span"),this.vSpanWithValue.addClass("ag-cell-value"),this.vCellWrapper.appendChild(this.vSpanWithValue),this.vParentOfValue=this.vSpanWithValue):(this.vGridCell.addClass("ag-cell-value"),this.vParentOfValue=this.vGridCell)},o.prototype.isVolatile=function(){return this.column.colDef["volatile"]},o.prototype.refreshCell=function(){i.removeAllChildren(this.vParentOfValue.getElement()),this.value=this.getValue(),this.populateCell(),this.checkboxSelection&&this.setSelected(this.selectionController.isNodeSelected(this.node)),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.vGridCell.getElement())(this.scope)},o.prototype.putDataIntoCell=function(){var e=this.column.colDef;if(e.template)this.vParentOfValue.setInnerHtml(e.template);else if(e.templateUrl){var t=this.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&this.vParentOfValue.setInnerHtml(t)}else e.floatingCellRenderer&&this.node.floating?this.useCellRenderer(e.floatingCellRenderer):e.cellRenderer?this.useCellRenderer(e.cellRenderer):void 0!==this.value&&null!==this.value&&""!==this.value&&this.vParentOfValue.setInnerHtml(this.value.toString());return e.wrapped?void this.useCellRenderer({renderer:"multiline"}):void 0},o.prototype.useCellRenderer=function(e){var t,o=this.column.colDef,r={value:this.value,valueGetter:this.getValue,data:this.node.data,node:this.node,colDef:o,column:this.column,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.vGridCell,rowsNeeded:0};if("object"==typeof e&&null!==e){var n=e;if(t=this.cellRendererMap[n.renderer],!t)throw"Cell renderer "+e+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof e)throw"Cell Renderer must be String or Function";t=e}var s=t(r);this.rowsNeeded=Math.max(r.rowsNeeded||1,this.gridOptionsWrapper.getMinRows()),i.isNodeOrElement(s)?this.vParentOfValue.appendChild(s):this.vParentOfValue.setInnerHtml(s)},o.prototype.addClasses=function(){this.vGridCell.addClass("ag-cell"),this.vGridCell.addClass("ag-cell-no-focus"),this.vGridCell.addClass("cell-col-"+this.column.index),this.node.group&&this.node.footer&&this.vGridCell.addClass("ag-footer-cell"),this.node.group&&!this.node.footer&&this.vGridCell.addClass("ag-group-cell")},o}();t.RenderedCell=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(t){var i=t.Utils,o=function(){function o(e,t,o,r,n,s,l,a,d,u,p,h,c,g,f,v,C,m,y){void 0===y&&(y=!0),this.renderedCells={},this.gridOptionsWrapper=e,this.valueService=t,this.parentScope=o,this.angularGrid=r,this.expressionService=s,this.columnController=n,this.cellRendererMap=l,this.selectionRendererFactory=a,this.$compile=d,this.templateService=u,this.selectionController=p,this.rowRenderer=h,this.eBodyContainer=c,this.ePinnedContainer=g,this.pinning=n.isPinning(),this.eventService=C,this.headerHeight=0;var E=(i.findParentWithClass(this.eBodyContainer,"ag-root"),this.gridOptionsWrapper.isGroupUseEntireRow()),w=f.group&&E,R=this.gridOptionsWrapper.getRowHeight();this.gridOptionsWrapper.getRowHeightExtra();this.isListenMove=!1,this.listenMoveRef=null,this.vBodyRow=this.createRowContainer(),this.pinning&&(this.vPinnedRow=this.createRowContainer()),this.maxRowsNeeded=0,this.rowIndex=v,this.node=f,this.scope=this.createChildScopeOrNull(f.data),w||this.drawNormalRow(),this.addDynamicStyles(),this.addDynamicClasses();var S=this.rowIndex.toString();if(this.node.floatingBottom?S="fb-"+S:this.node.floatingTop&&(S="ft-"+S),this.vBodyRow.setAttribute("row",S),this.pinning&&this.vPinnedRow.setAttribute("row",S),"function"==typeof this.gridOptionsWrapper.getBusinessKeyForNodeFunc()){var O=this.gridOptionsWrapper.getBusinessKeyForNodeFunc()(this.node);("string"==typeof O||"number"==typeof O)&&(this.vBodyRow.setAttribute("row-id",O),this.pinning&&this.vPinnedRow.setAttribute("row-id",O))}this.top=R*m,this.topPX=this.top+"px",this.height=R*(this.maxRowsNeeded||1),this.heightPX=this.height+"px",this.gridOptionsWrapper.isForPrint()||(this.vBodyRow.style.top=this.topPX,this.pinning&&(this.vPinnedRow.style.top=this.topPX)),this.vBodyRow.style.height=this.heightPX,this.pinning&&(this.vPinnedRow.style.height=this.heightPX),w&&this.createGroupRow(),this.bindVirtualElement(this.vBodyRow),this.pinning&&this.bindVirtualElement(this.vPinnedRow),this.scope&&(this.$compile(this.vBodyRow.getElement())(this.scope),this.pinning&&this.$compile(this.vPinnedRow.getElement())(this.scope)),y&&this.insertInDOM()}return o.prototype.insertInDOM=function(){this.eBodyContainer.appendChild(this.vBodyRow.getElement()),this.pinning&&this.ePinnedContainer.appendChild(this.vPinnedRow.getElement())},o.prototype.getMaxRowsNeeded=function(){return this.maxRowsNeeded},o.prototype.onRowSelected=function(e){i.iterateObject(this.renderedCells,function(t,i){i.setSelected(e)})},o.prototype.softRefresh=function(){i.iterateObject(this.renderedCells,function(e,t){t.isVolatile()&&t.refreshCell()})},o.prototype.getRenderedCellForColumn=function(e){return this.renderedCells[e.index]},o.prototype.getCellForCol=function(e){var t=this.renderedCells[e.index];return t?t.getVGridCell().getElement():null},o.prototype.destroy=function(){this.destroyScope(),this.pinning&&this.ePinnedContainer.removeChild(this.vPinnedRow.getElement()),this.eBodyContainer.removeChild(this.vBodyRow.getElement())},o.prototype.destroyScope=function(){this.scope&&(this.scope.$destroy(),this.scope=null)},o.prototype.isDataInList=function(e){return e.indexOf(this.node.data)>=0},o.prototype.isNodeInList=function(e){return e.indexOf(this.node)>=0},o.prototype.isGroup=function(){return this.node.group===!0},o.prototype.getId=function(){return this.node.id},o.prototype.drawNormalRow=function(){for(var e=this.columnController.getDisplayedColumns(),i=0,o=0;o<e.length;o++){var r=e[o],n=0===o,s=new t.RenderedCell(n,r,this.$compile,this.rowRenderer,this.gridOptionsWrapper,this.expressionService,this.selectionRendererFactory,this.selectionController,this.templateService,this.cellRendererMap,this.node,this.rowIndex,this.scope,this.columnController,this.valueService,this.eventService);i=Math.max(s.getRowsNeeded(),i);var l=s.getVGridCell();r.pinned?this.vPinnedRow.appendChild(l):this.vBodyRow.appendChild(l),this.renderedCells[r.index]=s}this.maxRowsNeeded=i},o.prototype.bindVirtualElement=function(e){var t=e.toHtmlString(),o=i.loadTemplate(t);e.elementAttached(o)},o.prototype.createGroupRow=function(){var e=this.createGroupSpanningEntireRowCell(!1);if(this.pinning){this.vPinnedRow.appendChild(e);var t=this.createGroupSpanningEntireRowCell(!0);this.vBodyRow.appendChild(t)}else this.vBodyRow.appendChild(e)},o.prototype.createGroupSpanningEntireRowCell=function(e){var t;if(e)t=document.createElement("span");else{var o=this.gridOptionsWrapper.getGroupRowRenderer();o||(o={renderer:"group",innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()});var r,n={node:this.node,data:this.node.data,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),colDef:{cellRenderer:o}};if("object"==typeof o&&null!==o){var s=o;if(r=this.cellRendererMap[s.renderer],!r)throw"Cell renderer "+o+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof o)throw"Cell Renderer must be String or Function";r=o}var l=r(n);t=i.isNodeOrElement(l)?l:i.loadTemplate(l)}return this.node.footer?i.addCssClass(t,"ag-footer-cell-entire-row"):i.addCssClass(t,"ag-group-cell-entire-row"),t},o.prototype.setMainRowWidth=function(e){this.vBodyRow.addStyles({width:e+"px"})},o.prototype.createChildScopeOrNull=function(e){if(this.gridOptionsWrapper.isAngularCompileRows()){var t=this.parentScope.$new();return t.data=e,t}return null},o.prototype.addDynamicStyles=function(){var e=this.gridOptionsWrapper.getRowStyle();e&&("function"==typeof e?console.log("ag-Grid: rowStyle should be a string or an array, not be a function, use getRowStyle() instead"):(this.vBodyRow.addStyles(e),this.pinning&&this.vPinnedRow.addStyles(e)));var t=this.gridOptionsWrapper.getRowStyleFunc();if(t){var i={data:this.node.data,node:this.node,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:this.scope},o=t(i);this.vBodyRow.addStyles(o),this.pinning&&this.vPinnedRow.addStyles(o)}},o.prototype.createParams=function(){var e={node:this.node,data:this.node.data,rowIndex:this.rowIndex,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};return e},o.prototype.createEvent=function(e,t){var i=this.createParams();return i.event=e,i.eventSource=t,i},o.prototype.createRowContainer=function(){function o(e){var t=(i.findParentWithClass(n.eBodyContainer,"ag-root"),document.querySelector("#ag-overlay-row"));n.rowRenderer.setHoveredOn(null),n.node&&(n.node.group?t.style.display="none":(t.style.display="",t.style.top=n.top+"px",t.style.height=n.heightPX,n.rowRenderer.setHoveredOn(n))),n.rowRenderer.setListenMouseMove(),n.isListenMove=!1,n.vBodyRow.getElement().removeEventListener("mousemove",o)}var r=new e.vdom.VHtmlElement("div"),n=this;return this.listenMoveRef=o,this.isListenMove=!1,r.addEventListener("click",function(e){var i=n.createEvent(e,this);n.eventService.dispatchEvent(t.Events.EVENT_ROW_CLICKED,i);var o=e.ctrlKey||e.metaKey;n.angularGrid.onRowClicked(o,n.rowIndex,n.node);
}),r.addEventListener("dblclick",function(e){var i=n.createEvent(e,this);n.eventService.dispatchEvent(t.Events.EVENT_ROW_DOUBLE_CLICKED,i)}),r},o.prototype.isListenForMove=function(e){return void 0!==e&&(this.isListenMove=e),this.isListenMove},o.prototype.getRowNode=function(){return this.node},o.prototype.getRowIndex=function(){return this.rowIndex},o.prototype.refreshCells=function(e){if(e){var t=this.columnController.getColumns(e);i.iterateObject(this.renderedCells,function(e,i){var o=i.getColumn();t.indexOf(o)>=0&&i.refreshCell()})}},o.prototype.addDynamicClasses=function(){var e=[];e.push("ag-row"),e.push(this.rowIndex%2==0?"ag-row-even":"ag-row-odd"),this.selectionController.isNodeSelected(this.node)&&e.push("ag-row-selected"),this.node.group?(e.push("ag-row-group"),e.push("ag-row-level-"+this.node.level),!this.node.footer&&this.node.expanded&&e.push("ag-row-group-expanded"),this.node.footer||this.node.expanded||e.push("ag-row-group-contracted"),this.node.footer&&e.push("ag-row-footer")):this.node.parent?e.push("ag-row-level-"+(this.node.parent.level+1)):e.push("ag-row-level-0");var t=this.gridOptionsWrapper.getRowClass();t&&("function"==typeof t?console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead"):"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach(function(t){e.push(t)}));var i=this.gridOptionsWrapper.getRowClassFunc();if(i){var o={node:this.node,data:this.node.data,rowIndex:this.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},r=i(o);r&&("string"==typeof r?e.push(r):Array.isArray(r)&&r.forEach(function(t){e.push(t)}))}this.vBodyRow.addClasses(e),this.pinning&&this.vPinnedRow.addClasses(e)},o}();t.RenderedRow=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){function t(e,t){var o=i(t),n=document.createElementNS(r,"polygon");return n.setAttribute("points",e),o.appendChild(n),o}function i(e){var t=document.createElementNS(r,"svg");return e>0?(t.setAttribute("width",e),t.setAttribute("height",e)):(t.setAttribute("width","10"),t.setAttribute("height","10")),t}function o(e){var t=i(),o=document.createElementNS(r,"circle");return o.setAttribute("cx","5"),o.setAttribute("cy","5"),o.setAttribute("r","5"),o.setAttribute("stroke","black"),o.setAttribute("stroke-width","2"),e?o.setAttribute("fill","black"):o.setAttribute("fill","none"),t.appendChild(o),t}var r="http://www.w3.org/2000/svg",n=function(){function e(){}return e.getInstance=function(){return this.theInstance||(this.theInstance=new e),this.theInstance},e.prototype.createFilterSvg=function(){var e=i(),t=document.createElementNS(r,"polygon");return t.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),t.setAttribute("class","ag-header-icon"),e.appendChild(t),e},e.prototype.createColumnShowingSvg=function(){return o(!0)},e.prototype.createColumnHiddenSvg=function(){return o(!1)},e.prototype.createMenuSvg=function(){var e=document.createElementNS(r,"svg"),t="12";return e.setAttribute("width",t),e.setAttribute("height",t),["0","5","10"].forEach(function(i){var o=document.createElementNS(r,"rect");o.setAttribute("y",i),o.setAttribute("width",t),o.setAttribute("height","2"),o.setAttribute("class","ag-header-icon"),e.appendChild(o)}),e},e.prototype.createArrowUpSvg=function(){return t("0,10 5,0 10,10")},e.prototype.createArrowLeftSvg=function(){return t("10,0 0,5 10,10")},e.prototype.createArrowDownSvg=function(){return t("0,0 5,10 10,0")},e.prototype.createArrowRightSvg=function(){return t("0,0 10,5 0,10")},e.prototype.createSmallArrowDownSvg=function(){return t("0,0 3,6 6,0",6)},e.prototype.createArrowUpDownSvg=function(){var e=i(),t=document.createElementNS(r,"polygon");t.setAttribute("points","0,4 5,0 10,4"),e.appendChild(t);var o=document.createElementNS(r,"polygon");return o.setAttribute("points","0,6 5,10 10,6"),e.appendChild(o),e},e}();e.SvgFactory=n}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){function t(e,t,n){function s(e,t){function i(){u(n,s,t)}var n=p(!0),s=p(!1);e.appendChild(n),e.appendChild(s),n.addEventListener("click",i),s.addEventListener("click",i),e.addEventListener("dblclick",i),l(n,s,t.node.expanded),t.eGridCell&&t.eGridCell.addEventListener("keydown",function(e){o.isKeyPressed(e,r.KEY_ENTER)&&(i(),e.preventDefault())})}function l(e,t,i){o.setVisible(e,!i),o.setVisible(t,i)}function a(e,t,i){o.useRenderer(e,i,t)}function d(t){return e.isGroupIncludeFooter()?t.rowIndex:t.rowIndex+1}function u(e,t,i){i.node.expanded=!i.node.expanded;var o=d(i);i.api.onGroupExpandedOrCollapsed(o),l(e,t,i.node.expanded)}function p(t){var r;return r=t?o.createIcon("groupContracted",e,null,i.createArrowRightSvg):o.createIcon("groupExpanded",e,null,i.createArrowDownSvg),o.addCssClass(r,"ag-group-expand"),r}function h(e,t){var i,r=c(t);if(t.colDef&&t.colDef.cellRenderer&&t.colDef.cellRenderer.footerValueGetter){var s=t.colDef.cellRenderer.footerValueGetter,l=o.cloneObject(t);l.value=r,"function"==typeof s?i=s(l):"string"==typeof s?i=n.evaluate(s,l):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else i="Total "+r;var a=document.createTextNode(i);e.appendChild(a)}function c(e){var t=e.colDef.cellRenderer;if(t&&t.keyMap&&"object"==typeof t.keyMap&&null!==e.colDef.cellRenderer){var i=t.keyMap[e.node.key];return i?i:e.node.key}return e.node.key}function g(e,t){var i=c(t),r=t.api.getColumnDef(t.node.field);r&&"function"==typeof r.cellRenderer?(t.value=i,o.useRenderer(e,r.cellRenderer,t)):e.appendChild(document.createTextNode(i));var n=t.colDef.cellRenderer&&t.colDef.cellRenderer.suppressCount;!n&&t.node.allChildrenCount>=0&&e.appendChild(document.createTextNode(" ("+t.node.allChildrenCount+")"))}function f(e,t){if(t.value){var i=document.createTextNode(" "+t.value);e.appendChild(i)}}return function(e){var i=document.createElement("span"),o=e.node,r=o.group&&!o.footer;r&&s(i,e);var n=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.checkbox&&!o.footer;if(n){var l=t.createSelectionCheckbox(o,e.rowIndex);i.appendChild(l)}e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.innerRenderer?a(i,e,e.colDef.cellRenderer.innerRenderer):o.footer?h(i,e):o.group?g(i,e):f(i,e);var d=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.suppressPadding;if(!d&&(o.footer||o.level>0)){var u;u=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.padding>=0?e.colDef.cellRenderer.padding:10;var p=o.level*u;o.footer?p+=10:o.group||(p+=5),i.style.paddingLeft=p+"px"}return i}}var i=e.SvgFactory.getInstance(),o=e.Utils,r=e.Constants;e.groupCellRendererFactory=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){function t(e){function t(t,i){void 0===i&&(i=!1);var o=e.getGroupControlWidth(),r=[],n=0;for(i&&(n=1);t>n;)r.push("<span class='group-expand-shifter'></span>"),n++;return i&&o&&r.push("<span class='group-expand-shifter group-expand-shifter-extra' style='width:"+o+"px;'></span>"),'<div class="pi-table-cell_top pi-table-cell_fixed">'+r.join("")+"</div>"}return function(o){if(o.node.group)return o.value;var r=e.getFont(),n="",s=o.column.actualWidth-e.getWidthGap(),l=e.getGroupShiftWidth(),a=e.getGroupControlWidth();if(l&&o.node&&o.node.level&&(s-=l*o.node.level),0===o.column.index&&a&&(s-=a),10>s&&(s=9),null!==o.value&&void 0!==o.value){var d=i.getWidthHeight(o.value,s,r,e.getMaxRows()),u=d.outputLines;o.rowsNeeded=d.numLines;for(var p=0;p<u.length-1;p++)n+="<div>"+u[p]+"</div>\n";if(n+='<div style="overflow: hidden; text-overflow: ellipsis; width: '+s+'px;">'+u[u.length-1]+"</div>",0===o.column.index&&s>=10){var h=t(o.node.level||0,!0);n='<div class="pi-table-cell_top pi-table-cell_fluid">'+n+"</div>",n='<div class="pi-table">'+h+n+"</div>"}}return n}}var i=e.Utils;e.multilineCellRendererFactory=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){function t(e,t,i){return function(e){return"<div></div>"}}e.SvgFactory.getInstance(),e.Utils,e.Constants;e.groupHeaderFactory=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function i(){this.renderedTopFloatingRows=[],this.renderedBottomFloatingRows=[]}return i.prototype.init=function(t,i,o,r,n,s,l,a,d,u,p,h){this.columnModel=t,this.gridOptionsWrapper=i,this.angularGrid=r,this.selectionRendererFactory=n,this.gridPanel=o,this.$compile=s,this.$scope=l,this.selectionController=a,this.expressionService=d,this.templateService=u,this.valueService=p,this.findAllElements(o),this.eventService=h,this.hoveredOn=void 0,this.cellRendererMap={group:e.groupCellRendererFactory(i,n,d),groupHeader:e.groupHeaderFactory(i,n,d),multiline:e.multilineCellRendererFactory(i),"default":function(e){return e.value}},this.renderedRows={}},i.prototype.setRowModel=function(e){this.rowModel=e},i.prototype.onIndividualColumnResized=function(e){var t=e.actualWidth+"px",i=".cell-col-"+e.index;this.eParentsOfRows.forEach(function(e){for(var o=e.querySelectorAll(i),r=0;r<o.length;r++){var n=o[r];n.style.width=t}})},i.prototype.setMainRowWidths=function(){var e=this.columnModel.getBodyContainerWidth()+"px";this.eAllBodyContainers.forEach(function(t){for(var i=t.querySelectorAll(".ag-row"),o=0;o<i.length;o++)i[o].style.width=e})},i.prototype.findAllElements=function(e){this.eBodyContainer=e.getBodyContainer(),this.ePinnedColsContainer=e.getPinnedColsContainer(),this.eFloatingTopContainer=e.getFloatingTopContainer(),this.eFloatingTopPinnedContainer=e.getPinnedFloatingTop(),this.eFloatingBottomContainer=e.getFloatingBottomContainer(),this.eFloatingBottomPinnedContainer=e.getPinnedFloatingBottom(),this.eBodyViewport=e.getBodyViewport(),this.eParentsOfRows=e.getRowsParent(),this.eAllBodyContainers=[this.eBodyContainer,this.eFloatingBottomContainer,this.eFloatingTopContainer],this.eAllPinnedContainers=[this.ePinnedColsContainer,this.eFloatingBottomPinnedContainer,this.eFloatingTopPinnedContainer]},i.prototype.refreshAllFloatingRows=function(){this.refreshFloatingRows(this.renderedTopFloatingRows,this.gridOptionsWrapper.getFloatingTopRowData(),this.eFloatingTopPinnedContainer,this.eFloatingTopContainer,!0),this.refreshFloatingRows(this.renderedBottomFloatingRows,this.gridOptionsWrapper.getFloatingBottomRowData(),this.eFloatingBottomPinnedContainer,this.eFloatingBottomContainer,!1)},i.prototype.refreshFloatingRows=function(t,i,o,r,n){var s=this;t.forEach(function(e){e.destroy()}),t.length=0;var l=this.columnModel.getDisplayedColumns();if(l&&0!=l.length){var a=this.columnModel.getBodyContainerWidth();i&&i.forEach(function(i,l){var d={data:i,floating:!0,floatingTop:n,floatingBottom:!n},u=new e.RenderedRow(s.gridOptionsWrapper,s.valueService,s.$scope,s.angularGrid,s.columnModel,s.expressionService,s.cellRendererMap,s.selectionRendererFactory,s.$compile,s.templateService,s.selectionController,s,r,o,d,l,s.eventService);u.setMainRowWidth(a),t.push(u)})}},i.prototype.refreshView=function(e){if(!this.gridOptionsWrapper.isForPrint()){var t=this.rowModel.getGridRowCount(),i=this.gridOptionsWrapper.getRowHeight()*t;this.eBodyContainer.style.height=i+"px",this.ePinnedColsContainer.style.height=i+"px"}this.refreshAllVirtualRows(e),this.refreshAllFloatingRows(),this.selectionController.refreshSelection()},i.prototype.softRefreshView=function(){t.iterateObject(this.renderedRows,function(e,t){t.softRefresh()})},i.prototype.refreshRows=function(e){if(e&&0!=e.length){var i=[];t.iterateObject(this.renderedRows,function(t,o){var r=o.getRowNode();e.indexOf(r)>=0&&i.push(t)}),this.removeVirtualRow(i),this.drawVirtualRows()}},i.prototype.refreshCells=function(e,i){e&&0!=e.length&&t.iterateObject(this.renderedRows,function(t,o){var r=o.getRowNode();e.indexOf(r)>=0&&o.refreshCells(i)})},i.prototype.rowDataChanged=function(e){var t=[],i=this.renderedRows;Object.keys(i).forEach(function(o){var r=i[o];r.isDataInList(e)&&t.push(o)}),this.removeVirtualRow(t),this.drawVirtualRows()},i.prototype.refreshAllVirtualRows=function(e){var t=Object.keys(this.renderedRows);this.removeVirtualRow(t,e),this.countGridRows(),this.drawVirtualRows()},i.prototype.refreshGroupRows=function(){var e=[],t=this;Object.keys(this.renderedRows).forEach(function(i){var o=t.renderedRows[i];o.isGroup()&&e.push(i)}),this.removeVirtualRow(e),this.ensureRowsRendered()},i.prototype.removeVirtualRow=function(e,t){var i=this,o="number"==typeof t?t:-1;e.forEach(function(e){e>=o&&(i.unbindVirtualRow(e),i.focusedCell&&i.focusedCell.rowIndex==e&&(i.focusedCell=null))})},i.prototype.unbindVirtualRow=function(t){var i=this.renderedRows[t];i.destroy();var o={node:i.getRowNode(),rowIndex:t};this.eventService.dispatchEvent(e.Events.EVENT_VIRTUAL_ROW_REMOVED,o),this.angularGrid.onVirtualRowRemoved(t),delete this.renderedRows[t]},i.prototype.drawVirtualRows=function(){var e,t,i=this.rowModel.getVirtualRowCount(),o=(this.cellRendererMap.multiline,this.columnModel.getBodyContainerWidth(),this.gridOptionsWrapper.getRowHeight());if(this.gridOptionsWrapper.isForPrint())e=0,t=i;else{for(var r,n=this.eBodyViewport.scrollTop,s=n+this.eBodyViewport.offsetHeight,l=0,a=0,d=0;i>d&&(r=this.rowModel.getVirtualRow(d),r)&&(a=r.group?1:r.gridHeight,!((l+a)*o>n));d++)l+=a;for(e=d;i>d&&(r=this.rowModel.getVirtualRow(d),r)&&(l+=r.group?1:r.gridHeight,!(l*o>s));d++);t=d;var u=this.gridOptionsWrapper.getRowBuffer();e-=u,t+=u,0>e&&(e=0),t>i-1&&(t=i-1)}this.firstVirtualRenderedRow=e,this.lastVirtualRenderedRow=t,this.ensureRowsRendered()},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstVirtualRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastVirtualRenderedRow},i.prototype.countGridRows=function(){for(var e,t,i=this.columnModel.getBodyContainerWidth(),o=(this.gridOptionsWrapper.getRowHeight(),this.rowModel.getVirtualRowCount()),r=0;o>r;r++)if(e=this.rowModel.getVirtualRow(r),e.group)e.gridHeight=1;else{if(t=this.insertRow(e,r,i,0,!1),void 0===t)throw"Row is not rendered with id: "+e.id;e.gridHeight=t.maxRowsNeeded}},i.prototype.ensureRowsRendered=function(e){void 0===e&&(e={});var t,i=this.columnModel.getBodyContainerWidth(),o=this,r=Object.keys(this.renderedRows),n=0,s=(this.gridOptionsWrapper.getRowHeight(),0);t=this.rowModel.getVirtualRowsUpto(this.firstVirtualRenderedRow);for(var l=0;l<t.length;l++){var a=t[l];n+=a.group?1:a.gridHeight}for(var d=this.firstVirtualRenderedRow;d<=this.lastVirtualRenderedRow;d++){var u=this.rowModel.getVirtualRow(d);u&&(s=u.group?1:u.gridHeight),n+=s,r.indexOf(d.toString())>=0?r.splice(r.indexOf(d.toString()),1):u&&o.insertRow(u,d,i,n-s)}this.removeVirtualRow(r),this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout(function(){o.$scope.$apply()},0)},i.prototype.insertRow=function(t,i,o,r,n){void 0===n&&(n=!0);var s=this.columnModel.getDisplayedColumns();if(s&&0!=s.length){var l=new e.RenderedRow(this.gridOptionsWrapper,this.valueService,this.$scope,this.angularGrid,this.columnModel,this.expressionService,this.cellRendererMap,this.selectionRendererFactory,this.$compile,this.templateService,this.selectionController,this,this.eBodyContainer,this.ePinnedColsContainer,t,i,this.eventService,r,n);return n&&(l.setMainRowWidth(o),this.renderedRows[i]=l),l}},i.prototype.getRenderedNodes=function(){var e=this.renderedRows;return Object.keys(e).map(function(t){return e[t].getRowNode()})},i.prototype.getRenderedRows=function(){return this.renderedRows},i.prototype.setListenMouseMove=function(e){void 0===e&&(e=!0);var t,i,o=this.renderedRows;for(var r in o)i=o[r],t=e?i.vBodyRow.addEventListener.bind(i.vBodyRow):i.vBodyRow.removeEventListener.bind(i.vBodyRow),e!==i.isListenForMove()&&(t("mousemove",i.listenMoveRef),i.isListenForMove(e))},i.prototype.setHoveredOn=function(e){null!==e&&void 0!==e&&e.node&&(this.hoveredOn=e.node)},i.prototype.getHoveredOn=function(){return this.hoveredOn},i.prototype.getIndexOfRenderedNode=function(e){for(var t=this.renderedRows,i=Object.keys(t),o=0;o<i.length;o++){var r=i[o];if(t[r].getRowNode()===e)return t[r].getRowIndex()}return-1},i.prototype.navigateToNextCell=function(e,t,i){for(var o,r,n={rowIndex:t,column:i};!r;){if(n=this.getNextCellToFocus(e,n),!n)return;o=this.renderedRows[n.rowIndex],r=o.getCellForCol(n.column)}this.gridPanel.ensureIndexVisible(o.getRowIndex()),this.focusCell(r,n.rowIndex,n.column.index,n.column.colDef,!0)},i.prototype.getNextCellToFocus=function(t,i){var o,r,n=i.rowIndex,s=i.column;switch(t){case e.Constants.KEY_UP:if(n===this.firstVirtualRenderedRow)return null;o=n-1,r=s;break;case e.Constants.KEY_DOWN:if(n===this.lastVirtualRenderedRow)return null;o=n+1,r=s;break;case e.Constants.KEY_RIGHT:var l=this.columnModel.getVisibleColAfter(s);if(!l)return null;o=n,r=l;break;case e.Constants.KEY_LEFT:var a=this.columnModel.getVisibleColBefore(s);if(!a)return null;o=n,r=a}return{rowIndex:o,column:r}},i.prototype.onRowSelected=function(e,t){this.renderedRows[e]&&this.renderedRows[e].onRowSelected(t)},i.prototype.focusCell=function(i,o,r,n,s){this.gridOptionsWrapper.isSuppressCellSelection()||(this.eParentsOfRows.forEach(function(e){t.querySelectorAll_replaceCssClass(e,".ag-cell-focus","ag-cell-focus","ag-cell-no-focus");var i='[row="'+o+'"] [col="'+r+'"]';t.querySelectorAll_replaceCssClass(e,i,"ag-cell-no-focus","ag-cell-focus")}),this.focusedCell={rowIndex:o,colIndex:r,node:this.rowModel.getVirtualRow(o),colDef:n},s&&i.focus(),this.eventService.dispatchEvent(e.Events.EVENT_CELL_FOCUSED,this.focusedCell))},i.prototype.getFocusedCell=function(){return this.focusedCell},i.prototype.setFocusedCell=function(e,t){var i=this.renderedRows[e],o=this.columnModel.getDisplayedColumns()[t];if(i&&o){var r=i.getCellForCol(o);this.focusCell(r,e,t,o.colDef,!0)}},i.prototype.startEditingNextCell=function(e,t,i){for(var o=this.firstVirtualRenderedRow,r=this.lastVirtualRenderedRow,n=e,s=this.columnModel.getDisplayedColumns(),l=t;;){var a=s.indexOf(l);if(i){if(l=s[a-1],l||(l=s[s.length-1],n--),o>n)return}else if(l=s[a+1],l||(l=s[0],n++),n>r)return;var d=this.renderedRows[n],u=d.getRenderedCellForColumn(l);if(u.isCellEditable())return u.startEditing(),void u.focusCell(!1)}},i}();e.RowRenderer=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=0,o=1,r=2,n=3,s=function(){function s(){}return s.prototype.init=function(e,t,i,o,r,n){this.eParentsOfRows=t.getRowsParent(),this.angularGrid=e,this.gridOptionsWrapper=i,this.$scope=o,this.rowRenderer=r,this.eventService=n,this.initSelectedNodesById(),this.selectedRows=[]},s.prototype.initSelectedNodesById=function(){this.selectedNodesById={}},s.prototype.getSelectedNodesById=function(){return this.selectedNodesById},s.prototype.getSelectedRows=function(){return this.selectedRows},s.prototype.getSelectedNodes=function(){for(var e=[],t=Object.keys(this.selectedNodesById),i=0;i<t.length;i++){var o=t[i],r=this.selectedNodesById[o];e.push(r)}return e},s.prototype.getBestCostNodeSelection=function(){function e(t){for(var r=0,n=t.length;n>r;r++){var s=t[r];o.isNodeSelected(s)?i.push(s):s.group&&s.children&&e(s.children)}}if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var t=this.rowModel.getTopLevelNodes(),i=[],o=this;return e(t),i},s.prototype.setRowModel=function(e){this.rowModel=e},s.prototype.deselectAll=function(){this.initSelectedNodesById(),this.syncSelectedRowsAndCallListener()},s.prototype.selectAll=function(){function e(o){if(o)for(var r=0;r<o.length;r++){var n=o[r];n.group?(e(n.children),i&&(t[n.id]=n)):t[n.id]=n}}if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var t=this.selectedNodesById,i=!this.gridOptionsWrapper.isGroupSelectsChildren(),o=this.rowModel.getTopLevelNodes();e(o),this.syncSelectedRowsAndCallListener()},s.prototype.selectNode=function(e,t,i){var o,r=this.gridOptionsWrapper.isRowSelectionMulti()&&t;o=e.footer?e.sibling:e;var n=!1,s=!1;r||(n=this.doWorkOfDeselectAllNodes(null,i)),s=this.gridOptionsWrapper.isGroupSelectsChildren()&&o.group?this.recursivelySelectAllChildren(o):this.doWorkOfSelectNode(o,i),(n||s)&&this.syncSelectedRowsAndCallListener(i),this.updateGroupParentsIfNeeded()},s.prototype.recursivelySelectAllChildren=function(e,t){var i=!1;if(e.children)for(var o=0;o<e.children.length;o++){var r=e.children[o];r.group?this.recursivelySelectAllChildren(r)&&(i=!0):this.doWorkOfSelectNode(r,t)&&(i=!0)}return i},s.prototype.recursivelyDeselectAllChildren=function(e,t){if(e.children)for(var i=0;i<e.children.length;i++){var o=e.children[i];o.group?this.recursivelyDeselectAllChildren(o,t):this.deselectRealNode(o,t)}},s.prototype.doWorkOfSelectNode=function(t,i){if(this.selectedNodesById[t.id])return!1;if(this.selectedNodesById[t.id]=t,this.addCssClassForNode_andInformVirtualRowListener(t),t.group&&t.expanded&&t.sibling&&this.addCssClassForNode_andInformVirtualRowListener(t.sibling),!i){var o={node:t};this.eventService.dispatchEvent(e.Events.EVENT_ROW_SELECTED,o)}return!0},s.prototype.addCssClassForNode_andInformVirtualRowListener=function(e){var i=this.rowRenderer.getIndexOfRenderedNode(e);i>=0&&(this.eParentsOfRows.forEach(function(e){t.querySelectorAll_addCssClass(e,'[row="'+i+'"]',"ag-row-selected")}),this.angularGrid.onVirtualRowSelected(i,!0))},s.prototype.doWorkOfDeselectAllNodes=function(e,t){for(var i,o=Object.keys(this.selectedNodesById),r=0;r<o.length;r++){var n=o[r],s=this.selectedNodesById[n];s!==e&&(this.deselectRealNode(s,t),i=!0)}return i},s.prototype.deselectRealNode=function(t,i){if(this.removeCssClassForNode(t),t.group&&t.expanded&&t.sibling&&this.removeCssClassForNode(t.sibling),delete this.selectedNodesById[t.id],!i){var o={node:t};this.eventService.dispatchEvent(e.Events.EVENT_ROW_DESELECTED,o)}},s.prototype.removeCssClassForNode=function(e){var i=this.rowRenderer.getIndexOfRenderedNode(e);i>=0&&(this.eParentsOfRows.forEach(function(e){t.querySelectorAll_removeCssClass(e,'[row="'+i+'"]',"ag-row-selected")}),this.angularGrid.onVirtualRowSelected(i,!1))},s.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1);var i=this.rowModel.getVirtualRow(e);this.deselectNode(i,t)},s.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),e&&(this.gridOptionsWrapper.isGroupSelectsChildren()&&e.group?this.recursivelyDeselectAllChildren(e,t):this.deselectRealNode(e,t)),this.syncSelectedRowsAndCallListener(),this.updateGroupParentsIfNeeded()},s.prototype.selectIndex=function(e,t,i){void 0===i&&(i=!1);var o=this.rowModel.getVirtualRow(e);this.selectNode(o,t,i)},s.prototype.refreshSelection=function(){var t={selectedNodesById:this.selectedNodesById,selectedRows:this.selectedRows};this.eventService.dispatchEvent(e.Events.EVENT_SELECTION_CHANGED,t)},s.prototype.syncSelectedRowsAndCallListener=function(t){var i=this.selectedRows,o=i.length;i.length=0;for(var r=Object.keys(this.selectedNodesById),n=0;n<r.length;n++)if(void 0!==this.selectedNodesById[r[n]]){var s=this.selectedNodesById[r[n]];i.push(s.data)}var l=0===o&&0===i.length;if(!l&&!t){var a={selectedNodesById:this.selectedNodesById,selectedRows:this.selectedRows};this.eventService.dispatchEvent(e.Events.EVENT_SELECTION_CHANGED,a)}var d=this;this.$scope&&setTimeout(function(){d.$scope.$apply()},0)},s.prototype.recursivelyCheckIfSelected=function(e){var t=!1,s=!1;if(e.children)for(var l=0;l<e.children.length;l++){var a,d=e.children[l];if(d.group)switch(a=this.recursivelyCheckIfSelected(d)){case i:t=!0;break;case o:s=!0;break;case r:t=!0,s=!0}else this.isNodeSelected(d)?t=!0:s=!0;if(t&&s)return r}return t?i:s?o:n},s.prototype.isNodeSelected=function(e){if(!this.gridOptionsWrapper.isGroupSelectsChildren()||!e.group)return void 0!==this.selectedNodesById[e.id];var t=this.recursivelyCheckIfSelected(e);switch(t){case i:return!0;case o:return!1;default:return void 0}},s.prototype.updateGroupParentsIfNeeded=function(){if(this.gridOptionsWrapper.isGroupSelectsChildren())for(var e=this.rowRenderer.getFirstVirtualRenderedRow(),i=this.rowRenderer.getLastVirtualRenderedRow(),o=e;i>=o;o++){var r=this.rowModel.getVirtualRow(o);if(r.group){var n=this.isNodeSelected(r);this.angularGrid.onVirtualRowSelected(o,n),this.eParentsOfRows.forEach(function(e){n?t.querySelectorAll_addCssClass(e,'[row="'+o+'"]',"ag-row-selected"):t.querySelectorAll_removeCssClass(e,'[row="'+o+'"]',"ag-row-selected")})}}},s}();e.SelectionController=s}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(e){this.eRoot=e}return e.prototype.getERoot=function(){return this.eRoot},e.prototype.destroy=function(){},e.prototype.refreshFilterIcon=function(){},e.prototype.refreshSortIcon=function(){},e.prototype.onDragStart=function(){},e.prototype.onDragging=function(e,t){},e.prototype.onIndividualColumnResized=function(e){},e.prototype.addDragHandler=function(e){var t=this;e.addEventListener("mousedown",function(e){t.onDragStart(),t.eRoot.style.cursor="col-resize",t.dragStartX=e.clientX;var i={},o=0;i.mousemove=function(e){var i=e.clientX;o=i-t.dragStartX,t.onDragging(o,!1)},i.mouseup=function(){t.stopDragging(i,o)},i.mouseleave=function(){t.stopDragging(i,o)},t.eRoot.addEventListener("mousemove",i.mousemove),t.eRoot.addEventListener("mouseup",i.mouseup),t.eRoot.addEventListener("mouseleave",i.mouseleave)})},e.prototype.stopDragging=function(e,i){this.eRoot.style.cursor="";var o=this;t.iterateObject(e,function(e,t){o.eRoot.removeEventListener(e,t)}),o.onDragging(i,!0)},e}();e.RenderedHeaderElement=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=e.Constants,o=e.SvgFactory.getInstance(),r=function(e){function r(t,i,o,r,n,s,l,a,d,u,p){e.call(this,u),this.eRootRef=u,this.column=t,this.parentGroup=o,this.gridOptionsWrapper=r,this.parentScope=n,this.filterManager=s,this.columnController=l,this.$compile=a,this.angularGrid=d,this.popupService=p,this.headerElements=i,this.lockedForResize=!1,this.setupComponents()}return __extends(r,e),r.prototype.getGui=function(){return this.eHeaderCell},r.prototype.destroy=function(){this.childScope&&this.childScope.$destroy()},r.prototype.createScope=function(){this.gridOptionsWrapper.isAngularCompileHeaders()&&(this.childScope=this.parentScope.$new(),this.childScope.colDef=this.column.colDef,this.childScope.colIndex=this.column.index,this.childScope.colDefWrapper=this.column)},r.prototype.addAttributes=function(){this.eHeaderCell.setAttribute("col",void 0!==this.column.index&&null!==this.column.index?this.column.index.toString():""),this.eHeaderCell.setAttribute("colId",this.column.colId)},r.prototype.addClasses=function(){t.addCssClass(this.eHeaderCell,"ag-header-cell"),this.gridOptionsWrapper.isGroupHeaders()&&this.parentGroup&&this.parentGroup.getVisibleColumnsCount()>1?t.addCssClass(this.eHeaderCell,"ag-header-cell-grouped"):t.addCssClass(this.eHeaderCell,"ag-header-cell-not-grouped")},r.prototype.addSortIcons=function(e){var i=this.gridOptionsWrapper.isEnableSorting()&&!this.column.colDef.suppressSorting;i&&(this.eSortAsc=t.createIcon("sortAscending",this.gridOptionsWrapper,this.column,o.createArrowUpSvg),this.eSortDesc=t.createIcon("sortDescending",this.gridOptionsWrapper,this.column,o.createArrowDownSvg),t.addCssClass(this.eSortAsc,"ag-header-icon ag-sort-ascending-icon"),t.addCssClass(this.eSortDesc,"ag-header-icon ag-sort-descending-icon"),e.appendChild(this.eSortAsc),e.appendChild(this.eSortDesc),(this.column.colDef.unSortIcon||this.gridOptionsWrapper.isUnSortIcon())&&(this.eSortNone=t.createIcon("sortUnSort",this.gridOptionsWrapper,this.column,o.createArrowUpDownSvg),t.addCssClass(this.eSortNone,"ag-header-icon ag-sort-none-icon"),e.appendChild(this.eSortNone)),this.eSortAsc.style.display="none",this.eSortDesc.style.display="none",this.addSortHandling(e))},r.prototype.setupComponents=function(){if(this.eHeaderCell=document.createElement("div"),this.headerElements.frame&&(this.createScope(),this.addClasses(),this.addHeaderClassesFromCollDef(),this.addAttributes()),this.column.colDef.headerTooltip&&(this.eHeaderCell.title=this.column.colDef.headerTooltip),this.headerElements.resize&&this.gridOptionsWrapper.isEnableColResize()&&!this.column.colDef.suppressResize){var e=document.createElement("div");e.className="ag-header-cell-resize",this.eHeaderCell.appendChild(e),this.addDragHandler(e)}var i=document.createElement("div");i.className="ag-header-cell-label",this.gridOptionsWrapper.isGroupHeaders()&&this.parentGroup&&this.parentGroup.getVisibleColumnsCount()>1&&i.setAttribute("colId",this.column.colId);var o,r=this.columnController.getDisplayNameForCol(this.column);if(this.column.colDef.headerCellRenderer)o=this.column.colDef.headerCellRenderer;else if(this.gridOptionsWrapper.getHeaderCellRenderer())o=this.gridOptionsWrapper.getHeaderCellRenderer();else{var n="";this.headerElements.sort&&(n='\n                    <div class="ag-header-action-sort">\n                      <span class="ag-sort-icon b-icon icon-sort-arrow-up"></span>\n                      <span class="ag-sort-icon b-icon icon-sort-arrow-down"></span>\n                      <span class="ag-sort-icon b-icon icon-sort-alpha-up "></span>\n                      <span class="ag-sort-icon b-icon icon-sort-alpha-down"></span>\n                    </div>\n                    ');var s="";this.headerElements.freeze&&(s='\n                    <div class="ag-header-action-lock ag-locked-icon">\n                      <div class="pi-table-column-locked" >\n                          <label>\n                              <span class="checkbox-input">\n                                  <input id="ag-js-freeze" name="locked" type="checkbox" />\n                                  <span class="input-icon"></span>\n                              </span>\n                          </label>\n                      </div>\n                    </div>\n                    '),o=function(){return'\n                    <div class="ag-header-cell-actionbox ag-js-draghandler">\n                      <div class="ag-header-text">\n                        '+(r||"")+'\n                      </div>\n                      <div class="ag-header-action">\n                        '+s+"    \n                        "+n+"    \n                      </div>\n                    </div>                    \n                    "}}if(o)this.useRenderer(r,o,i);else{var l=document.createElement("span");l.className="ag-header-cell-text",l.innerHTML=r,i.appendChild(l)}if(this.headerElements.frame?(this.eHeaderCell.appendChild(i),this.eHeaderCell.style.width=t.formatWidth(this.column.actualWidth)):this.eHeaderCell=i,this.headerElements.drag){var a=this.eHeaderCell.querySelector(".ag-js-draghandler");a&&this.setupDND(a)}if(this.headerElements.sort&&this.addSortHandling(this.eHeaderCell),this.headerElements.freeze){var d=this.eHeaderCell.querySelector("#ag-js-freeze");d&&this.setupFreeze(d)}},r.prototype.detectDragParty=function(e){var t=e.colId;this.columnController.getColumnGroup(t)},r.prototype.isNogroupSamegroup=function(){var e=this.getDragSource(),t=e.sourceCols.displayedColumns,i=e.sourceColId,o=this.column,r=this.columnController.getColumnGroup(o.colId);return t.length&&o?1!==t.length?!r&&!o.colDef.headerGroup||o.colDef.headerGroup!==i?!0:i===o.colDef.headerGroup:(t=t[0],o.colDef.headerGroup?t[0].colDef.headerGroup===o.colDef.headerGroup:!0):!1},r.prototype.getDragSource=function(){var e=this.eRootRef.querySelector(".ag-dragging"),t=e.getAttribute("colId"),i=this.columnController.getColumn(t),o=!1;return i?(o=!0,i=[i]):i=this.columnController.getColumnGroup(t),{sourceColEl:e,sourceColId:t,sourceCols:i,isBracket:o,isFree:!1}},r.prototype.setupDND=function(e){var t=this;e.setAttribute("draggable","true"),e.addEventListener("dragstart",function(e){t.eHeaderCell.classList.add("ag-dragging"),e.dataTransfer.setData("text/plain",t.column.colId)}),e.addEventListener("dragover",function(e){e.preventDefault(),t.isNogroupSamegroup()?(console.log("ok"),e.dataTransfer.dropEffect="move"):(console.log("stop"),e.dataTransfer.dropEffect="none")}),e.addEventListener("dragend",function(){
t.eHeaderCell.classList.remove("ag-dragging")});var i,o=function(e){return i||t.eHeaderCell.classList.contains("ag-dragging")||!t.isNogroupSamegroup.call(t)||t.eHeaderCell.classList.add("ag-dragging-over"),i=e.target,e.stopPropagation(),e.preventDefault(),!1},r=function(e){i===e.target&&(t.eHeaderCell.classList.remove("ag-dragging-over"),i=null)};this.eHeaderCell.addEventListener("dragenter",o),this.eHeaderCell.addEventListener("dragleave",r),this.eHeaderCell.addEventListener("drop",function(e){var i,o=t.columnController.getPinnedColumnCount(),r=e.dataTransfer.getData("text/plain"),n=t.columnController.getAllColumns().indexOf(t.columnController.getColumn(r)),s=1,l=0;~n||(i=t.columnController.getColumnGroup(r).allColumns,n=i[0].index,s=i.length);for(var a=n>d?1:-1,d=t.columnController.getAllColumns().indexOf(t.column),u=0;s>u;u++)t.columnController.moveColumn(n+l,d+l),i&&n>d&&l++;return i&&Math.abs(n-o)+Math.abs(d-o)<=Math.abs(d-n)&&(o+=a*(s-1),t.columnController.setPinnedColumnCount(o)),e.stopPropagation(),e.preventDefault(),!1})},r.prototype.setupFreeze=function(e){var t,i,o=this;o.column.colDef.columnGroup&&(t=o.column.colDef.columnGroup.displayedColumns,i=t[t.length-1]),e.addEventListener("change",function(e){var r=i?i:o.column,n=o.columnController.getDisplayedColumns().indexOf(r);return e.target.checked?n++:i&&(n=o.columnController.getDisplayedColumns().indexOf(t[0])),o.columnController.setPinnedColumnCount(n),e.preventDefault(),e.stopPropagation(),!1}),this.eHeaderCell.querySelector("#ag-js-freeze").addEventListener("click",function(e){e.stopPropagation()}),(i&&i.pinned||this.column.index<this.columnController.getPinnedColumnCount())&&(this.eHeaderCell.querySelector("#ag-js-freeze").checked=!0)},r.prototype.useRenderer=function(e,i,o){var r,n={colDef:this.column.colDef,$scope:this.childScope,context:this.gridOptionsWrapper.getContext(),value:e,api:this.gridOptionsWrapper.getApi(),eHeaderCell:this.eHeaderCell},s=i(n);if(t.isNodeOrElement(s))r=s;else{var l=document.createElement("span");l.innerHTML=s,r=l}if(this.gridOptionsWrapper.isAngularCompileHeaders()){var a=this.$compile(r)(this.childScope)[0];o.appendChild(a)}else o.appendChild(r)},r.prototype.refreshFilterIcon=function(){return},r.prototype.refreshSortIcon=function(){var e=this.column.sort===i.ASC,o=this.column.sort===i.DESC,r=this.column.sort!==i.DESC&&this.column.sort!==i.ASC;e&&t.querySelectorAll_replaceCssClass(this.getGui(),".pi-ag-header-cell-sort-icon","pi-ag-header-cell-sort-icon-up","pi-ag-header-cell-sort-icon-down"),o&&t.querySelectorAll_replaceCssClass(this.getGui(),".pi-ag-header-cell-sort-icon","pi-ag-header-cell-sort-icon-down","pi-ag-header-cell-sort-icon-up"),r&&(t.querySelectorAll_removeCssClass(this.getGui(),".pi-ag-header-cell-sort-icon","pi-ag-header-cell-sort-icon-down"),t.querySelectorAll_removeCssClass(this.getGui(),".pi-ag-header-cell-sort-icon","pi-ag-header-cell-sort-icon-up"))},r.prototype.getNextSortDirection=function(){var e;if(e=this.column.colDef.sortingOrder?this.column.colDef.sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():r.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return void console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+e);var t,i=e.indexOf(this.column.sort),o=0>i,n=i==e.length-1;return t=o||n?e[0]:e[i+1],r.DEFAULT_SORTING_ORDER.indexOf(t)<0?(console.warn("ag-grid: invalid sort type "+t),null):t},r.prototype.addSortHandling=function(e){var t=this;e.addEventListener("click",function(e){var i={asc:"up",desc:"down"};t.column.sort=t.getNextSortDirection(),t.column.sort&&(Array.prototype.slice.call(t.eHeaderCell.querySelectorAll(".ag-sort-icon"),0).forEach(function(e){e.classList.remove("active")}),t.eHeaderCell.querySelector(".icon-sort-alpha-"+i[t.column.sort]).classList.add("active")),t.column.sort?t.column.sortedAt=(new Date).valueOf():t.column.sortedAt=null;var o=!t.gridOptionsWrapper.isSuppressMultiSort()&&e.shiftKey;o||t.columnController.getDisplayedColumns().forEach(function(e){e!==t.column&&(e.sort&&Array.prototype.slice.call(t.eRootRef.querySelector('.ag-header-cell[colID="'+e.colId+'"]').querySelectorAll(".ag-sort-icon"),0).forEach(function(e){e.classList.remove("active")}),e.sort=null)}),t.angularGrid.onSortingChanged()})},r.prototype.onDragStart=function(){this.startWidth=this.column.actualWidth},r.prototype.onDragging=function(e,t){var i=this.startWidth+e;this.columnController.setColumnWidth(this.column,i,t)},r.prototype.reflowText=function(e,t){var i=t.split(" "),o=!1;e.innerHTML=i[0];for(var r=1;r<i.length;r++)if(e.innerHTML=e.innerHTML+" "+i[r],e.scrollHeight!==e.clientHeight){o=!0;break}if(o){var n=e.innerHTML+"";do{do n=n.slice(0,-2)+"";while(" "===n.slice(-2,-1));e.innerHTML=n}while(n.length&&e.scrollHeight!==e.clientHeight)}},r.prototype.onIndividualColumnResized=function(e){if(this.column===e&&!this.lockedForResize){this.lockedForResize=!0;var t=e.actualWidth+"px";this.eHeaderCell.style.width=t;this.getGui().querySelector(".ag-header-text"),this.columnController.getDisplayNameForCol(this.column);this.lockedForResize=!1}},r.prototype.addHeaderClassesFromCollDef=function(){var e=this;if(this.column.colDef.headerClass){var i;if("function"==typeof this.column.colDef.headerClass){var o={colDef:this.column.colDef,$scope:this.childScope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},r=this.column.colDef.headerClass;i=r(o)}else i=this.column.colDef.headerClass;"string"==typeof i?t.addCssClass(this.eHeaderCell,i):Array.isArray(i)&&i.forEach(function(i){t.addCssClass(e.eHeaderCell,i)})}},r.DEFAULT_SORTING_ORDER=[i.ASC,i.DESC,null],r}(e.RenderedHeaderElement);e.RenderedHeaderCell=r}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=e.Constants,o=(e.SvgFactory.getInstance(),function(e){function o(t,i,o,r,n,s,l,a,d,u){e.call(this,u),this.column=t,this.parentGroup=o,this.gridOptionsWrapper=r,this.parentScope=n,this.filterManager=s,this.columnController=l,this.$compile=a,this.angularGrid=d,this.checkEl=this.setupComponents()}return __extends(o,e),o.prototype.toggle=function(e,t){var i=e;return t?(this.checkEl.removeAttribute("checked"),this.checkEl.checked=!1,void(this.checkEl.indeterminate=!0)):(void 0===i&&(i=!this.checkerState()),i?(this.checkEl.setAttribute("checked","true"),this.checkEl.indeterminate=!1,this.checkEl.checked=!0):(this.checkEl.removeAttribute("checked"),this.checkEl.indeterminate=!1,this.checkEl.checked=!1),i)},o.prototype.changeSelection=function(e){var t=this.gridOptionsWrapper.getApi(),i=!this.checkerState();void 0!==e&&(i=e),i?t.selectAll():t.deselectAll()},o.prototype.checkerState=function(){return this.checkEl.checked},o.prototype.setupComponents=function(){var e=this;this.eHeaderCell=document.createElement("div"),this.createScope(),this.addClasses(),this.addAttributes(),this.addHeaderClassesFromCollDef(),this.column.colDef.headerTooltip&&(this.eHeaderCell.title=this.column.colDef.headerTooltip);var i=document.createElement("input");i.id=this.angularGrid.getId()+"-checker-header",i.name=this.angularGrid.getId()+"-checker-header",i.type="checkbox",i.addEventListener("click",function(t){t.stopPropagation(),e.changeSelection(this.checked)});var o=document.createElement("span");o.className="input-icon";var r=document.createElement("span");r.className="checkbox-input",r.style.textAlign="left",r.appendChild(i),r.appendChild(o);var n=document.createElement("label");n.appendChild(r);var s=document.createElement("div");s.className="pi-btn-checkbox",s.appendChild(n);var l=document.createElement("div");return l.className="ag-header-cell-label group-checkbox",l.appendChild(s),this.eHeaderCell.appendChild(l),this.eHeaderCell.style.width=t.formatWidth(this.column.actualWidth),this.eHeaderCell.addEventListener("click",function(t){e.changeSelection()}),i},o.prototype.getGui=function(){return this.eHeaderCell},o.prototype.destroy=function(){this.childScope&&this.childScope.$destroy()},o.prototype.createScope=function(){this.gridOptionsWrapper.isAngularCompileHeaders()&&(this.childScope=this.parentScope.$new(),this.childScope.colDef=this.column.colDef,this.childScope.colIndex=this.column.index,this.childScope.colDefWrapper=this.column)},o.prototype.addAttributes=function(){this.eHeaderCell.setAttribute("col",void 0!==this.column.index&&null!==this.column.index?this.column.index.toString():""),this.eHeaderCell.setAttribute("colId",this.column.colId)},o.prototype.addClasses=function(){t.addCssClass(this.eHeaderCell,"ag-header-cell"),this.gridOptionsWrapper.isGroupHeaders()&&this.parentGroup&&this.parentGroup.getVisibleColumnsCount()>1?t.addCssClass(this.eHeaderCell,"ag-header-cell-grouped"):t.addCssClass(this.eHeaderCell,"ag-header-cell-not-grouped")},o.prototype.useRenderer=function(e,i,o){var r,n={colDef:this.column.colDef,$scope:this.childScope,context:this.gridOptionsWrapper.getContext(),value:e,api:this.gridOptionsWrapper.getApi(),eHeaderCell:this.eHeaderCell},s=i(n);if(t.isNodeOrElement(s))r=s;else{var l=document.createElement("span");l.innerHTML=s,r=l}if(this.gridOptionsWrapper.isAngularCompileHeaders()){var a=this.$compile(r)(this.childScope)[0];o.appendChild(a)}else o.appendChild(r)},o.prototype.addHeaderClassesFromCollDef=function(){var e=this;if(this.column.colDef.headerClass){var i;if("function"==typeof this.column.colDef.headerClass){var o={colDef:this.column.colDef,$scope:this.childScope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},r=this.column.colDef.headerClass;i=r(o)}else i=this.column.colDef.headerClass;"string"==typeof i?t.addCssClass(this.eHeaderCell,i):Array.isArray(i)&&i.forEach(function(i){t.addCssClass(e.eHeaderCell,i)})}},o.DEFAULT_SORTING_ORDER=[i.ASC,i.DESC,null],o}(e.RenderedHeaderElement));e.RenderedHeaderCheckerCell=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=e.Constants,o=e.SvgFactory.getInstance(),r=function(r){function n(e,t,i,o,n,s,l,a){r.call(this,o),this.children=[],this.columnController=i,this.columnGroup=e,this.gridOptionsWrapper=t,this.parentScope=s,this.filterManager=l,this.$compile=a,this.angularGrid=n,this.setupComponents()}return __extends(n,r),n.prototype.getGui=function(){return this.eHeaderGroup},n.prototype.destroy=function(){this.children.forEach(function(e){e.destroy()})},n.prototype.getVisibleColumnsCount=function(){return this.columnGroup.getVisibleColumnsCount()},n.prototype.refreshFilterIcon=function(){this.children.forEach(function(e){e.refreshFilterIcon()})},n.prototype.refreshSortIcon=function(){this.children.forEach(function(e){e.refreshSortIcon()})},n.prototype.onIndividualColumnResized=function(e){this.isColumnInOurDisplayedGroup(e)&&(this.children.forEach(function(t){t.onIndividualColumnResized(e)}),this.setWidthOfGroupHeaderCell())},n.prototype.setupComponents=function(){var t=this;this.eHeaderGroup=document.createElement("div"),this.eHeaderGroup.className="ag-header-group",this.eHeaderGroupCell=document.createElement("div");var i=["ag-header-group-cell"];this.columnGroup.name?i.push("ag-header-group-cell-with-group"):i.push("ag-header-group-cell-no-group"),this.eHeaderGroupCell.className=i.join(" "),this.gridOptionsWrapper.isEnableColResize()&&(this.eHeaderCellResize=document.createElement("div"),this.eHeaderCellResize.className="ag-header-cell-resize",this.eHeaderGroupCell.appendChild(this.eHeaderCellResize),this.addDragHandler(this.eHeaderCellResize));var o=this.columnGroup.name;if(!this.columnGroup.allColumns[0].colDef.checkboxSelection&&this.columnGroup.displayedColumns.length>1){var r=new e.RenderedHeaderCell(new e.Column({headerName:o,colId:o,columnGroup:this.columnGroup},this.columnGroup.actualWidth),{frame:!1,sort:!1,freeze:!0,resize:!1,drag:!0},this,this.gridOptionsWrapper,this.parentScope,this.filterManager,this.columnController,this.$compile,this.angularGrid,this.getERoot());this.eHeaderGroupCell.appendChild(r.getGui()),this.columnGroup.expandable&&this.addGroupExpandIcon(r.getGui()),this.eHeaderGroupCell.setAttribute("colId",o),this.eHeaderGroup.appendChild(this.eHeaderGroupCell)}this.columnGroup.displayedColumns.forEach(function(i){var r=e.RenderedHeaderCell;i.colDef.checkboxSelection&&(r=e.RenderedHeaderCheckerCell);var n=new r(i,{frame:!0,sort:!0,freeze:!o||""===o,resize:!0,drag:!0},t,t.gridOptionsWrapper,t.parentScope,t.filterManager,t.columnController,t.$compile,t.angularGrid,t.getERoot());t.children.push(n),t.eHeaderGroup.appendChild(n.getGui())}),this.setWidthOfGroupHeaderCell()},n.prototype.isColumnInOurDisplayedGroup=function(e){return this.columnGroup.displayedColumns.indexOf(e)>=0},n.prototype.setWidthOfGroupHeaderCell=function(){this.eHeaderGroupCell.style.width=t.formatWidth(this.columnGroup.actualWidth),this.eHeaderGroup.style.width=t.formatWidth(this.columnGroup.actualWidth)},n.prototype.addGroupExpandIcon=function(e){var i;i=this.columnGroup.expanded?t.createIcon("headerGroupOpened",this.gridOptionsWrapper,null,o.createArrowLeftSvg):t.createIcon("headerGroupClosed",this.gridOptionsWrapper,null,o.createArrowRightSvg),i.className="ag-header-expand-icon",e.appendChild(i);var r=this;i.onclick=function(){var e=!r.columnGroup.expanded;r.columnController.columnGroupOpened(r.columnGroup,e)}},n.prototype.onDragStart=function(){var e=this;this.groupWidthStart=this.columnGroup.actualWidth,this.childrenWidthStarts=[],this.columnGroup.displayedColumns.forEach(function(t){e.childrenWidthStarts.push(t.actualWidth)}),this.minWidth=this.columnGroup.getMinimumWidth()},n.prototype.onDragging=function(e,t){var o=this,r=this.groupWidthStart+e;r<this.minWidth&&(r=this.minWidth);var n=r+"px";this.eHeaderGroupCell.style.width=n,this.columnGroup.actualWidth=r;var s=r/this.groupWidthStart,l=r,a=this.columnGroup.displayedColumns;a.forEach(function(e,r){var n,d=r!==a.length-1;if(d){var u=o.childrenWidthStarts[r];n=u*s,n<i.MIN_COL_WIDTH&&(n=i.MIN_COL_WIDTH),l-=n}else n=l;o.columnController.setColumnWidth(e,n,t)})},n}(e.RenderedHeaderElement);e.RenderedHeaderGroupCell=r}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(){}return e.prototype.init=function(e){this.logger=e.create("DragAndDropService");var t=this;this.mouseUpEventListener=function(){t.stopDragging()},document.addEventListener("mouseup",this.mouseUpEventListener),this.logger.log("initialised")},e.prototype.destroy=function(){document.removeEventListener("mouseup",this.mouseUpEventListener),this.logger.log("destroyed")},e.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)},e.prototype.setDragCssClasses=function(e,i){t.addOrRemoveCssClass(e,"ag-dragging",i),t.addOrRemoveCssClass(e,"ag-not-dragging",!i)},e.prototype.addDragSource=function(e,t){this.setDragCssClasses(e,!1),e.addEventListener("mousedown",this.onMouseDownDragSource.bind(this,e,t))},e.prototype.onMouseDownDragSource=function(e,t){this.dragItem&&this.stopDragging();var i;t.getData&&(i=t.getData());var o;t.getContainerId&&(o=t.getContainerId()),this.dragItem={eDragSource:e,data:i,containerId:o},this.setDragCssClasses(this.dragItem.eDragSource,!0)},e.prototype.addDropTarget=function(e,t){var i=!1,o=!1,r=this;e.addEventListener("mouseover",function(){i||(i=!0,o=r.dragItem?t.acceptDrag(r.dragItem):!1)}),e.addEventListener("mouseout",function(){o&&t.noDrop(),i=!1,o=!1}),e.addEventListener("mouseup",function(){o&&r.dragItem&&t.drop(r.dragItem)})},e}();e.DragAndDropService=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t,i=e.Utils;!function(e){e[e.NOT_DROP_TARGET=0]="NOT_DROP_TARGET",e[e.DROP_TARGET_ABOVE=1]="DROP_TARGET_ABOVE",e[e.DROP_TARGET_BELOW=2]="DROP_TARGET_BELOW"}(t||(t={}));var o=function(){function o(){this.headerElements=[]}return o.prototype.init=function(e,t,i,o,r,n,s,l,a){this.gridOptionsWrapper=e,this.columnController=t,this.angularGrid=o,this.filterManager=r,this.$scope=n,this.$compile=s,this.findAllElements(i),this.readOnly=!1,this.dragAndDropService=l,this.popupService=a,this.uniqueId="ColumnDrag-"+Math.random()},o.prototype.getUniqueId=function(){return this.uniqueId},o.prototype.addDragAndDropToListItem=function(e,t){var i=this;this.dragAndDropService.addDragSource(e,{getData:function(){return t},getContainerId:function(){return i.uniqueId}}),this.dragAndDropService.addDropTarget(t,{acceptDrag:function(o){return i.internalAcceptDrag(t,o,e)},drop:function(e){i.internalDrop(t,e.data)},noDrop:function(){i.internalNoDrop(e)}})},o.prototype.internalAcceptDrag=function(e,t,i){return!0},o.prototype.internalDrop=function(e,t){return},o.prototype.internalNoDrop=function(e){},o.prototype.dragAfterThisItem=function(e,t){return this.headerElements.indexOf(e)<this.headerElements.indexOf(t)},o.prototype.setDropCssClasses=function(e,o){i.addOrRemoveCssClass(e,"ag-not-drop-target",o===t.NOT_DROP_TARGET),i.addOrRemoveCssClass(e,"ag-drop-target-above",o===t.DROP_TARGET_ABOVE),i.addOrRemoveCssClass(e,"ag-drop-target-below",o===t.DROP_TARGET_BELOW)},o.prototype.findAllElements=function(e){this.ePinnedHeader=e.getPinnedHeader(),this.eHeaderContainer=e.getHeaderContainer(),this.eRoot=e.getRoot()},o.prototype.refreshHeader=function(){i.removeAllChildren(this.ePinnedHeader),i.removeAllChildren(this.eHeaderContainer),this.headerElements.forEach(function(e){e.destroy()}),this.headerElements=[],this.gridOptionsWrapper.isGroupHeaders()?this.insertHeadersWithGrouping():this.insertHeadersWithoutGrouping()},o.prototype.insertHeadersWithGrouping=function(){var t=this,i=this.columnController.getHeaderGroups();i.forEach(function(i){var o=new e.RenderedHeaderGroupCell(i,t.gridOptionsWrapper,t.columnController,t.eRoot,t.angularGrid,t.$scope,t.filterManager,t.$compile);t.headerElements.push(o);var r=i.pinned?t.ePinnedHeader:t.eHeaderContainer;r.appendChild(o.getGui())})},o.prototype.toggleSelectAll=function(e){this.headerElements.forEach(function(t){t&&t.column&&t.column.colDef.checkboxSelection&&t.toggle(e.allSelected,e.someSelected),t&&t.columnGroup&&t.children.forEach(function(t){t.column&&t.column.colDef&&t.column.colDef.checkboxSelection&&t.toggle(e.allSelected,e.someSelected)})})},o.prototype.insertHeadersWithoutGrouping=function(){var t=this;this.columnController.getDisplayedColumns().forEach(function(i){var o=e.RenderedHeaderCell;i.colDef.checkboxSelection&&(o=e.RenderedHeaderCheckerCell);var r=new o(i,{frame:!0,sort:!0,freeze:!0,resize:!0,drag:!0},null,t.gridOptionsWrapper,t.$scope,t.filterManager,t.columnController,t.$compile,t.angularGrid,t.eRoot,t.popupService);t.headerElements.push(r);var n=i.pinned?t.ePinnedHeader:t.eHeaderContainer;n.appendChild(r.getGui())})},o.prototype.updateSortIcons=function(){this.headerElements.forEach(function(e){e.refreshSortIcon()})},o.prototype.updateFilterIcons=function(){this.headerElements.forEach(function(e){e.refreshFilterIcon()})},o.prototype.onIndividualColumnResized=function(e){this.headerElements.forEach(function(t){t.onIndividualColumnResized(e)})},o}();e.HeaderRenderer=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.init=function(e){this.valueService=e},e.prototype.group=function(e,t,i){var o={level:-1,children:[],_childrenMap:{}},r=[];r.push(o);var n,s,l,a,d,u,p,h=t.length-1,c=-1;for(n=0;n<e.length;n++)for(l=e[n],a=l.data,l.level=h+1,s=0;s<t.length;s++){var g=t[s];u=this.valueService.getValue(g.colDef,a,l),0===s&&(d=o),p=d._childrenMap[u],p||(p={group:!0,field:g.colId,id:c--,key:u,expanded:this.isExpanded(i,s),children:[],parent:d===o?null:d,allChildrenCount:0,level:d.level+1,_childrenMap:{}},d._childrenMap[u]=p,d.children.push(p),r.push(p)),p.allChildrenCount++,s==h?(l.parent=p===o?null:p,p.children.push(l)):d=p}for(n=0;n<r.length;n++)delete r[n]._childrenMap;return o.children},e.prototype.isExpanded=function(e,t){return"number"==typeof e?e>t:e===!0||"true"===e},e}();e.GroupCreator=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t,i=e.Utils,o=e.Constants;!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort"}(t||(t={}));var r=function(){function r(){this.createModel()}return r.prototype.init=function(e,t,i,o,r,n,s,l){this.gridOptionsWrapper=e,this.columnController=t,this.angularGrid=i,this.filterManager=o,this.$scope=r,this.groupCreator=n,this.valueService=s,this.eventService=l,this.allRows=null,this.rowsAfterGroup=null,this.rowsAfterFilter=null,this.rowsAfterSort=null,this.rowsAfterMap=null},r.prototype.createModel=function(){var e=this;this.model={getTopLevelNodes:function(){return e.rowsAfterGroup},getVirtualRow:function(t){return e.rowsAfterMap[t]},getVirtualRowsUpto:function(t){return e.rowsAfterMap.slice(0,t)},getVirtualRows:function(){return e.rowsAfterMap},getAllRows:function(){return e.allRows},getVirtualRowCount:function(){return e.rowsAfterMap?e.rowsAfterMap.length:0},getGridRowCount:function(){var t,i=0,o=0;return e.rowsAfterMap?(t=e.rowsAfterMap,i=t.length,o=t.reduce(function(e,t){return t.group?e:e+t.gridHeight-1},0),i+o):0},forEachInMemory:function(t){e.forEachInMemory(t)},forEachNode:function(t){e.forEachNode(t)},forEachNodeAfterFilter:function(t){e.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(t){e.forEachNodeAfterFilterAndSort(t)}}},r.prototype.getModel=function(){return this.model},r.prototype.forEachInMemory=function(e){console.warn("ag-Grid: please use forEachNode instead of forEachInMemory, method is same, I just renamed it, forEachInMemory is deprecated"),this.forEachNode(e)},r.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterGroup,e,t.Normal,0)},r.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterFilter,e,t.AfterFilter,0)},r.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rowsAfterSort,e,t.AfterFilterAndSort,0)},r.prototype.recursivelyWalkNodesAndCallback=function(e,i,o,r){if(e)for(var n=0;n<e.length;n++){var s=e[n];if(i(s,r++),s.group){var l;switch(o){case t.Normal:l=s.children;break;case t.AfterFilter:l=s.childrenAfterFilter;break;case t.AfterFilterAndSort:l=s.childrenAfterSort}l&&(r=this.recursivelyWalkNodesAndCallback(l,i,o,r))}}return r},r.prototype.updateModel=function(t){var i=this;switch(t){case o.STEP_EVERYTHING:case o.STEP_FILTER:this.doFilter(),this.doAggregate();case o.STEP_SORT:this.doSort();case o.STEP_MAP:this.doGroupMapping()}this.eventService.dispatchEvent(e.Events.EVENT_MODEL_UPDATED),this.$scope&&setTimeout(function(){i.$scope.$apply()},0)},r.prototype.defaultGroupAggFunctionFactory=function(e,t){function i(e,t,i){for(var r=null,n=0;n<e.length;n++){var s=e[n],l=s.data[i];if("number"==typeof l)switch(t){case o.SUM:r+=l;break;case o.MIN:null===r?r=l:r>l&&(r=l);break;case o.MAX:null===r?r=l:l>r&&(r=l)}}return r}return function(r){var n={};if(t)for(var s=0;s<t.length;s++){var l=t[s];n[l]=i(r,o.SUM,l)}if(e)for(var a=0;a<e.length;a++){var d=e[a],u=d.colDef.field;n[u]=i(r,d.aggFunc,u)}return n}},r.prototype.doAggregate=function(){var e=this.gridOptionsWrapper.getGroupAggFunction();if("function"==typeof e)return void this.recursivelyCreateAggData(this.rowsAfterFilter,e,0);var t=this.columnController.getValueColumns(),i=this.gridOptionsWrapper.getGroupAggFields();if(t&&t.length>0||i&&i.length>0){var o=this.defaultGroupAggFunctionFactory(t,i);this.recursivelyCreateAggData(this.rowsAfterFilter,o,0)}else this.gridOptionsWrapper.isRowsAlreadyGrouped()||this.recursivelyClearAggData(this.rowsAfterFilter)},r.prototype.expandOrCollapseAll=function(e,t){var i=this;null===t&&(t=this.rowsAfterGroup),t&&t.forEach(function(t){t.group&&(t.expanded=e,i.expandOrCollapseAll(e,t.children))})},r.prototype.recursivelyClearAggData=function(e){for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&(this.recursivelyClearAggData(o.childrenAfterFilter),o.data=null)}},r.prototype.recursivelyCreateAggData=function(e,t,i){for(var o=0,r=e.length;r>o;o++){var n=e[o];if(n.group){this.recursivelyCreateAggData(n.childrenAfterFilter,t,i++);var s=t(n.childrenAfterFilter,i);n.data=s,n.sibling&&(n.sibling.data=s)}}},r.prototype.doSort=function(){var e;if(this.gridOptionsWrapper.isEnableServerSideSorting())e=!1;else{var t=[];this.columnController.getAllColumns().forEach(function(e){if(e.sort){var i=e.sort===o.ASC;t.push({inverter:i?1:-1,sortedAt:e.sortedAt,column:e})}}),t.length>0&&(e=!0)}var i=this.rowsAfterFilter?this.rowsAfterFilter.slice(0):null;e?(t.sort(function(e,t){return e.sortedAt-t.sortedAt}),this.sortList(i,t)):this.recursivelyResetSort(i),this.rowsAfterSort=i},r.prototype.recursivelyResetSort=function(e){if(e){for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&o.children&&(o.childrenAfterSort=o.childrenAfterFilter,this.recursivelyResetSort(o.children))}this.updateChildIndexes(e)}},r.prototype.sortList=function(e,t){function o(e,t,o,r){var n=l.valueService.getValue(o.colDef,e.data,e),s=l.valueService.getValue(o.colDef,t.data,t);return o.colDef.comparator?o.colDef.comparator(n,s,e,t,r):i.defaultComparator(n,s)}for(var r=0,n=e.length;n>r;r++){var s=e[r];s.group&&s.children&&(s.childrenAfterSort=s.childrenAfterFilter.slice(0),this.sortList(s.childrenAfterSort,t))}var l=this;e.sort(function(e,i){for(var r=0,n=t.length;n>r;r++){var s=t[r],l=o(e,i,s.column,-1===s.inverter);if(0!==l)return l*s.inverter}return 0}),this.updateChildIndexes(e)},r.prototype.updateChildIndexes=function(e){for(var t=0;t<e.length;t++){var i=e[t];i.firstChild=0===t,i.lastChild=t===e.length-1,i.childIndex=t}},r.prototype.onPivotChanged=function(){this.doPivoting(),this.updateModel(o.STEP_EVERYTHING)},r.prototype.doPivoting=function(){var e,t=this.columnController.getPivotedColumns(),i=this.gridOptionsWrapper.isRowsAlreadyGrouped(),o=!i&&t.length>0;if(o){var r=this.gridOptionsWrapper.isGroupSuppressRow()||this.gridOptionsWrapper.getGroupDefaultExpanded();e=this.groupCreator.group(this.allRows,t,r)}else e=this.allRows;this.rowsAfterGroup=e},r.prototype.doFilter=function(){var e;e=this.gridOptionsWrapper.isEnableServerSideFilter()?!1:this.filterManager.isAnyFilterPresent();var t;e?t=this.filterItems(this.rowsAfterGroup):(t=this.rowsAfterGroup,this.recursivelyResetFilter(this.rowsAfterGroup)),this.rowsAfterFilter=t},r.prototype.filterItems=function(e){for(var t=[],i=0,o=e.length;o>i;i++){var r=e[i];r.group?(r.childrenAfterFilter=this.filterItems(r.children),r.childrenAfterFilter.length>0&&(r.allChildrenCount=this.getTotalChildCount(r.childrenAfterFilter),t.push(r))):this.filterManager.doesRowPassFilter(r)&&t.push(r)}return t},r.prototype.recursivelyResetFilter=function(e){if(e)for(var t=0,i=e.length;i>t;t++){var o=e[t];o.group&&o.children&&(o.childrenAfterFilter=o.children,this.recursivelyResetFilter(o.children),o.allChildrenCount=this.getTotalChildCount(o.childrenAfterFilter))}},r.prototype.setAllRows=function(e,t){var i;if(this.gridOptionsWrapper.isRowsAlreadyGrouped())i=e,this.recursivelyCheckUserProvidedNodes(i,null,0);else{var i=[];if(e)for(var o=0;o<e.length;o++){var r={};r.data=e[o],i.push(r)}}var n=t?t:0;this.recursivelyAddIdToNodes(i,n),this.allRows=i,this.columnController.isSetupComplete()&&this.doPivoting()},r.prototype.recursivelyAddIdToNodes=function(e,t){if(e){for(var i=0;i<e.length;i++){var o=e[i];o.id=t++,o.group&&o.children&&(t=this.recursivelyAddIdToNodes(o.children,t))}return t}},r.prototype.recursivelyCheckUserProvidedNodes=function(e,t,i){if(e)for(var o=0;o<e.length;o++){var r=e[o];t&&(r.parent=t),r.level=i,r.group&&r.children&&this.recursivelyCheckUserProvidedNodes(r.children,r,i+1)}},r.prototype.getTotalChildCount=function(e){for(var t=0,i=0,o=e.length;o>i;i++){var r=e[i];r.group?t+=r.allChildrenCount:t++}return t},r.prototype.doGroupMapping=function(){var e=[];this.addToMap(e,this.rowsAfterSort),this.rowsAfterMap=e},r.prototype.addToMap=function(e,t){if(t)for(var i=this.gridOptionsWrapper.isGroupSuppressRow(),o=0;o<t.length;o++){var r=t[o];if((!i||i&&!r.group)&&e.push(r),r.group&&r.expanded&&(this.addToMap(e,r.childrenAfterSort),this.gridOptionsWrapper.isGroupIncludeFooter())){var n=this.createFooterNode(r);e.push(n)}}},r.prototype.createFooterNode=function(e){var t={};return Object.keys(e).forEach(function(i){t[i]=e[i]}),t.footer=!0,t.sibling=e,e.sibling=t,t},r}();e.InMemoryRowController=r}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=!1,o=function(){function e(){}return e.prototype.init=function(e,t,i){this.rowRenderer=e,this.datasourceVersion=0,this.gridOptionsWrapper=t,this.angularGrid=i},e.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},e.prototype.reset=function(){"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1),this.datasourceVersion++,this.pageCache={},this.pageCacheSize=0,this.pageLoadsInProgress=[],this.pageLoadsQueued=[],this.pageAccessTimes={},this.accessTime=0,"number"==typeof this.datasource.maxConcurrentRequests&&this.datasource.maxConcurrentRequests>0?this.maxConcurrentDatasourceRequests=this.datasource.maxConcurrentRequests:this.maxConcurrentDatasourceRequests=2,"number"==typeof this.datasource.maxPagesInCache&&this.datasource.maxPagesInCache>0?this.maxPagesInCache=this.datasource.maxPagesInCache:this.maxPagesInCache=null,this.pageSize=this.datasource.pageSize,this.overflowSize=this.datasource.overflowSize,this.doLoadOrQueue(0)},e.prototype.createNodesFromRows=function(e,t){var i=[];if(t)for(var o=0,r=t.length;r>o;o++){var n=e*this.pageSize+o;i.push({data:t[o],id:n})}return i},e.prototype.removeFromLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e);this.pageLoadsInProgress.splice(t,1)},e.prototype.pageLoadFailed=function(e){this.removeFromLoading(e),this.checkQueueForNextLoad()},e.prototype.pageLoaded=function(e,t,i){this.putPageIntoCacheAndPurge(e,t),this.checkMaxRowAndInformRowRenderer(e,i),this.removeFromLoading(e),this.checkQueueForNextLoad()},e.prototype.putPageIntoCacheAndPurge=function(e,t){this.pageCache[e]=this.createNodesFromRows(e,t),this.pageCacheSize++,i&&console.log("adding page "+e);var o=this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize;if(o){var r=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache));i&&console.log("purging page "+r+" from cache "+Object.keys(this.pageCache)),delete this.pageCache[r],this.pageCacheSize--}},e.prototype.checkMaxRowAndInformRowRenderer=function(e,t){if(this.foundMaxRow)this.rowRenderer.refreshAllVirtualRows();else{if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.foundMaxRow=!0;else{var i=(e+1)*this.pageSize+this.overflowSize;this.virtualRowCount<i&&(this.virtualRowCount=i)}this.rowRenderer.refreshView()}},e.prototype.isPageAlreadyLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e)>=0||this.pageLoadsQueued.indexOf(e)>=0;return t},e.prototype.doLoadOrQueue=function(e){this.isPageAlreadyLoading(e)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(e):this.addToQueueAndPurgeQueue(e))},e.prototype.addToQueueAndPurgeQueue=function(e){i&&console.log("queueing "+e+" - "+this.pageLoadsQueued),this.pageLoadsQueued.push(e);var t=this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length;if(t){var o=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued);i&&console.log("de-queueing "+e+" - "+this.pageLoadsQueued);var r=this.pageLoadsQueued.indexOf(o);this.pageLoadsQueued.splice(r,1)}},e.prototype.findLeastRecentlyAccessedPage=function(e){var t=-1,i=Number.MAX_VALUE,o=this;return e.forEach(function(e){var r=o.pageAccessTimes[e];i>r&&(i=r,t=e)}),t},e.prototype.checkQueueForNextLoad=function(){if(this.pageLoadsQueued.length>0){var e=this.pageLoadsQueued[0];this.pageLoadsQueued.splice(0,1),i&&console.log("dequeueing "+e+" - "+this.pageLoadsQueued),this.loadPage(e);
}},e.prototype.loadPage=function(e){function i(t,i){l.requestIsDaemon(a)||l.pageLoaded(e,t,i)}function o(){l.requestIsDaemon(a)||l.pageLoadFailed(e)}this.pageLoadsInProgress.push(e);var r,n=e*this.pageSize,s=(e+1)*this.pageSize,l=this,a=this.datasourceVersion;this.gridOptionsWrapper.isEnableServerSideSorting()&&(r=this.angularGrid.getSortModel());var d;this.gridOptionsWrapper.isEnableServerSideFilter()&&(d=this.angularGrid.getFilterModel());var u={startRow:n,endRow:s,successCallback:i,failCallback:o,sortModel:r,filterModel:d},p=t.getFunctionParameters(this.datasource.getRows);p.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(u)},e.prototype.requestIsDaemon=function(e){return this.datasourceVersion!==e},e.prototype.getVirtualRow=function(e){if(e>this.virtualRowCount)return null;var t=Math.floor(e/this.pageSize),i=this.pageCache[t];if(this.pageAccessTimes[t]=this.accessTime++,i){var o=e%this.pageSize;return i[o]}return this.doLoadOrQueue(t),{data:{},id:e}},e.prototype.forEachNode=function(e){for(var t=Object.keys(this.pageCache),i=0;i<t.length;i++)for(var o=t[i],r=this.pageCache[o],n=0;n<r.length;n++){var s=r[n];e(s)}},e.prototype.getModel=function(){var e=this;return{getVirtualRow:function(t){return e.getVirtualRow(t)},getVirtualRowCount:function(){return e.virtualRowCount},forEachInMemory:function(t){e.forEachNode(t)},forEachNode:function(t){e.forEachNode(t)},forEachNodeAfterFilter:function(e){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},forEachNodeAfterFilterAndSort:function(e){console.warn("forEachNodeAfterFilterAndSort - does not work with virtual pagination")}}},e}();e.VirtualPageRowController=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i='<div class="ag-paging-panel"><span id="pageRowSummaryPanel" class="ag-paging-row-summary-panel"><span id="firstRowOnPage"></span> [TO] <span id="lastRowOnPage"></span> [OF] <span id="recordCount"></span></span><span class="ag-paging-page-summary-panel"><button type="button" class="ag-paging-button" id="btFirst">[FIRST]</button><button type="button" class="ag-paging-button" id="btPrevious">[PREVIOUS]</button>[PAGE] <span id="current"></span> [OF] <span id="total"></span><button type="button" class="ag-paging-button" id="btNext">[NEXT]</button><button type="button" class="ag-paging-button" id="btLast">[LAST]</button></span></div>',o=function(){function e(){}return e.prototype.init=function(e,t){this.gridOptionsWrapper=t,this.angularGrid=e,this.setupComponents(),this.callVersion=0},e.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},e.prototype.reset=function(){this.datasource.pageSize&&"number"!=typeof this.datasource.pageSize&&console.warn("datasource.pageSize should be a number"),this.pageSize=this.datasource.pageSize,"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage()},e.prototype.setTotalLabels=function(){if(this.foundMaxRow)this.lbTotal.innerHTML=this.totalPages.toLocaleString(),this.lbRecordCount.innerHTML=this.rowCount.toLocaleString();else{var e=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=e,this.lbRecordCount.innerHTML=e}},e.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1},e.prototype.pageLoaded=function(e,t){var i=this.currentPage*this.pageSize;this.angularGrid.setRowData(e,i),!this.foundMaxRow&&"number"==typeof t&&t>=0&&(this.foundMaxRow=!0,this.rowCount=t,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},e.prototype.updateRowLabels=function(){var e,t;this.isZeroPagesToDisplay()?(e=0,t=0):(e=this.pageSize*this.currentPage+1,t=e+this.pageSize-1,this.foundMaxRow&&t>this.rowCount&&(t=this.rowCount)),this.lbFirstRowOnPage.innerHTML=e.toLocaleString(),this.lbLastRowOnPage.innerHTML=t.toLocaleString(),this.ePageRowSummaryPanel.style.visibility=""},e.prototype.loadPage=function(){function e(e,t){s.isCallDaemon(n)||s.pageLoaded(e,t)}function i(){s.isCallDaemon(n)||s.angularGrid.setRowData([])}this.enableOrDisableButtons();var o=this.currentPage*this.datasource.pageSize,r=(this.currentPage+1)*this.datasource.pageSize;this.lbCurrent.innerHTML=(this.currentPage+1).toLocaleString(),this.callVersion++;var n=this.callVersion,s=this;this.angularGrid.showLoadingOverlay();var l;this.gridOptionsWrapper.isEnableServerSideSorting()&&(l=this.angularGrid.getSortModel());var a;this.gridOptionsWrapper.isEnableServerSideFilter()&&(a=this.angularGrid.getFilterModel());var d={startRow:o,endRow:r,successCallback:e,failCallback:i,sortModel:l,filterModel:a},u=t.getFunctionParameters(this.datasource.getRows);u.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(d)},e.prototype.isCallDaemon=function(e){return e!==this.callVersion},e.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},e.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},e.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},e.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},e.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&0===this.totalPages},e.prototype.enableOrDisableButtons=function(){var e=0===this.currentPage;this.btPrevious.disabled=e,this.btFirst.disabled=e;var t=this.isZeroPagesToDisplay(),i=this.foundMaxRow&&this.currentPage===this.totalPages-1,o=i||t;this.btNext.disabled=o;var r=!this.foundMaxRow||t||this.currentPage===this.totalPages-1;this.btLast.disabled=r},e.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();return i.replace("[PAGE]",e("page","Page")).replace("[TO]",e("to","to")).replace("[OF]",e("of","of")).replace("[OF]",e("of","of")).replace("[FIRST]",e("first","First")).replace("[PREVIOUS]",e("previous","Previous")).replace("[NEXT]",e("next","Next")).replace("[LAST]",e("last","Last"))},e.prototype.getGui=function(){return this.eGui},e.prototype.setupComponents=function(){this.eGui=t.loadTemplate(this.createTemplate()),this.btNext=this.eGui.querySelector("#btNext"),this.btPrevious=this.eGui.querySelector("#btPrevious"),this.btFirst=this.eGui.querySelector("#btFirst"),this.btLast=this.eGui.querySelector("#btLast"),this.lbCurrent=this.eGui.querySelector("#current"),this.lbTotal=this.eGui.querySelector("#total"),this.lbRecordCount=this.eGui.querySelector("#recordCount"),this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var e=this;this.btNext.addEventListener("click",function(){e.onBtNext()}),this.btPrevious.addEventListener("click",function(){e.onBtPrevious()}),this.btFirst.addEventListener("click",function(){e.onBtFirst()}),this.btLast.addEventListener("click",function(){e.onBtLast()})},e}();e.PaginationController=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function i(e){this.sizeChangeListeners=[],this.isLayoutPanel=!0,this.fullHeight=!e.north&&!e.south,this.deleteListener=e.deleteListener,this.rowEditListener=e.rowEditListener,this.rowDeleteListener=e.rowDeleteListener,this.eventService=e.eventService,this.gridOptionsWrapper=e.gridOptionsWrapper,this.gridPanel=e.gridPanel;var i;e.dontFill?(i='<div style="position: relative;"><div id="north"></div><div id="centerRow"><div id="west"></div><div id="east"></div><div id="center"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!1):(i=this.fullHeight?'<div style="height: 100%; overflow: auto; position: relative;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div><div id="overlay" class="ag-overlay"></div></div>':'<div style="height: 100%; position: relative;"><div id="north"></div><div id="centerRow" style="height: 100%; overflow: hidden;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div></div><div id="south"></div><div id="overlay" class="ag-overlay"></div></div>',this.layoutActive=!0),this.eGui=t.loadTemplate(i),this.id="borderLayout",e.name&&(this.id+="_"+e.name),this.eGui.setAttribute("id",this.id),this.childPanels=[],e&&this.setupPanels(e),e.overlays&&this.addOverlayRowZone(),this.overlays=e.overlays,this.setupOverlays()}return i.prototype.getOverlays=function(){return this.overlays},i.prototype.getOverlayRow=function(){return this.eOverlayRowWrapper},i.prototype.getOverlayRowZone=function(){return this.eOverlayRowZoneWrapper},i.prototype.addSizeChangeListener=function(e){this.sizeChangeListeners.push(e)},i.prototype.fireSizeChanged=function(){this.sizeChangeListeners.forEach(function(e){e()})},i.prototype.setupPanels=function(e){this.eNorthWrapper=this.eGui.querySelector("#north"),this.eSouthWrapper=this.eGui.querySelector("#south"),this.eEastWrapper=this.eGui.querySelector("#east"),this.eWestWrapper=this.eGui.querySelector("#west"),this.eCenterWrapper=this.eGui.querySelector("#center"),this.eOverlayWrapper=this.eGui.querySelector("#overlay"),this.eCenterRow=this.eGui.querySelector("#centerRow"),this.eNorthChildLayout=this.setupPanel(e.north,this.eNorthWrapper),this.eSouthChildLayout=this.setupPanel(e.south,this.eSouthWrapper),this.eEastChildLayout=this.setupPanel(e.east,this.eEastWrapper),this.eWestChildLayout=this.setupPanel(e.west,this.eWestWrapper),this.eCenterChildLayout=this.setupPanel(e.center,this.eCenterWrapper)},i.prototype.addOverlayRowZone=function(){var e=document.createElement("div");e.id="ag-overlay-row",e.className=e.id;var t=document.createElement("div");t.id="ag-overlay-row-zone",t.className=t.id,t.appendChild(e),t.addEventListener("click",this.overlayEventThrough.bind(this)),t.addEventListener("scroll",this.overlayEventThrough.bind(this)),t.addEventListener("mousemove",this.overlayEventThrough.bind(this)),t.addEventListener("DOMMouseScroll",this.overlayEventThrough.bind(this)),t.addEventListener("mousewheel",this.overlayEventThrough.bind(this)),t.addEventListener("mouseleave",this.rowOverlayLeaveListener.bind(this)),t.addEventListener("mouseenter",this.rowOverlayEnterListener.bind(this)),this.eOverlayRowWrapper=e,this.eOverlayRowZoneWrapper=t},i.prototype.positionOverlayRowZone=function(e){var t=this.gridPanel.getBodyViewport(),i=this.gridOptionsWrapper.getHeaderHeight(),o=i-e,r=e+t.clientHeight,n=this.gridPanel.getRightGap(),s=n>0?n:15;this.setRowOverlayTop(o),this.setRowOverlayRowHeight(r),this.setRowOverlayRight(s)},i.prototype.overlayEventThrough=function(e){var i;e.target.style.display="none",e.clientX&&(i={pointerX:e.clientX,pointerY:e.clientY});var o=document.elementFromPoint(e.clientX,e.clientY);o&&t.simulateEvent(o,e.type,i),e.target.style.display=""},i.prototype.rowOverlayLeaveListener=function(t){this.eOverlayRowWrapper.style.display="none",this.eventService.dispatchEvent(e.Events.EVENT_ALL_ROWS_STOP_LISTEN_MOUSE_MOVE)},i.prototype.rowOverlayEnterListener=function(t){this.eOverlayRowWrapper.style.display="",this.eventService.dispatchEvent(e.Events.EVENT_ALL_ROWS_LISTEN_MOUSE_MOVE)},i.prototype.setupPanel=function(e,t){return t?e?e.isLayoutPanel?(this.childPanels.push(e),t.appendChild(e.getGui()),e):(t.appendChild(e),null):(t.parentNode.removeChild(t),null):void 0},i.prototype.getGui=function(){return this.eGui},i.prototype.doLayout=function(){if(!t.isVisible(this.eGui))return!1;var e=!1,i=[this.eNorthChildLayout,this.eSouthChildLayout,this.eEastChildLayout,this.eWestChildLayout],o=this;if(t.forEach(i,function(t){var i=o.layoutChild(t);i&&(e=!0)}),this.layoutActive){var r=this.layoutHeight(),n=this.layoutWidth();(r||n)&&(e=!0)}var s=this.layoutChild(this.eCenterChildLayout);return s&&(e=!0),e&&this.fireSizeChanged(),e},i.prototype.layoutChild=function(e){return e?e.doLayout():!1},i.prototype.layoutHeight=function(){return this.fullHeight?this.layoutHeightFullHeight():this.layoutHeightNormal()},i.prototype.layoutHeightFullHeight=function(){var e=t.offsetHeight(this.eGui);return 0>e&&(e=0),this.centerHeightLastTime!==e?(this.centerHeightLastTime=e,!0):!1},i.prototype.layoutHeightNormal=function(){var e=t.offsetHeight(this.eGui),i=t.offsetHeight(this.eNorthWrapper),o=t.offsetHeight(this.eSouthWrapper),r=e-i-o;return 0>r&&(r=0),this.centerHeightLastTime!==r?(this.eCenterRow.style.height=r+"px",this.centerHeightLastTime=r,!0):!1},i.prototype.getCentreHeight=function(){return this.centerHeightLastTime},i.prototype.layoutWidth=function(){var e=t.offsetWidth(this.eGui),i=t.offsetWidth(this.eEastWrapper),o=t.offsetWidth(this.eWestWrapper),r=e-i-o;0>r&&(r=0),this.eCenterWrapper.style.width=r+"px"},i.prototype.setEastVisible=function(e){this.eEastWrapper&&(this.eEastWrapper.style.display=e?"":"none"),this.doLayout()},i.prototype.setupOverlays=function(){return this.overlays?void this.hideOverlay():void this.eOverlayWrapper.parentNode.removeChild(this.eOverlayWrapper)},i.prototype.hideOverlay=function(){t.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="none"},i.prototype.getOverlayRowWrapper=function(e){void 0===e&&(e="");var t='\n                <div class="ag-overlay-panel">\n                    <div class="ag-overlay-wrapper ag-overlay-row-wrapper">'+e+"</div>\n                </div>\n            ";return t},i.prototype.createOverlayRowTemplate=function(){var e='\n                <a class="k-icon k-edit" title="" href="#" id="ag-action-row-edit"><span class="i-edit" style="pointer-events:all;"></span></a>\n                <a class="k-icon k-delete" title="" href="#" id="ag-action-row-delete"><span class="i-delete" style="pointer-events:all;"></span></a>\n            ';return this.getOverlayRowWrapper(e)},i.prototype.showOverlayRow=function(){void 0!==this.eOverlayRowZoneWrapper&&(document.querySelector(".ag-body-viewport").appendChild(this.eOverlayRowZoneWrapper),this.eOverlayRowWrapper.style.display="none",this.eOverlayRowWrapper.appendChild(t.loadTemplate(this.createOverlayRowTemplate().trim())),this.eOverlayRowWrapper.querySelector("#ag-action-row-edit > span").addEventListener("click",this.rowEditListener),this.eOverlayRowWrapper.querySelector("#ag-action-row-delete > span").addEventListener("click",this.rowDeleteListener))},i.prototype.showOverlay=function(e){var i,o=this.overlays?this.overlays[e]:null;o?(t.removeAllChildren(this.eOverlayWrapper),"tool"===e&&(this.eOverlayWrapper.classList.remove("ag-overlay"),this.eOverlayWrapper.classList.add("ag-overlay-tool")),this.eOverlayWrapper.style.display="",this.eOverlayWrapper.appendChild(o),"tool"===e&&(i=this.eOverlayWrapper.getElementsByClassName("k-grid-Delete")[0],i.addEventListener("click",this.deleteListener))):(console.log("ag-Grid: unknown overlay"),this.hideOverlay())},i.prototype.pXhelper=function(e){return e+"px"},i.prototype.setRowOverlayTop=function(e){this.eOverlayRowZoneWrapper.style.top=this.pXhelper(e)},i.prototype.setRowOverlayRight=function(e){this.eOverlayRowZoneWrapper.style.right=this.pXhelper(e)},i.prototype.setRowOverlayRowHeight=function(e){this.eOverlayRowZoneWrapper.style.height=this.pXhelper(e)},i.prototype.setSouthVisible=function(e){this.eSouthWrapper&&(this.eSouthWrapper.style.display=e?"":"none"),this.doLayout()},i}();e.BorderLayout=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t='<div>\n                <!-- header -->\n                <div class="ag-header">\n                    <div class="ag-pinned-header"></div><div class="ag-header-viewport"><div class="ag-header-container"></div></div>\n                </div>\n                <!-- floating top -->\n                <div class="ag-floating-top">\n                    <div class="ag-pinned-floating-top"></div><div class="ag-floating-top-viewport"><div class="ag-floating-top-container"></div></div>\n                </div>\n                <!-- floating bottom -->\n                <div class="ag-floating-bottom">\n                    <div class="ag-pinned-floating-bottom"></div><div class="ag-floating-bottom-viewport"><div class="ag-floating-bottom-container"></div></div>\n                </div>\n                <!-- body -->\n                <div class="ag-body">\n                    <div class="ag-pinned-cols-viewport">\n                        <div class="ag-pinned-cols-container"></div>\n                    </div>\n                    <div class="ag-body-viewport-wrapper">\n                        <div class="ag-body-viewport">\n                            <div class="ag-body-container"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>',i='<div>\n                <!-- header -->\n                <div class="ag-header-container"></div>\n                <!-- floating top -->\n                <div class="ag-floating-top-container"></div>\n                <!-- body -->\n                <div class="ag-body-container"></div>\n                <!-- floating bottom -->\n                <div class="ag-floating-bottom-container"></div>\n            </div>',o='<div class="ag-overlay-panel"><div class="ag-overlay-wrapper ag-overlay-[OVERLAY_NAME]-wrapper">[OVERLAY_TEMPLATE]</div></div>',r='<span class="ag-overlay-loading-center">[LOADING...]</span>',n='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',s='[COUNTER_PLACEHOLDER]<span style="pointer-events:all; opacity: 1.0;" class="ag-overlay-no-rows-center"><a class="k-grid-Delete" title= "" href= "#" > <span class="i-delete" > </span></a></span>',l=e.Utils,a=function(){function a(){this.scrollLagCounter=0}return a.prototype.init=function(e,t,i,o,r){this.gridOptionsWrapper=e,this.eventService=r,this.forPrint=this.gridOptionsWrapper.isForPrint(),this.setupComponents(),this.scrollWidth=l.getScrollbarWidth(),this.columnModel=t,this.rowRenderer=i,this.masterSlaveService=o,this.sizeHeaderAndBody()},a.prototype.getLayout=function(){return this.layout},a.prototype.setupComponents=function(){var o=this;this.forPrint?(this.eRoot=l.loadTemplate(i),l.addCssClass(this.eRoot,"ag-root ag-no-scrolls")):(this.eRoot=l.loadTemplate(t),l.addCssClass(this.eRoot,"ag-root ag-scrolls")),this.findElements(),this.layout=new e.BorderLayout({overlays:{loading:l.loadTemplate(this.createLoadingOverlayTemplate()),noRows:l.loadTemplate(this.createNoRowsOverlayTemplate()),tool:l.loadTemplate(this.createToolOverlayTemplate())},center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel",deleteListener:function(t){t.preventDefault();var i=o.gridOptionsWrapper.getApi().getSelectedNodes(),r={name:"delete",items:i};o.eventService.dispatchEvent(e.Events.EVENT_MULTITOOL_CLICK,r)},rowEditListener:function(t){t.preventDefault();var i=[o.rowRenderer.getHoveredOn()],r={name:"edit",items:i};o.eventService.dispatchEvent(e.Events.EVENT_MULTITOOL_CLICK,r)},rowDeleteListener:function(t){t.preventDefault();var i=[o.rowRenderer.getHoveredOn()],r={name:"delete",items:i};o.eventService.dispatchEvent(e.Events.EVENT_MULTITOOL_CLICK,r)},eventService:o.eventService,gridOptionsWrapper:o.gridOptionsWrapper,gridPanel:this}),this.layout.addSizeChangeListener(this.onBodyHeightChange.bind(this)),this.eventService.addEventListener("selectionChanged",function(t){var i={countSelected:0,allSelected:!1,someSelected:!1},r=t.selectedRows.length,n=o.gridOptionsWrapper.getApi().getModel().getAllRows().length;n&&(r&&r===n?i.allSelected=!0:r>0&&(i.someSelected=!0),i.countSelected=r,o.eventService.dispatchEvent(e.Events.EVENT_SELECTION_STATE_CHANGED,i),r>1?o.showToolOverlay(r):o.hideOverlay())}),this.addScrollListener(),this.gridOptionsWrapper.isSuppressHorizontalScroll()&&(this.eBodyViewport.style.overflowX="hidden")},a.prototype.initRowOverlay=function(){this.layout.positionOverlayRowZone(this.eBodyViewport.scrollTop||0)},a.prototype.getPinnedFloatingTop=function(){return this.ePinnedFloatingTop},a.prototype.getFloatingTopContainer=function(){return this.eFloatingTopContainer},a.prototype.getPinnedFloatingBottom=function(){return this.ePinnedFloatingBottom},a.prototype.getFloatingBottomContainer=function(){return this.eFloatingBottomContainer},a.prototype.createOverlayTemplate=function(e,t,i){var r=o.replace("[OVERLAY_NAME]",e);return r=i?r.replace("[OVERLAY_TEMPLATE]",i):r.replace("[OVERLAY_TEMPLATE]",t)},a.prototype.createLoadingOverlayTemplate=function(){var e=this.gridOptionsWrapper.getOverlayLoadingTemplate(),t=this.createOverlayTemplate("loading",r,e),i=this.gridOptionsWrapper.getLocaleTextFunc(),o=t.replace("[LOADING...]",i("loadingOoo","Loading..."));return o},a.prototype.createNoRowsOverlayTemplate=function(){var e=this.gridOptionsWrapper.getOverlayNoRowsTemplate(),t=this.createOverlayTemplate("no-rows",n,e),i=this.gridOptionsWrapper.getLocaleTextFunc(),o=t.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));return o},a.prototype.createToolOverlayTemplate=function(e){var t=s;e||(e=""),t=t.replace("[COUNTER_PLACEHOLDER]",e);var i=this.createOverlayTemplate("tool",t,null);return i},a.prototype.ensureIndexVisible=function(e){var t=this.rowModel.getVirtualRowCount();if("number"!=typeof e||0>e||e>=t)return void console.warn("invalid row index for ensureIndexVisible: "+e);var i=this.gridOptionsWrapper.getRowHeight(),o=i*e,r=o+i,n=this.eBodyViewport.scrollTop,s=this.eBodyViewport.offsetHeight,l=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;l&&(s-=this.scrollWidth);var a=n+s,d=n>o,u=r>a;if(d)this.eBodyViewport.scrollTop=o;else if(u){var p=r-s;this.eBodyViewport.scrollTop=p}},a.prototype.ensureColIndexVisible=function(e){if("number"!=typeof e)return void console.warn("col index must be a number: "+e);var t=this.columnModel.getDisplayedColumns();if("number"!=typeof e||0>e||e>=t.length)return void console.warn("invalid col index for ensureColIndexVisible: "+e+", should be between 0 and "+(t.length-1));var i=t[e],o=this.gridOptionsWrapper.getPinnedColCount();if(o>e)return void console.warn("invalid col index for ensureColIndexVisible: "+e+", scrolling to a pinned col makes no sense");for(var r=0,n=o;e>n;n++)r+=t[n].actualWidth;var s=r+i.actualWidth,l=this.eBodyViewport.scrollLeft,a=this.eBodyViewport.offsetWidth,d=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;d&&(a-=this.scrollWidth);var u=l+a,p=l>r,h=s>u;if(p)this.eBodyViewport.scrollLeft=r;else if(h){var c=s-a;this.eBodyViewport.scrollLeft=c}},a.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.layout.showOverlay("loading")},a.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.layout.showOverlay("noRows")},a.prototype.showToolOverlay=function(e){e&&(this.layout.getOverlays().tool=l.loadTemplate(this.createToolOverlayTemplate(": "+e))),this.layout.showOverlay("tool")},a.prototype.showOverlayRow=function(){this.layout.showOverlayRow()},a.prototype.hideOverlay=function(){this.layout.hideOverlay()},a.prototype.getWidthForSizeColsToFit=function(){var e=this.eBody.clientWidth,t=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;return t&&(e-=this.scrollWidth),e},a.prototype.setRowModel=function(e){this.rowModel=e},a.prototype.getBodyContainer=function(){return this.eBodyContainer},a.prototype.getBodyViewport=function(){return this.eBodyViewport},a.prototype.getPinnedColsContainer=function(){return this.ePinnedColsContainer},a.prototype.getHeaderContainer=function(){return this.eHeaderContainer},a.prototype.getRoot=function(){return this.eRoot},a.prototype.getPinnedHeader=function(){return this.ePinnedHeader},a.prototype.getRowsParent=function(){return this.eParentsOfRows},a.prototype.queryHtmlElement=function(e){return this.eRoot.querySelector(e)},a.prototype.findElements=function(){this.forPrint?(this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eParentsOfRows=[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]):(this.eBody=this.queryHtmlElement(".ag-body"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eBodyViewport=this.queryHtmlElement(".ag-body-viewport"),this.eBodyViewportWrapper=this.queryHtmlElement(".ag-body-viewport-wrapper"),this.ePinnedColsContainer=this.queryHtmlElement(".ag-pinned-cols-container"),this.ePinnedColsViewport=this.queryHtmlElement(".ag-pinned-cols-viewport"),this.ePinnedHeader=this.queryHtmlElement(".ag-pinned-header"),this.eHeader=this.queryHtmlElement(".ag-header"),this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eFloatingTop=this.queryHtmlElement(".ag-floating-top"),this.ePinnedFloatingTop=this.queryHtmlElement(".ag-pinned-floating-top"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottom=this.queryHtmlElement(".ag-floating-bottom"),this.ePinnedFloatingBottom=this.queryHtmlElement(".ag-pinned-floating-bottom"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eParentsOfRows=[this.eBody,this.eFloatingTop,this.eFloatingBottom],this.ePinnedColsViewport.addEventListener("mousewheel",this.mouseWheelListener.bind(this)),this.ePinnedColsViewport.addEventListener("DOMMouseScroll",this.mouseWheelListener.bind(this)))},a.prototype.getRightGap=function(){return this.eBody.clientWidth-this.eBodyContainer.clientWidth-this.ePinnedColsContainer.clientWidth},a.prototype.mouseWheelListener=function(e){var t;if(e.deltaY&&0!=e.deltaX)t=e.deltaY;else if(e.wheelDelta&&0!=e.wheelDelta)t=-e.wheelDelta;else{if(!e.detail||0==e.detail)return;t=20*e.detail}var i=this.eBodyViewport.scrollTop+t;return this.eBodyViewport.scrollTop=i,e.preventDefault(),!1},a.prototype.setBodyContainerWidth=function(){var e=this.columnModel.getBodyContainerWidth()+"px";this.eBodyContainer.style.width=e,this.forPrint||(this.eFloatingBottomContainer.style.width=e,this.eFloatingTopContainer.style.width=e)},a.prototype.setPinnedColContainerWidth=function(){if(!this.forPrint){var e=this.columnModel.getPinnedContainerWidth()+"px";this.ePinnedColsContainer.style.width=e,this.ePinnedFloatingBottom.style.width=e,this.ePinnedFloatingTop.style.width=e,this.ePinnedHeader.style.width=e,this.eBodyViewportWrapper.style.marginLeft=e}},a.prototype.showPinnedColContainersIfNeeded=function(){if(!this.forPrint){var e=this.columnModel.isPinning();e?(this.ePinnedHeader.style.display="inline-block",this.ePinnedColsViewport.style.display="inline"):(this.ePinnedHeader.style.display="none",this.ePinnedColsViewport.style.display="none")}},a.prototype.onBodyHeightChange=function(){this.sizeHeaderAndBody()},a.prototype.sizeHeaderAndBody=function(){this.forPrint?this.sizeHeaderAndBodyForPrint():this.sizeHeaderAndBodyNormal()},a.prototype.sizeHeaderAndBodyNormal=function(){var e=this.layout.getCentreHeight();if(e){var t=this.gridOptionsWrapper.getHeaderHeight();this.eHeader.style.height=t+"px";var i=0;this.gridOptionsWrapper.getFloatingTopRowData()&&(i=this.gridOptionsWrapper.getFloatingTopRowData().length);var o=0;this.gridOptionsWrapper.getFloatingBottomRowData()&&(o=this.gridOptionsWrapper.getFloatingBottomRowData().length);var r=this.gridOptionsWrapper.getRowHeight(),n=i*r,s=t+n,l=o*r,a=e-l,d=e-t-l-n;this.eBody.style.paddingTop=s+"px",this.eBody.style.paddingBottom=l+"px",this.eFloatingTop.style.top=t+"px",this.eFloatingTop.style.height=n+"px",this.eFloatingBottom.style.height=l+"px",this.eFloatingBottom.style.top=a+"px",this.ePinnedColsViewport.style.height=d+"px"}},a.prototype.sizeHeaderAndBodyForPrint=function(){var e=this.gridOptionsWrapper.getHeaderHeight()+"px";this.eHeaderContainer.style.height=e},a.prototype.setHorizontalScrollPosition=function(e){this.eBodyViewport.scrollLeft=e},a.prototype.addScrollListener=function(){var e=this;if(!this.forPrint){var t=-1,i=-1;this.eBodyViewport.addEventListener("scroll",function(){var o=e.eBodyViewport.scrollLeft,r=e.eBodyViewport.scrollTop;o!==t&&(t=o,e.scrollHeader(o)),r!==i&&(i=r,e.scrollPinned(r),e.requestDrawVirtualRows()),e.masterSlaveService.fireHorizontalScrollEvent(o),e.layout.positionOverlayRowZone(r)}),this.ePinnedColsViewport.addEventListener("scroll",function(){e.ePinnedColsViewport.scrollTop=0})}},a.prototype.requestDrawVirtualRows=function(){var e,t=this;if(e=this.gridOptionsWrapper.isSuppressScrollLag()?!1:this.gridOptionsWrapper.getIsScrollLag()?this.gridOptionsWrapper.getIsScrollLag()():l.isBrowserIE()||l.isBrowserSafari()){this.scrollLagCounter++;var i=this.scrollLagCounter;setTimeout(function(){t.scrollLagCounter===i&&t.rowRenderer.drawVirtualRows()},50)}else this.rowRenderer.drawVirtualRows()},a.prototype.scrollHeader=function(e){this.eHeaderContainer.style.left=-e+"px",this.eFloatingBottomContainer.style.left=-e+"px",this.eFloatingTopContainer.style.left=-e+"px"},a.prototype.scrollPinned=function(e){this.ePinnedColsContainer.style.top=-e+"px"},a}();e.GridPanel=a}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t,i=e.Utils,o='<div class="ag-list-selection"><div><div ag-repeat class="ag-list-item"></div></div></div>';!function(e){e[e.NOT_DROP_TARGET=0]="NOT_DROP_TARGET",e[e.DROP_TARGET_ABOVE=1]="DROP_TARGET_ABOVE",e[e.DROP_TARGET_BELOW=2]="DROP_TARGET_BELOW"}(t||(t={}));var r=function(){function e(e){this.readOnly=!1,this.dragAndDropService=e,this.setupComponents(),this.uniqueId="CheckboxSelection-"+Math.random(),this.modelChangedListeners=[],this.itemSelectedListeners=[],this.itemMovedListeners=[],this.beforeDropListeners=[],this.dragSources=[],this.setupAsDropTarget()}return e.prototype.setReadOnly=function(e){this.readOnly=e},e.prototype.setEmptyMessage=function(e){this.emptyMessage=e,this.refreshView()},e.prototype.getUniqueId=function(){return this.uniqueId},e.prototype.addStyles=function(e){i.addStylesToElement(this.eGui,e)},e.prototype.addCssClass=function(e){i.addCssClass(this.eGui,e)},e.prototype.addDragSource=function(e){this.dragSources.push(e)},e.prototype.addModelChangedListener=function(e){this.modelChangedListeners.push(e)},e.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},e.prototype.addItemMovedListener=function(e){this.itemMovedListeners.push(e)},e.prototype.addBeforeDropListener=function(e){this.beforeDropListeners.push(e)},e.prototype.fireItemMoved=function(e,t){for(var i=0;i<this.itemMovedListeners.length;i++)this.itemMovedListeners[i](e,t)},e.prototype.fireModelChanged=function(){for(var e=0;e<this.modelChangedListeners.length;e++)this.modelChangedListeners[e](this.model)},e.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},e.prototype.fireBeforeDrop=function(e){for(var t=0;t<this.beforeDropListeners.length;t++)this.beforeDropListeners[t](e)},e.prototype.setupComponents=function(){this.eGui=i.loadTemplate(o),this.eFilterValueTemplate=this.eGui.querySelector("[ag-repeat]"),
this.eListParent=this.eFilterValueTemplate.parentNode,i.removeAllChildren(this.eListParent)},e.prototype.setModel=function(e){this.model=e,this.refreshView()},e.prototype.getModel=function(){return this.model},e.prototype.setCellRenderer=function(e){this.cellRenderer=e},e.prototype.refreshView=function(){i.removeAllChildren(this.eListParent),this.model&&this.model.length>0?this.insertRows():this.insertBlankMessage()},e.prototype.insertRows=function(){for(var e=0;e<this.model.length;e++){var t=this.model[e],o=this.eFilterValueTemplate.cloneNode(!0);if(this.cellRenderer){var r={value:t};i.useRenderer(o,this.cellRenderer,r)}else o.innerHTML=t;o.addEventListener("click",this.fireItemSelected.bind(this,t)),this.addDragAndDropToListItem(o,t),this.eListParent.appendChild(o)}},e.prototype.insertBlankMessage=function(){if(this.emptyMessage){var e=document.createElement("div");e.style.color="grey",e.style.padding="4px",e.style.textAlign="center",e.innerHTML=this.emptyMessage,this.eListParent.appendChild(e)}},e.prototype.setupAsDropTarget=function(){this.dragAndDropService.addDropTarget(this.eGui,{acceptDrag:this.externalAcceptDrag.bind(this),drop:this.externalDrop.bind(this),noDrop:this.externalNoDrop.bind(this)})},e.prototype.externalAcceptDrag=function(e){var t=this.dragSources.indexOf(e.containerId)>=0;if(!t)return!1;var i=this.model.indexOf(e.data)>=0;return i?!1:(this.eGui.style.backgroundColor="lightgreen",!0)},e.prototype.externalDrop=function(e){var t=e.data;this.fireBeforeDrop(t),this.readOnly||this.addItemToList(t),this.eGui.style.backgroundColor=""},e.prototype.externalNoDrop=function(){this.eGui.style.backgroundColor=""},e.prototype.addItemToList=function(e){this.model.push(e),this.refreshView(),this.fireModelChanged()},e.prototype.addDragAndDropToListItem=function(e,t){var i=this;this.dragAndDropService.addDragSource(e,{getData:function(){return t},getContainerId:function(){return i.uniqueId}}),this.dragAndDropService.addDropTarget(e,{acceptDrag:function(o){return i.internalAcceptDrag(t,o,e)},drop:function(e){i.internalDrop(t,e.data)},noDrop:function(){i.internalNoDrop(e)}})},e.prototype.internalAcceptDrag=function(e,i,o){var r=i.data!==e&&i.containerId===this.uniqueId;return r&&(this.dragAfterThisItem(e,i.data)?this.setDropCssClasses(o,t.DROP_TARGET_ABOVE):this.setDropCssClasses(o,t.DROP_TARGET_BELOW)),r},e.prototype.internalDrop=function(e,t){var i=this.model.indexOf(t),o=this.model.indexOf(e);this.readOnly?this.fireItemMoved(i,o):(this.model.splice(i,1),this.model.splice(o,0,t),this.refreshView(),this.fireModelChanged())},e.prototype.internalNoDrop=function(e){this.setDropCssClasses(e,t.NOT_DROP_TARGET)},e.prototype.dragAfterThisItem=function(e,t){return this.model.indexOf(e)<this.model.indexOf(t)},e.prototype.setDropCssClasses=function(e,o){i.addOrRemoveCssClass(e,"ag-not-drop-target",o===t.NOT_DROP_TARGET),i.addOrRemoveCssClass(e,"ag-drop-target-above",o===t.DROP_TARGET_ABOVE),i.addOrRemoveCssClass(e,"ag-drop-target-below",o===t.DROP_TARGET_BELOW)},e.prototype.getGui=function(){return this.eGui},e}();e.AgList=r}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=e.SvgFactory.getInstance(),o=function(){function o(t,i,o,r){this.dragAndDropService=r,this.gridOptionsWrapper=i,this.columnController=t,this.setupComponents(),o.addEventListener(e.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),o.addEventListener(e.Events.EVENT_COLUMN_MOVED,this.columnsChanged.bind(this)),o.addEventListener(e.Events.EVENT_COLUMN_VISIBLE,this.columnsChanged.bind(this))}return o.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getAllColumns())},o.prototype.getDragSource=function(){return this.cColumnList.getUniqueId()},o.prototype.columnCellRenderer=function(e){function o(){p.columnController.setColumnVisible(r,!r.visible)}var r=e.value,n=this.columnController.getDisplayNameForCol(r),s=document.createElement("span"),l=document.createElement("span");t.addCssClass(l,"ag-visible-icons");var a=t.createIcon("columnVisible",this.gridOptionsWrapper,r,i.createColumnShowingSvg),d=t.createIcon("columnHidden",this.gridOptionsWrapper,r,i.createColumnHiddenSvg);l.appendChild(a),l.appendChild(d),a.style.display=r.visible?"":"none",d.style.display=r.visible?"none":"",s.appendChild(l);var u=document.createElement("span");u.innerHTML=n,s.appendChild(u),r.visible||t.addCssClass(s,"ag-column-not-visible"),l.addEventListener("click",o);var p=this;return s},o.prototype.setupComponents=function(){this.cColumnList=new e.AgList(this.dragAndDropService),this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addItemMovedListener(this.onItemMoved.bind(this)),this.cColumnList.setReadOnly(!0);var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=t("columns","Columns"),o=document.createElement("div");o.innerHTML='<div style="text-align: center;">'+i+"</div>",this.layout=new e.BorderLayout({center:this.cColumnList.getGui(),north:o})},o.prototype.onItemMoved=function(e,t){this.columnController.moveColumn(e,t)},o.prototype.getGui=function(){return this.eRootPanel.getGui()},o}();e.ColumnSelectionPanel=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=e.SvgFactory.getInstance(),o=function(){function o(t,i,o,r,n){this.dragAndDropService=n,this.gridOptionsWrapper=o,this.setupComponents(),this.columnController=t,this.inMemoryRowController=i,r.addEventListener(e.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),r.addEventListener(e.Events.EVENT_COLUMN_PIVOT_CHANGE,this.columnsChanged.bind(this))}return o.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getPivotedColumns())},o.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},o.prototype.columnCellRenderer=function(e){var o=e.value,r=this.columnController.getDisplayNameForCol(o),n=document.createElement("span"),s=t.createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,o,i.createArrowUpSvg);t.addCssClass(s,"ag-visible-icons"),n.appendChild(s);var l=this;s.addEventListener("click",function(){l.columnController.removePivotColumn(o)});var a=document.createElement("span");return a.innerHTML=r,n.appendChild(a),n},o.prototype.setupComponents=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=t("pivotedColumns","Pivoted Columns"),o=t("pivotedColumnsEmptyMessage","Drag columns from above to pivot");this.cColumnList=new e.AgList(this.dragAndDropService),this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addBeforeDropListener(this.onBeforeDrop.bind(this)),this.cColumnList.addItemMovedListener(this.onItemMoved.bind(this)),this.cColumnList.setEmptyMessage(o),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.setReadOnly(!0);var r=document.createElement("div");r.style.paddingTop="10px",r.innerHTML='<div style="text-align: center;">'+i+"</div>",this.layout=new e.BorderLayout({center:this.cColumnList.getGui(),north:r})},o.prototype.onBeforeDrop=function(e){this.columnController.addPivotColumn(e)},o.prototype.onItemMoved=function(e,t){this.columnController.movePivotColumn(e,t)},o}();e.GroupSelectionPanel=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=e.SvgFactory.getInstance(),o=function(){function o(e,t){this.popupService=e,this.setupComponents(t),this.itemSelectedListeners=[]}return o.prototype.setWidth=function(e){this.eValue.style.width=e+"px",this.agList.addStyles({width:e+"px"})},o.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},o.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},o.prototype.setupComponents=function(i){this.eGui=document.createElement("span"),this.eValue=document.createElement("span"),this.eGui.appendChild(this.eValue),this.agList=new e.AgList(i),this.eValue.addEventListener("click",this.onClick.bind(this)),this.agList.addItemSelectedListener(this.itemSelected.bind(this)),this.agList.addCssClass("ag-popup-list"),t.addStylesToElement(this.eValue,{border:"1px solid darkgrey",display:"inline-block",paddingLeft:2}),t.addStylesToElement(this.eGui,{position:"relative"}),this.agList.addStyles({display:"inline-block",position:"absolute",top:0,left:0,backgroudColor:"white"})},o.prototype.itemSelected=function(e){this.setSelected(e),this.hidePopupCallback&&this.hidePopupCallback(),this.fireItemSelected(e)},o.prototype.onClick=function(){var e=this.agList.getGui();this.popupService.positionPopup(this.eGui,e,!1),this.hidePopupCallback=this.popupService.addAsModalPopup(e,!0)},o.prototype.getGui=function(){return this.eGui},o.prototype.setSelected=function(e){this.selectedItem=e,this.refreshView()},o.prototype.setCellRenderer=function(e){this.agList.setCellRenderer(e),this.cellRenderer=e},o.prototype.refreshView=function(){if(t.removeAllChildren(this.eValue),this.selectedItem)if(this.cellRenderer){var e={value:this.selectedItem};t.useRenderer(this.eValue,this.cellRenderer,e)}else this.eValue.appendChild(document.createTextNode(this.selectedItem));var o=i.createSmallArrowDownSvg();o.style["float"]="right",o.style.marginTop="6",o.style.marginRight="2",this.eValue.appendChild(o)},o.prototype.setModel=function(e){this.agList.setModel(e)},o}();e.AgDropdownList=o}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.SvgFactory.getInstance(),i=e.Constants,o=e.Utils,r=function(){function r(t,i,o,r,n){this.dragAndDropService=n,this.popupService=o,this.gridOptionsWrapper=i,this.setupComponents(),this.columnController=t,r.addEventListener(e.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.columnsChanged.bind(this)),r.addEventListener(e.Events.EVENT_COLUMN_VALUE_CHANGE,this.columnsChanged.bind(this))}return r.prototype.getLayout=function(){return this.layout},r.prototype.columnsChanged=function(){this.cColumnList.setModel(this.columnController.getValueColumns())},r.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},r.prototype.cellRenderer=function(r){var n=r.value,s=this.columnController.getDisplayNameForCol(n),l=document.createElement("span"),a=o.createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,n,t.createArrowUpSvg);o.addCssClass(a,"ag-visible-icons"),l.appendChild(a);var d=this;a.addEventListener("click",function(){d.columnController.removeValueColumn(n)});var u=new e.AgDropdownList(this.popupService,this.dragAndDropService);u.setModel([i.SUM,i.MIN,i.MAX]),u.setSelected(n.aggFunc),u.setWidth(45),u.addItemSelectedListener(function(e){d.columnController.setColumnAggFunction(n,e)}),l.appendChild(u.getGui());var p=document.createElement("span");return p.innerHTML=s,p.style.paddingLeft="2px",l.appendChild(p),l},r.prototype.setupComponents=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=t("valueColumns","Value Columns"),o=t("valueColumnsEmptyMessage","Drag columns from above to create values");this.cColumnList=new e.AgList(this.dragAndDropService),this.cColumnList.setCellRenderer(this.cellRenderer.bind(this)),this.cColumnList.setEmptyMessage(o),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addBeforeDropListener(this.beforeDropListener.bind(this)),this.cColumnList.setReadOnly(!0);var r=document.createElement("div");r.style.paddingTop="10px",r.innerHTML='<div style="text-align: center;">'+i+"</div>",this.layout=new e.BorderLayout({center:this.cColumnList.getGui(),north:r})},r.prototype.beforeDropListener=function(e){this.columnController.addValueColumn(e)},r}();e.ValuesSelectionPanel=r}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){this.isLayoutPanel=!0,this.childPanels=[],this.eGui=document.createElement("div"),this.eGui.style.height="100%"}return e.prototype.addPanel=function(e,t){var i;e.isLayoutPanel?(this.childPanels.push(e),i=e.getGui()):i=e,t&&(i.style.height=t),this.eGui.appendChild(i)},e.prototype.getGui=function(){return this.eGui},e.prototype.doLayout=function(){for(var e=0;e<this.childPanels.length;e++)this.childPanels[e].doLayout()},e}();e.VerticalStack=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=e.Utils,i=function(){function i(){this.layout=new e.VerticalStack}return i.prototype.init=function(i,o,r,n,s,l){var a=r.isToolPanelSuppressPivot(),d=r.isToolPanelSuppressValues(),u=!a,p=!a&&!d,h=new e.ColumnSelectionPanel(i,r,s,l),c=a?"100%":"50%";this.layout.addPanel(h.layout,c);var g=h.getDragSource();if(p){var f=new e.ValuesSelectionPanel(i,r,n,s,l);this.layout.addPanel(f.getLayout(),"25%"),f.addDragSource(g)}if(u){var v=new e.GroupSelectionPanel(i,o,r,s,l),C=p?"25%":"50%";this.layout.addPanel(v.layout,C),v.addDragSource(g)}var m=this.layout.getGui();t.addCssClass(m,"ag-tool-panel-container")},i}();e.ToolPanel=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function t(t,i,o,r,n,s,l,a,d,u,p,h){this.grid=t,this.rowRenderer=i,this.headerRenderer=o,this.filterManager=r,this.columnController=n,this.inMemoryRowController=s,this.selectionController=l,this.gridOptionsWrapper=a,this.gridPanel=d,this.valueService=u,this.masterSlaveService=p,this.eventService=h,this.csvCreator=new e.CsvCreator(this.inMemoryRowController,this.columnController,this.grid,this.valueService)}return t.prototype.__getMasterSlaveService=function(){return this.masterSlaveService},t.prototype.getDataAsCsv=function(e){return this.csvCreator.getDataAsCsv(e)},t.prototype.exportDataAsCsv=function(e){this.csvCreator.exportDataAsCsv(e)},t.prototype.setDatasource=function(e){this.grid.setDatasource(e)},t.prototype.onNewDatasource=function(){console.log("ag-Grid: onNewDatasource deprecated, please use setDatasource()"),this.grid.setDatasource()},t.prototype.setRowData=function(e){this.grid.setRowData(e)},t.prototype.setRows=function(e){console.log("ag-Grid: setRows deprecated, please use setRowData()"),this.grid.setRowData(e)},t.prototype.onNewRows=function(){console.log("ag-Grid: onNewRows deprecated, please use setRowData()"),this.grid.setRowData()},t.prototype.setFloatingTopRowData=function(e){this.gridOptionsWrapper.setFloatingTopRowData(e),this.gridPanel.onBodyHeightChange(),this.refreshView()},t.prototype.setFloatingBottomRowData=function(e){this.gridOptionsWrapper.setFloatingBottomRowData(e),this.gridPanel.onBodyHeightChange(),this.refreshView()},t.prototype.onNewCols=function(){console.error("ag-Grid: deprecated, please call setColumnDefs instead providing a list of the defs"),this.grid.setColumnDefs()},t.prototype.setColumnDefs=function(e){this.grid.setColumnDefs(e)},t.prototype.unselectAll=function(){console.error("unselectAll deprecated, call deselectAll instead"),this.deselectAll()},t.prototype.refreshRows=function(e){this.rowRenderer.refreshRows(e)},t.prototype.refreshCells=function(e,t){this.rowRenderer.refreshCells(e,t)},t.prototype.rowDataChanged=function(e){this.rowRenderer.rowDataChanged(e)},t.prototype.refreshView=function(){this.rowRenderer.refreshView()},t.prototype.softRefreshView=function(){this.rowRenderer.softRefreshView()},t.prototype.refreshGroupRows=function(){this.rowRenderer.refreshGroupRows()},t.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons()},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.grid.getRowModel()},t.prototype.onGroupExpandedOrCollapsed=function(t){this.grid.updateModelAndRefresh(e.Constants.STEP_MAP,t)},t.prototype.expandAll=function(){this.inMemoryRowController.expandOrCollapseAll(!0,null),this.grid.updateModelAndRefresh(e.Constants.STEP_MAP)},t.prototype.collapseAll=function(){this.inMemoryRowController.expandOrCollapseAll(!1,null),this.grid.updateModelAndRefresh(e.Constants.STEP_MAP)},t.prototype.addVirtualRowListener=function(e,t){this.grid.addVirtualRowListener(e,t)},t.prototype.setQuickFilter=function(e){this.grid.onQuickFilterChanged(e)},t.prototype.selectIndex=function(e,t,i){this.selectionController.selectIndex(e,t,i)},t.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),this.selectionController.deselectIndex(e,t)},t.prototype.selectNode=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),this.selectionController.selectNode(e,t,i)},t.prototype.deselectNode=function(e){this.selectionController.deselectNode(e)},t.prototype.selectAll=function(){this.selectionController.selectAll(),this.rowRenderer.refreshView()},t.prototype.deselectAll=function(){this.selectionController.deselectAll(),this.rowRenderer.refreshView()},t.prototype.recomputeAggregates=function(){this.inMemoryRowController.doAggregate(),this.rowRenderer.refreshGroupRows()},t.prototype.sizeColumnsToFit=function(){if(this.gridOptionsWrapper.isForPrint())return void console.warn("ag-grid: sizeColumnsToFit does not work when forPrint=true");var e=this.gridPanel.getWidthForSizeColsToFit();this.columnController.sizeColumnsToFit(e)},t.prototype.showLoadingOverlay=function(){this.grid.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.grid.showNoRowsOverlay()},t.prototype.showToolOverlay=function(){this.grid.showToolOverlay()},t.prototype.hideOverlay=function(){this.grid.hideOverlay()},t.prototype.showLoading=function(e){console.warn("ag-Grid: showLoading is deprecated, please use api.showLoadingOverlay() and api.hideOverlay() instead"),e?this.grid.showLoadingOverlay():this.grid.hideOverlay()},t.prototype.isNodeSelected=function(e){return this.selectionController.isNodeSelected(e)},t.prototype.getSelectedNodesById=function(){return this.selectionController.getSelectedNodesById()},t.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColIndexVisible=function(e){this.gridPanel.ensureColIndexVisible(e)},t.prototype.ensureIndexVisible=function(e){this.gridPanel.ensureIndexVisible(e)},t.prototype.ensureNodeVisible=function(e){this.grid.ensureNodeVisible(e)},t.prototype.forEachInMemory=function(e){console.warn("ag-Grid: please use forEachNode instead of forEachInMemory, method is same, I just renamed it, forEachInMemory is deprecated"),this.forEachNode(e)},t.prototype.forEachNode=function(e){this.grid.getRowModel().forEachNode(e)},t.prototype.forEachNodeAfterFilter=function(e){this.grid.getRowModel().forEachNodeAfterFilter(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.grid.getRowModel().forEachNodeAfterFilterAndSort(e)},t.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterApi(e)},t.prototype.getFilterApi=function(e){var t=this.columnController.getColumn(e);return this.filterManager.getFilterApi(t)},t.prototype.getColumnDef=function(e){var t=this.columnController.getColumn(e);return t?t.colDef:null},t.prototype.onFilterChanged=function(){this.grid.onFilterChanged()},t.prototype.setSortModel=function(e){this.grid.setSortModel(e)},t.prototype.getSortModel=function(){return this.grid.getSortModel()},t.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},t.prototype.getFilterModel=function(){return this.grid.getFilterModel()},t.prototype.getFocusedCell=function(){return this.rowRenderer.getFocusedCell()},t.prototype.setFocusedCell=function(e,t){this.grid.setFocusedCell(e,t)},t.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setHeaderHeight(e),this.gridPanel.onBodyHeightChange()},t.prototype.setGroupHeaders=function(e){this.gridOptionsWrapper.setGroupHeaders(e),this.columnController.onColumnsChanged(),this.gridPanel.onBodyHeightChange()},t.prototype.showToolPanel=function(e){this.grid.showToolPanel(e)},t.prototype.isToolPanelShowing=function(){return this.grid.isToolPanelShowing()},t.prototype.hideColumn=function(e,t){console.warn("ag-Grid: hideColumn deprecated - use hideColumn on columnApi instead eg api.columnApi.hideColumn()"),this.columnController.hideColumns([e],t)},t.prototype.hideColumns=function(e,t){console.warn("ag-Grid: hideColumns deprecated - use hideColumns on columnApi instead eg api.columnApi.hideColumns()"),this.columnController.hideColumns(e,t)},t.prototype.getColumnState=function(){return console.warn("ag-Grid: getColumnState deprecated - use getColumnState on columnApi instead eg api.columnApi.getState()"),this.columnController.getState()},t.prototype.setColumnState=function(e){console.warn("ag-Grid: setColumnState deprecated - use setColumnState on columnApi instead eg api.columnApi.setState()"),this.columnController.setState(e)},t.prototype.doLayout=function(){this.grid.doLayout()},t.prototype.getValue=function(e,t,i){return this.valueService.getValue(e,t,i)},t.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},t.prototype.addGlobalListener=function(e){this.eventService.addGlobalListener(e)},t.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},t.prototype.removeGlobalListener=function(e){this.eventService.removeGlobalListener(e)},t.prototype.dispatchEvent=function(e,t){this.eventService.dispatchEvent(e,t)},t.prototype.refreshPivot=function(){this.grid.refreshPivot()},t.prototype.destroy=function(){this.grid.destroy()},t}();e.GridApi=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.init=function(e,t,i){this.gridOptionsWrapper=e,this.expressionService=t,this.columnController=i},e.prototype.getValue=function(e,t,i){var o,r=this.gridOptionsWrapper.isEnableCellExpressions(),n=e.field;if(o=e.valueGetter?this.executeValueGetter(e.valueGetter,t,e,i):n&&t?t[n]:void 0,r&&"string"==typeof o&&0===o.indexOf("=")){var s=o.substring(1);o=this.executeValueGetter(s,t,e,i)}return o},e.prototype.executeValueGetter=function(e,t,i,o){var r=this.gridOptionsWrapper.getContext(),n=this.gridOptionsWrapper.getApi(),s={data:t,node:o,colDef:i,api:n,context:r,getValue:this.getValueCallback.bind(this,t,o)};return"function"==typeof e?e(s):"string"==typeof e?this.expressionService.evaluate(e,s):void 0},e.prototype.getValueCallback=function(e,t,i){var o=this.columnController.getColumn(i);return o?this.getValue(o.colDef,e,t):null},e}();e.ValueService=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function t(t,i,o,r,n,s){void 0===o&&(o=null),void 0===r&&(r=null),void 0===n&&(n=null),void 0===s&&(s=null),this.virtualRowCallbacks={},this.gridOptions=i,this.setupComponents(r,n,t,o),this.gridOptions.api=new e.GridApi(this,this.rowRenderer,this.headerRenderer,this.filterManager,this.columnController,this.inMemoryRowController,this.selectionController,this.gridOptionsWrapper,this.gridPanel,this.valueService,this.masterSlaveService,this.eventService),this.gridOptions.columnApi=this.columnController.getColumnApi();var l=this;r&&r.$watch(s,function(e){l.onQuickFilterChanged(e)}),this.gridOptionsWrapper.isForPrint()||this.addWindowResizeListener(),this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getRowData()),this.setupColumns(),this.updateModelAndRefresh(e.Constants.STEP_EVERYTHING),this.decideStartingOverlay(),this.gridOptionsWrapper.getDatasource()&&this.setDatasource(),this.doLayout(),this.finished=!1,this.periodicallyDoLayout();var a={api:i.api};this.eventService.dispatchEvent(e.Events.EVENT_READY,a),this.gridPanel.initRowOverlay(),this.logger.log("initialised")}return t.prototype.decideStartingOverlay=function(){var e=!this.gridOptionsWrapper.isVirtualPaging();if(e){var t=!this.gridOptionsWrapper.getRowData(),i=this.gridOptionsWrapper.getRowData()&&0==this.gridOptionsWrapper.getRowData().length;t&&this.showLoadingOverlay(),i&&this.showNoRowsOverlay()}this.showOverlayRow()},t.prototype.addWindowResizeListener=function(){var e=this;this.windowResizeListener=function(t){e.doLayout(),e.gridPanel.initRowOverlay()},window.addEventListener("resize",this.windowResizeListener)},t.prototype.getRowModel=function(){return this.rowModel},t.prototype.getId=function(){return this.eUserProvidedDiv.id},t.prototype.periodicallyDoLayout=function(){if(!this.finished){var e=this;setTimeout(function(){e.doLayout(),e.periodicallyDoLayout()},500)}},t.prototype.setupComponents=function(t,i,o,r){this.eUserProvidedDiv=o;var n=new e.EventService,s=new e.GridOptionsWrapper,l=new e.SelectionController,a=new e.FilterManager,d=new e.SelectionRendererFactory,u=new e.ColumnController,p=new e.RowRenderer,h=new e.HeaderRenderer,c=new e.InMemoryRowController,g=new e.VirtualPageRowController,f=new e.ExpressionService,v=new e.TemplateService,C=new e.GridPanel,m=new e.PopupService,y=new e.ValueService,E=new e.GroupCreator,w=new e.MasterSlaveService,R=new e.LoggerFactory,S=new e.DragAndDropService;s.init(this.gridOptions,n),R.init(s),this.logger=R.create("Grid"),this.logger.log("initialising"),S.init(R),n.init(R),C.init(s,u,p,w,n),v.init(t),f.init(R),l.init(this,C,s,t,p,n),a.init(this,s,i,t,u,m,y),d.init(this,l),u.init(this,d,s,f,y,w,n),p.init(u,s,C,this,d,i,t,l,f,v,y,n),h.init(s,u,C,this,a,t,i,S,m),c.init(s,u,this,a,t,E,y,n),g.init(p,s,this),y.init(s,f,u),E.init(y),w.init(s,u,C,R,n),r&&n.addGlobalListener(r);var O=null,L=null;s.isForPrint()||(L=new e.ToolPanel,O=L.layout,L.init(u,c,s,m,n,S));var A=c.getModel();l.setRowModel(A),a.setRowModel(A),p.setRowModel(A),C.setRowModel(A);var T=null,b=null;s.isForPrint()||(T=new e.PaginationController,T.init(this,s),b=T.getGui()),this.rowModel=A,this.usingInMemoryModel=!0,this.selectionController=l,this.columnController=u,this.inMemoryRowController=c,this.virtualPageRowController=g,this.rowRenderer=p,this.headerRenderer=h,this.paginationController=T,this.filterManager=a,this.toolPanel=L,this.gridPanel=C,this.valueService=y,this.masterSlaveService=w,this.eventService=n,this.gridOptionsWrapper=s,this.dragAndDropService=S,this.eRootPanel=new e.BorderLayout({center:C.getLayout(),east:O,south:b,dontFill:s.isForPrint(),name:"eRootPanel"}),m.init(this.eRootPanel.getGui()),this.eRootPanel.setSouthVisible(!1),this.showToolPanel(s.isShowToolPanel()),o.appendChild(this.eRootPanel.getGui()),this.logger.log("grid DOM added"),this.eventService.addEventListener("selectionStateChanged",function(e){h.toggleSelectAll(e)}),n.addEventListener(e.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnChanged.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_GROUP_OPENED,this.onColumnChanged.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_MOVED,this.onColumnChanged.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_PINNED_COUNT_CHANGED,this.onColumnChanged.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_PIVOT_CHANGE,this.onColumnChanged.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_RESIZED,this.onColumnChanged.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_VALUE_CHANGE,this.onColumnChanged.bind(this)),n.addEventListener(e.Events.EVENT_COLUMN_VISIBLE,this.onColumnChanged.bind(this)),n.addEventListener(e.Events.EVENT_ALL_ROWS_LISTEN_MOUSE_MOVE,this.onRowsListenMouseMove.bind(this)),n.addEventListener(e.Events.EVENT_ALL_ROWS_STOP_LISTEN_MOUSE_MOVE,this.onRowsStopListenMouseMove.bind(this))},t.prototype.onRowsListenMouseMove=function(){this.rowRenderer.setListenMouseMove()},t.prototype.onRowsStopListenMouseMove=function(){this.rowRenderer.setListenMouseMove(!1)},t.prototype.onColumnChanged=function(e){this.rowRenderer.countGridRows(),e.isPivotChanged()&&this.inMemoryRowController.onPivotChanged(),e.isValueChanged()&&this.inMemoryRowController.doAggregate(),e.isIndividualColumnResized()?this.onIndividualColumnResized(e.getColumn()):this.refreshHeaderAndBody(),this.gridPanel.showPinnedColContainersIfNeeded()},t.prototype.refreshPivot=function(){this.columnController.onColumnsChanged(),this.inMemoryRowController.onPivotChanged(),this.refreshHeaderAndBody(),this.gridPanel.initRowOverlay()},t.prototype.getEventService=function(){return this.eventService},t.prototype.onIndividualColumnResized=function(e){this.headerRenderer.onIndividualColumnResized(e),this.rowRenderer.onIndividualColumnResized(e),e.pinned?this.updatePinnedColContainerWidthAfterColResize():this.updateBodyContainerWidthAfterColResize(),this.gridPanel.initRowOverlay()},t.prototype.showToolPanel=function(e){return this.toolPanel?(this.toolPanelShowing=e,void this.eRootPanel.setEastVisible(e)):void(this.toolPanelShowing=!1)},t.prototype.isToolPanelShowing=function(){return this.toolPanelShowing},t.prototype.isUsingInMemoryModel=function(){return this.usingInMemoryModel},t.prototype.setDatasource=function(e){e&&(this.gridOptions.datasource=e);var t=this.gridOptionsWrapper.getDatasource();this.doingVirtualPaging=this.gridOptionsWrapper.isVirtualPaging()&&t,this.doingPagination=t&&!this.doingVirtualPaging;var i;this.doingVirtualPaging?(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(t),this.rowModel=this.virtualPageRowController.getModel(),this.usingInMemoryModel=!1,i=!1):this.doingPagination?(this.paginationController.setDatasource(t),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.usingInMemoryModel=!0,i=!0):(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),this.usingInMemoryModel=!0,i=!1),this.selectionController.setRowModel(this.rowModel),this.filterManager.setRowModel(this.rowModel),this.rowRenderer.setRowModel(this.rowModel),this.gridPanel.setRowModel(this.rowModel),this.eRootPanel.setSouthVisible(i),this.rowRenderer.refreshView(),this.doLayout()},t.prototype.refreshHeaderAndBody=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons(),this.headerRenderer.updateSortIcons(),this.gridPanel.setBodyContainerWidth(),this.gridPanel.setPinnedColContainerWidth(),this.rowRenderer.refreshView()},t.prototype.destroy=function(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.logger.log("Removing windowResizeListener")),this.finished=!0,this.dragAndDropService.destroy(),this.eUserProvidedDiv.removeChild(this.eRootPanel.getGui()),this.logger.log("Grid DOM removed")},t.prototype.onQuickFilterChanged=function(e){var t=this.filterManager.setQuickFilter(e);t&&this.onFilterChanged()},t.prototype.onFilterModified=function(){this.eventService.dispatchEvent(e.Events.EVENT_FILTER_MODIFIED)},t.prototype.onFilterChanged=function(){this.eventService.dispatchEvent(e.Events.EVENT_BEFORE_FILTER_CHANGED),this.filterManager.onFilterChanged(),this.headerRenderer.updateFilterIcons(),this.gridOptionsWrapper.isEnableServerSideFilter()?this.setDatasource():this.updateModelAndRefresh(e.Constants.STEP_FILTER),this.eventService.dispatchEvent(e.Events.EVENT_AFTER_FILTER_CHANGED)},t.prototype.onRowClicked=function(e,t,i){if(!i.group&&!i.floating){var o=this.gridOptionsWrapper,r=this.selectionController;if(o.isRowSelection()&&!o.isSuppressRowClickSelection()){var n=e&&r.isNodeSelected(i)&&o.isRowDeselection();n?r.deselectNode(i):r.selectNode(i,e)}}},t.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},t.prototype.showToolOverlay=function(){this.gridPanel.showToolOverlay()},t.prototype.showOverlayRow=function(){this.gridPanel.showOverlayRow()},t.prototype.hideOverlay=function(){
this.gridPanel.hideOverlay()},t.prototype.setupColumns=function(){this.columnController.onColumnsChanged(),this.gridPanel.showPinnedColContainersIfNeeded()},t.prototype.updateModelAndRefresh=function(e,t){this.inMemoryRowController.updateModel(e),this.rowRenderer.refreshView(t)},t.prototype.setRowData=function(t,i){t&&(this.gridOptions.rowData=t);var o=this.gridOptionsWrapper.getRowData();this.inMemoryRowController.setAllRows(o,i),this.selectionController.deselectAll(),this.filterManager.onNewRowsLoaded(),this.updateModelAndRefresh(e.Constants.STEP_EVERYTHING),this.headerRenderer.updateFilterIcons(),o&&o.length>0?this.hideOverlay():this.showNoRowsOverlay()},t.prototype.ensureNodeVisible=function(e){if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";for(var t=this.rowModel.getVirtualRowCount(),i="function"==typeof e,o=-1,r=0;t>r;r++){var n=this.rowModel.getVirtualRow(r);if(i){if(e(n)){o=r;break}}else if(e===n||e===n.data){o=r;break}}o>=0&&this.gridPanel.ensureIndexVisible(o)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.setFocusedCell=function(e,t){this.gridPanel.ensureIndexVisible(e),this.gridPanel.ensureColIndexVisible(t);var i=this;setTimeout(function(){i.rowRenderer.setFocusedCell(e,t)},10)},t.prototype.getSortModel=function(){var e,t=this.columnController.getAllColumns(),i=[];for(e=0;e<t.length;e++)t[e].sort&&i.push(t[e]);i.sort(function(e,t){return e.sortedAt-t.sortedAt});var o=[];for(e=0;e<i.length;e++){var r={colId:i[e].colId,sort:i[e].sort};o.push(r)}return o},t.prototype.setSortModel=function(e){if(!this.gridOptionsWrapper.isEnableSorting())return void console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled");for(var t=null!==e&&void 0!==e&&e.length>0,i=this.columnController.getAllColumns(),o=0;o<i.length;o++){var r=i[o],n=null,s=-1;if(t&&!r.colDef.suppressSorting)for(var l=0;l<e.length;l++){var a=e[l];"string"==typeof a.colId&&"string"==typeof r.colId&&a.colId===r.colId&&(n=a.sort,s=l)}n?(r.sort=n,r.sortedAt=s):(r.sort=null,r.sortedAt=null)}this.onSortingChanged()},t.prototype.onSortingChanged=function(){this.eventService.dispatchEvent(e.Events.EVENT_BEFORE_SORT_CHANGED),this.headerRenderer.updateSortIcons(),this.gridOptionsWrapper.isEnableServerSideSorting()?this.setDatasource():this.updateModelAndRefresh(e.Constants.STEP_SORT),this.eventService.dispatchEvent(e.Events.EVENT_AFTER_SORT_CHANGED)},t.prototype.addVirtualRowListener=function(e,t){this.virtualRowCallbacks[e]||(this.virtualRowCallbacks[e]=[]),this.virtualRowCallbacks[e].push(t)},t.prototype.onVirtualRowSelected=function(e,t){this.virtualRowCallbacks[e]&&this.virtualRowCallbacks[e].forEach(function(e){"function"==typeof e.rowSelected&&e.rowSelected(t)}),this.rowRenderer.onRowSelected(e,t)},t.prototype.onVirtualRowRemoved=function(e){this.virtualRowCallbacks[e]&&this.virtualRowCallbacks[e].forEach(function(e){"function"==typeof e.rowRemoved&&e.rowRemoved()}),delete this.virtualRowCallbacks[e]},t.prototype.setColumnDefs=function(t){t&&(this.gridOptions.columnDefs=t),this.setupColumns(),this.updateModelAndRefresh(e.Constants.STEP_EVERYTHING),this.doLayout()},t.prototype.updateBodyContainerWidthAfterColResize=function(){this.rowRenderer.setMainRowWidths(),this.gridPanel.setBodyContainerWidth()},t.prototype.updatePinnedColContainerWidthAfterColResize=function(){this.gridPanel.setPinnedColContainerWidth()},t.prototype.doLayout=function(){var e=this.eRootPanel.doLayout();e&&this.rowRenderer.drawVirtualRows()},t}();e.Grid=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(e){var t=function(){function e(){}return e.copyAttributesToGridOptions=function(t,i){"object"!=typeof t&&(t={});var o=t;return e.SIMPLE_PROPERTIES.concat(e.WITH_IMPACT_OTHER_PROPERTIES).forEach(function(e){"undefined"!=typeof i[e]&&(o[e]=i[e])}),e.SIMPLE_BOOLEAN_PROPERTIES.concat(e.WITH_IMPACT_BOOLEAN_PROPERTIES).forEach(function(t){"undefined"!=typeof i[t]&&(o[t]=e.toBoolean(i[t]))}),e.SIMPLE_NUMBER_PROPERTIES.concat(e.WITH_IMPACT_NUMBER_PROPERTIES).forEach(function(t){"undefined"!=typeof i[t]&&(o[t]=e.toNumber(i[t]))}),t},e.processOnChange=function(t,i,o){if(o._initialised&&t){var r=i;e.SIMPLE_PROPERTIES.forEach(function(e){t[e]&&(r[e]=t[e].currentValue)}),e.SIMPLE_BOOLEAN_PROPERTIES.forEach(function(i){t[i]&&(r[i]=e.toBoolean(t[i].currentValue))}),e.SIMPLE_NUMBER_PROPERTIES.forEach(function(i){t[i]&&(r[i]=e.toNumber(t[i].currentValue))}),t.showToolPanel&&o.api.showToolPanel(o.showToolPanel),t.quickFilterText&&o.api.setQuickFilter(o.quickFilterText),t.rowData&&o.api.setRowData(o.rowData),t.floatingTopRowData&&o.api.setFloatingTopRowData(o.floatingTopRowData),t.floatingBottomRowData&&o.api.setFloatingBottomRowData(o.floatingBottomRowData),t.columnDefs&&o.api.setColumnDefs(o.columnDefs),t.datasource&&o.api.setDatasource(o.datasource),t.pinnedColumnCount&&o.columnApi.setPinnedColumnCount(o.pinnedColumnCount),t.pinnedColumnCount&&o.columnApi.setPinnedColumnCount(o.pinnedColumnCount),t.groupHeaders&&o.api.setGroupHeaders(o.groupHeaders),t.headerHeight&&o.api.setHeaderHeight(o.headerHeight),t.groupKeys&&(o.gridOptions.groupKeys=o.groupKeys),t.groupAggFunction&&(o.gridOptions.groupAggFunction=o.groupAggFunction),t.groupAggFields&&(o.gridOptions.groupAggFields=o.groupAggFields)}},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e?"TRUE"===e.toUpperCase()||""==e:!1},e.toNumber=function(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0},e.SIMPLE_PROPERTIES=["sortingOrder","icons","localeText","localeTextFunc","groupColumnDef","context","rowStyle","rowClass","headerCellRenderer","groupDefaultExpanded","slaveGrids","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate"],e.SIMPLE_NUMBER_PROPERTIES=["rowHeight","rowBuffer","colWidth"],e.SIMPLE_BOOLEAN_PROPERTIES=["virtualPaging","toolPanelSuppressPivot","toolPanelSuppressValues","rowsAlreadyGrouped","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","debug","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupHidePivotColumns","groupIncludeFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","suppressScrollLag","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay"],e.WITH_IMPACT_NUMBER_PROPERTIES=["pinnedColumnCount","headerHeight"],e.WITH_IMPACT_BOOLEAN_PROPERTIES=["groupHeaders","showToolPanel"],e.WITH_IMPACT_OTHER_PROPERTIES=["rowData","floatingTopRowData","floatingBottomRowData","groupKeys","groupAggFields","columnDefs","datasource","quickFilterText"],e.CALLBACKS=["groupRowInnerRenderer","groupRowRenderer","groupAggFunction","isScrollLag","isExternalFilterPresent","doesExternalFilterPass","getRowClass","getRowStyle","headerCellRenderer"],e.ALL_PROPERTIES=e.SIMPLE_PROPERTIES.concat(e.SIMPLE_NUMBER_PROPERTIES).concat(e.SIMPLE_BOOLEAN_PROPERTIES).concat(e.WITH_IMPACT_NUMBER_PROPERTIES).concat(e.WITH_IMPACT_BOOLEAN_PROPERTIES).concat(e.WITH_IMPACT_OTHER_PROPERTIES),e}();e.ComponentUtil=t}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(t){function i(e){o=e,r.annotations=[new o.Component({selector:"ag-grid-ng2",outputs:["modelUpdated","cellClicked","cellDoubleClicked","cellContextMenu","cellValueChanged","cellFocused","rowSelected","rowDeselected","selectionChanged","beforeFilterChanged","afterFilterChanged","filterModified","beforeSortChanged","afterSortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","ready","columnEverythingChanged","columnPivotChanged","columnValueChanged","columnMoved","columnVisible","columnGroupOpened","columnResized","columnPinnedCountChanged"],inputs:["gridOptions"].concat(t.ComponentUtil.SIMPLE_PROPERTIES).concat(t.ComponentUtil.SIMPLE_BOOLEAN_PROPERTIES).concat(t.ComponentUtil.SIMPLE_NUMBER_PROPERTIES).concat(t.ComponentUtil.WITH_IMPACT_OTHER_PROPERTIES).concat(t.ComponentUtil.WITH_IMPACT_BOOLEAN_PROPERTIES).concat(t.ComponentUtil.WITH_IMPACT_NUMBER_PROPERTIES).concat(t.ComponentUtil.CALLBACKS),compileChildren:!1}),new o.View({template:"",encapsulation:o.ViewEncapsulation.None})],r.parameters=[[o.ElementRef]]}var o,r=function(){function i(e){this.elementDef=e,this._initialised=!1,this.modelUpdated=new o.EventEmitter,this.cellClicked=new o.EventEmitter,this.cellDoubleClicked=new o.EventEmitter,this.cellContextMenu=new o.EventEmitter,this.cellValueChanged=new o.EventEmitter,this.cellFocused=new o.EventEmitter,this.rowSelected=new o.EventEmitter,this.rowDeselected=new o.EventEmitter,this.selectionChanged=new o.EventEmitter,this.beforeFilterChanged=new o.EventEmitter,this.afterFilterChanged=new o.EventEmitter,this.filterModified=new o.EventEmitter,this.beforeSortChanged=new o.EventEmitter,this.afterSortChanged=new o.EventEmitter,this.virtualRowRemoved=new o.EventEmitter,this.rowClicked=new o.EventEmitter,this.rowDoubleClicked=new o.EventEmitter,this.ready=new o.EventEmitter,this.columnEverythingChanged=new o.EventEmitter,this.columnPivotChanged=new o.EventEmitter,this.columnValueChanged=new o.EventEmitter,this.columnMoved=new o.EventEmitter,this.columnVisible=new o.EventEmitter,this.columnGroupOpened=new o.EventEmitter,this.columnResized=new o.EventEmitter,this.columnPinnedCountChanged=new o.EventEmitter}return i.prototype.onInit=function(){this.gridOptions=t.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this);var i=this.elementDef.nativeElement,o=this.globalEventListener.bind(this);this._agGrid=new e.grid.Grid(i,this.gridOptions,o),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this._initialised=!0},i.prototype.onChanges=function(e){t.ComponentUtil.processOnChange(e,this.gridOptions,this)},i.prototype.onDestroy=function(){this.api.destroy()},i.prototype.globalEventListener=function(e,i){var o;switch(e){case t.Events.EVENT_COLUMN_GROUP_OPENED:o=this.columnGroupOpened;break;case t.Events.EVENT_COLUMN_EVERYTHING_CHANGED:o=this.columnEverythingChanged;break;case t.Events.EVENT_COLUMN_MOVED:o=this.columnMoved;break;case t.Events.EVENT_COLUMN_PINNED_COUNT_CHANGED:o=this.columnPinnedCountChanged;break;case t.Events.EVENT_COLUMN_PIVOT_CHANGE:o=this.columnPivotChanged;break;case t.Events.EVENT_COLUMN_RESIZED:o=this.columnResized;break;case t.Events.EVENT_COLUMN_VALUE_CHANGE:o=this.columnValueChanged;break;case t.Events.EVENT_COLUMN_VISIBLE:o=this.columnVisible;break;case t.Events.EVENT_MODEL_UPDATED:o=this.modelUpdated;break;case t.Events.EVENT_CELL_CLICKED:o=this.cellClicked;break;case t.Events.EVENT_CELL_DOUBLE_CLICKED:o=this.cellDoubleClicked;break;case t.Events.EVENT_CELL_CONTEXT_MENU:o=this.cellContextMenu;break;case t.Events.EVENT_CELL_VALUE_CHANGED:o=this.cellValueChanged;break;case t.Events.EVENT_CELL_FOCUSED:o=this.cellFocused;break;case t.Events.EVENT_ROW_SELECTED:o=this.rowSelected;break;case t.Events.EVENT_ROW_DESELECTED:o=this.rowDeselected;break;case t.Events.EVENT_SELECTION_CHANGED:o=this.selectionChanged;break;case t.Events.EVENT_BEFORE_FILTER_CHANGED:o=this.beforeFilterChanged;break;case t.Events.EVENT_AFTER_FILTER_CHANGED:o=this.afterFilterChanged;break;case t.Events.EVENT_AFTER_SORT_CHANGED:o=this.afterSortChanged;break;case t.Events.EVENT_BEFORE_SORT_CHANGED:o=this.beforeSortChanged;break;case t.Events.EVENT_FILTER_MODIFIED:o=this.filterModified;break;case t.Events.EVENT_VIRTUAL_ROW_REMOVED:o=this.virtualRowRemoved;break;case t.Events.EVENT_ROW_CLICKED:o=this.rowClicked;break;case t.Events.EVENT_ROW_DOUBLE_CLICKED:o=this.rowDoubleClicked;break;case t.Events.EVENT_READY:o=this.ready;break;default:return void console.log("ag-Grid: AgGridNg2 - unknown event type: "+e)}o.next(i)},i}();if(t.AgGridNg2=r,window.ng&&window.ng.Component){var n=window.ng;i(n)}t.initialiseAgGridWithAngular2=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(t){function i(e){var t=e.module("agGrid",[]);t.directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",o],scope:!0}})}function o(t,i,o,r){var n,s,l=r.agGrid;if(s=l+".quickFilterText",n=i.$eval(l),!n)return void console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope");var a=t[0],d=new e.grid.Grid(a,n,null,i,o,s);i.$on("$destroy",function(){d.destroy()})}var r=window.angular;"undefined"!=typeof r&&"undefined"!=typeof r.module&&"undefined"!==r.directive&&i(r),t.initialiseAgGridWithAngular1=i}(t=e.grid||(e.grid={}))}(ag||(ag={}));var ag;!function(e){var t;!function(t){function i(e){if("string"==typeof e){var t=e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});return t}return e}if(document.registerElement){var o=Object.create(HTMLElement.prototype);t.ComponentUtil.ALL_PROPERTIES.forEach(function(e){Object.defineProperty(o,e,{set:function(t){this.__agGridSetProperty(e,t)},get:function(){return this.__agGridGetProperty(e)}})}),o.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var i={};i[e]={currentValue:t},this.onChange(i)},o.onChange=function(e){t.ComponentUtil.processOnChange(e,this.gridOptions,this)},o.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},o.setGridOptions=function(i){var o=this.globalEventListener.bind(this);this._gridOptions=t.ComponentUtil.copyAttributesToGridOptions(i,this),this._agGrid=new e.grid.Grid(this,this._gridOptions,o),this.api=i.api,this.columnApi=i.columnApi,this._initialised=!0},o.createdCallback=function(){for(var e=0;e<this.attributes.length;e++){var t=this.attributes[e];this.setPropertyFromAttribute(t)}},o.setPropertyFromAttribute=function(e){var o=i(e.nodeName),r=e.nodeValue;t.ComponentUtil.ALL_PROPERTIES.indexOf(o)>=0&&(this[o]=r)},o.attachedCallback=function(e){},o.detachedCallback=function(e){},o.attributeChangedCallback=function(e){var t=this.attributes[e];this.setPropertyFromAttribute(t)},o.globalEventListener=function(e,t){var i=e.toLowerCase(),o=new Event(i),r=o;r.agGridDetails=t,this.dispatchEvent(o);var n="on"+i;"function"==typeof this[n]&&this[n](o)},document.registerElement("ag-grid",{prototype:o})}}(t=e.grid||(e.grid={}))}(ag||(ag={})),function(){function e(e,t){var i;if("string"==typeof e){if(i=document.querySelector(e),!i)return void console.warn("WARNING - was not able to find element "+e+" in the DOM, ag-Grid initialisation aborted.")}else i=e;new ag.grid.Grid(i,t)}var t=this;"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.angularGrid=e),t.agGridGlobalFunc=e}.call(window);